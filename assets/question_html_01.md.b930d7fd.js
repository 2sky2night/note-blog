import{_ as t,o as d,c as a,Q as e}from"./chunks/framework.273ff57c.js";const E=JSON.parse('{"title":"限制文件域上传的类型","description":"","frontmatter":{},"headers":[],"relativePath":"question/html/01.md","filePath":"question/html/01.md","lastUpdated":1699188084000}'),o={name:"question/html/01.md"},s=e(`<h1 id="限制文件域上传的类型" tabindex="-1">限制文件域上传的类型 <a class="header-anchor" href="#限制文件域上传的类型" aria-label="Permalink to &quot;限制文件域上传的类型&quot;">​</a></h1><p>​ input 上传文件时时常需要限制文件的类型，一般都是通过文件域更新时获取文件判断文件类型，些许有些复杂，下面介绍一种通过 html 属性就可以限制类型的方法。</p><p>IE9 及以下不支持下面这些功能，其它浏览器最新版本均已支持。</p><h2 id="_1、允许上传文件数量" tabindex="-1">1、允许上传文件数量 <a class="header-anchor" href="#_1、允许上传文件数量" aria-label="Permalink to &quot;1、允许上传文件数量&quot;">​</a></h2><ul><li>允许选择多个文件：<code>&lt;input type=&quot;file&quot; multiple&gt;</code></li><li>只允许上传一个文件：<code>&lt;input type=&quot;file&quot; single&gt;</code></li></ul><h2 id="_2、上传指定的文件格式" tabindex="-1">2、上传指定的文件格式 <a class="header-anchor" href="#_2、上传指定的文件格式" aria-label="Permalink to &quot;2、上传指定的文件格式&quot;">​</a></h2><p>如指定默认格式为 gif、png：<code>&lt;input type=&quot;file&quot; accept=&quot;image/gif,image/png&quot; /&gt;</code></p><p>如果不限制上传图片的格式，只限制图片可写成：<code>accept=&quot;image/*&quot;</code></p><p><strong>这里的上传格式仅指打开上传弹窗选择文件时默认的文件格式，也可选择文件时手动修改成所有文件(*)</strong></p><p>限制.xls 文件:<code>accept=&quot;application/vnd.ms-excel&quot; </code></p><p>限制.xlsx 文件:<code>accept=&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;</code></p><p>同时限制上传.xls、.xlsx 文件:<code>&lt;input class=&quot;note-image-input form-control&quot; type=&quot;file&quot; name=&quot;files&quot; accept=&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel &quot; multiple=&quot;multiple&quot;&gt;</code></p><p>这只是指定了选择文件的<strong>默认类型</strong>，真实限制类型还要用到 JS 代码</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> ([</span><span style="color:#9ECBFF;">&quot;xls&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;xlsx&quot;</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">indexOf</span><span style="color:#E1E4E8;">(FileExt.</span><span style="color:#B392F0;">toLowerCase</span><span style="color:#E1E4E8;">()) </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">-</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.$message.</span><span style="color:#B392F0;">warning</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;只能上传.XLS.XLSX格式的文件!&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">if</span><span style="color:#24292E;"> ([</span><span style="color:#032F62;">&quot;xls&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;xlsx&quot;</span><span style="color:#24292E;">].</span><span style="color:#6F42C1;">indexOf</span><span style="color:#24292E;">(FileExt.</span><span style="color:#6F42C1;">toLowerCase</span><span style="color:#24292E;">()) </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$message.</span><span style="color:#6F42C1;">warning</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;只能上传.XLS.XLSX格式的文件!&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_3-其他的-accept-的接受格式" tabindex="-1">3.其他的 accept 的接受格式 <a class="header-anchor" href="#_3-其他的-accept-的接受格式" aria-label="Permalink to &quot;3.其他的 accept 的接受格式&quot;">​</a></h2><table><thead><tr><th>*.3gpp</th><th>audio/3gpp, video/3gpp</th><th>3GPP Audio/Video</th></tr></thead><tbody><tr><td>*.ac3</td><td>audio/ac3</td><td>AC3 Audio</td></tr><tr><td>*.asf</td><td>allpication/vnd.ms-asf</td><td>Advanced Streaming Format</td></tr><tr><td>*.au</td><td>audio/basic</td><td>AU Audio</td></tr><tr><td>*.css</td><td>text/css</td><td>Cascading Style Sheets</td></tr><tr><td>*.csv</td><td>text/csv</td><td>Comma Separated Values</td></tr><tr><td>*.doc</td><td>application/msword</td><td>MS Word Document</td></tr><tr><td>*.dot</td><td>application/msword</td><td>MS Word Template</td></tr><tr><td>*.dtd</td><td>application/xml-dtd</td><td>Document Type Definition</td></tr><tr><td>*.dwg</td><td>image/vnd.dwg</td><td>AutoCAD Drawing Database</td></tr><tr><td>*.dxf</td><td>image/vnd.dxf</td><td>AutoCAD Drawing Interchange Format</td></tr><tr><td>*.gif</td><td>image/gif</td><td>Graphic Interchange Format</td></tr><tr><td>*.htm</td><td>text/html</td><td>HyperText Markup Language</td></tr><tr><td>*.html</td><td>text/html</td><td>HyperText Markup Language</td></tr><tr><td>*.jp2</td><td>image/jp2</td><td>JPEG-2000</td></tr><tr><td>*.jpe</td><td>image/jpeg</td><td>JPEG</td></tr><tr><td>*.jpeg</td><td>image/jpeg</td><td>JPEG</td></tr><tr><td>*.jpg</td><td>image/jpeg</td><td>JPEG</td></tr><tr><td>*.js</td><td>text/javascript, application/javascript</td><td>JavaScript</td></tr><tr><td>*.json</td><td>application/json</td><td>JavaScript Object Notation</td></tr><tr><td>*.mp2</td><td>audio/mpeg, video/mpeg</td><td>MPEG Audio/Video Stream, Layer II</td></tr><tr><td>*.mp3</td><td>audio/mpeg</td><td>MPEG Audio Stream, Layer III</td></tr><tr><td>*.mp4</td><td>audio/mp4, video/mp4</td><td>MPEG-4 Audio/Video</td></tr><tr><td>*.mpeg</td><td>video/mpeg</td><td>MPEG Video Stream, Layer II</td></tr><tr><td>*.mpg</td><td>video/mpeg</td><td>MPEG Video Stream, Layer II</td></tr><tr><td>*.mpp</td><td>application/vnd.ms-project</td><td>MS Project Project</td></tr><tr><td>*.ogg</td><td>application/ogg, audio/ogg</td><td>Ogg Vorbis</td></tr><tr><td>*.pdf</td><td>application/pdf</td><td>Portable Document Format</td></tr><tr><td>*.png</td><td>image/png</td><td>Portable Network Graphics</td></tr><tr><td>*.pot</td><td>application/vnd.ms-powerpoint</td><td>MS PowerPoint Template</td></tr><tr><td>*.pps</td><td>application/vnd.ms-powerpoint</td><td>MS PowerPoint Slideshow</td></tr><tr><td>*.ppt</td><td>application/vnd.ms-powerpoint</td><td>MS PowerPoint Presentation</td></tr><tr><td>*.rtf</td><td>application/rtf, text/rtf</td><td>Rich Text Format</td></tr><tr><td>*.svf</td><td>image/vnd.svf</td><td>Simple Vector Format</td></tr><tr><td>*.tif</td><td>image/tiff</td><td>Tagged Image Format File</td></tr><tr><td>*.tiff</td><td>image/tiff</td><td>Tagged Image Format File</td></tr><tr><td>*.txt</td><td>text/plain</td><td>Plain Text</td></tr><tr><td>*.wdb</td><td>application/vnd.ms-works</td><td>MS Works Database</td></tr><tr><td>*.wps</td><td>application/vnd.ms-works</td><td>Works Text Document</td></tr><tr><td>*.xhtml</td><td>application/xhtml+xml</td><td>Extensible HyperText Markup Language</td></tr><tr><td>*.xlc</td><td>application/vnd.ms-excel</td><td>MS Excel Chart</td></tr><tr><td>*.xlm</td><td>application/vnd.ms-excel</td><td>MS Excel Macro</td></tr><tr><td>*.xls</td><td>application/vnd.ms-excel</td><td>MS Excel Spreadsheet</td></tr><tr><td>*.xlt</td><td>application/vnd.ms-excel</td><td>MS Excel Template</td></tr><tr><td>*.xlw</td><td>application/vnd.ms-excel</td><td>MS Excel Workspace</td></tr><tr><td>*.xml</td><td>text/xml, application/xml</td><td>Extensible Markup Language</td></tr><tr><td>*.zip</td><td>aplication/zip</td><td>Compressed Archive</td></tr></tbody></table>`,16),p=[s];function n(r,l,i,c,m,u){return d(),a("div",null,p)}const y=t(o,[["render",n]]);export{E as __pageData,y as default};
