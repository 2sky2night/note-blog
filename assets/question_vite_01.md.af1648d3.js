import{_ as s,o as n,c as a,Q as p}from"./chunks/framework.f98883f0.js";const h=JSON.parse('{"title":"封装获取静态资源路径的函数","description":"","frontmatter":{},"headers":[],"relativePath":"question/vite/01.md","filePath":"question/vite/01.md","lastUpdated":1699188084000}'),o={name:"question/vite/01.md"},l=p(`<h1 id="封装获取静态资源路径的函数" tabindex="-1">封装获取静态资源路径的函数 <a class="header-anchor" href="#封装获取静态资源路径的函数" aria-label="Permalink to &quot;封装获取静态资源路径的函数&quot;">​</a></h1><p>vite 项目中如果我们配置了路径别名后，除了模板与<code>import</code>导入时可以使用外，如果我们想在其他 js 代码中使用，会出现 js 运行时不支持路径别名的访问，所以需要我们自己手动重定向到对应目录中去。我们可以使用<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/URL#%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E" target="_blank" rel="noreferrer"><code>URL</code></a> api 来拼接出资源路径。</p><h2 id="url-代码示例" tabindex="-1">URL 代码示例 <a class="header-anchor" href="#url-代码示例" aria-label="Permalink to &quot;URL 代码示例&quot;">​</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">url</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">URL</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;user&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;http://www.baidu.com&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(url.href); </span><span style="color:#6A737D;">// http://www.baidu.com/user</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">url</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">URL</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;user&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;http://www.baidu.com&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(url.href); </span><span style="color:#6A737D;">// http://www.baidu.com/user</span></span></code></pre></div><h2 id="定义" tabindex="-1">定义 <a class="header-anchor" href="#定义" aria-label="Permalink to &quot;定义&quot;">​</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"> * 获取静态资源</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#F97583;">@param</span><span style="color:#6A737D;"> </span><span style="color:#E1E4E8;">path</span><span style="color:#6A737D;"> 从assets根路径开始</span></span>
<span class="line"><span style="color:#6A737D;">   */</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getAssets</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">path</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 此处的路径是以该函数定义的文件为相对路径</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">URL</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">\`../../assets/\${</span><span style="color:#E1E4E8;">path</span><span style="color:#9ECBFF;">}\`</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">meta</span><span style="color:#E1E4E8;">.url).href;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"> * 获取静态资源</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@param</span><span style="color:#6A737D;"> </span><span style="color:#24292E;">path</span><span style="color:#6A737D;"> 从assets根路径开始</span></span>
<span class="line"><span style="color:#6A737D;">   */</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getAssets</span><span style="color:#24292E;">(</span><span style="color:#E36209;">path</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 此处的路径是以该函数定义的文件为相对路径</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">URL</span><span style="color:#24292E;">(</span><span style="color:#032F62;">\`../../assets/\${</span><span style="color:#24292E;">path</span><span style="color:#032F62;">}\`</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">import</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">meta</span><span style="color:#24292E;">.url).href;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="使用" tabindex="-1">使用 <a class="header-anchor" href="#使用" aria-label="Permalink to &quot;使用&quot;">​</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">navList</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> [</span></span>
<span class="line"><span style="color:#E1E4E8;">  {</span></span>
<span class="line"><span style="color:#E1E4E8;">    title: </span><span style="color:#9ECBFF;">&quot;Home&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    activeIconName: </span><span style="color:#B392F0;">getAssets</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;icon/footer/home_active.png&quot;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">    iconName: </span><span style="color:#B392F0;">getAssets</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;icon/footer/home.png&quot;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">    path: </span><span style="color:#9ECBFF;">&quot;/&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  {</span></span>
<span class="line"><span style="color:#E1E4E8;">    title: </span><span style="color:#9ECBFF;">&quot;Subscribe&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    activeIconName: </span><span style="color:#B392F0;">getAssets</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;icon/footer/subscribe_active.png&quot;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">    iconName: </span><span style="color:#B392F0;">getAssets</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;icon/footer/subscribe.png&quot;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">    path: </span><span style="color:#9ECBFF;">&quot;/subscribe&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  {</span></span>
<span class="line"><span style="color:#E1E4E8;">    title: </span><span style="color:#9ECBFF;">&quot;My&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    activeIconName: </span><span style="color:#B392F0;">getAssets</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;icon/footer/my_active.png&quot;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">    iconName: </span><span style="color:#B392F0;">getAssets</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;icon/footer/my.png&quot;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">    path: </span><span style="color:#9ECBFF;">&quot;/my&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">];</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">navList</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [</span></span>
<span class="line"><span style="color:#24292E;">  {</span></span>
<span class="line"><span style="color:#24292E;">    title: </span><span style="color:#032F62;">&quot;Home&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    activeIconName: </span><span style="color:#6F42C1;">getAssets</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;icon/footer/home_active.png&quot;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">    iconName: </span><span style="color:#6F42C1;">getAssets</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;icon/footer/home.png&quot;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">    path: </span><span style="color:#032F62;">&quot;/&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  {</span></span>
<span class="line"><span style="color:#24292E;">    title: </span><span style="color:#032F62;">&quot;Subscribe&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    activeIconName: </span><span style="color:#6F42C1;">getAssets</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;icon/footer/subscribe_active.png&quot;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">    iconName: </span><span style="color:#6F42C1;">getAssets</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;icon/footer/subscribe.png&quot;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">    path: </span><span style="color:#032F62;">&quot;/subscribe&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  {</span></span>
<span class="line"><span style="color:#24292E;">    title: </span><span style="color:#032F62;">&quot;My&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    activeIconName: </span><span style="color:#6F42C1;">getAssets</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;icon/footer/my_active.png&quot;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">    iconName: </span><span style="color:#6F42C1;">getAssets</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;icon/footer/my.png&quot;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">    path: </span><span style="color:#032F62;">&quot;/my&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">];</span></span></code></pre></div>`,8),e=[l];function t(c,r,E,y,i,u){return n(),a("div",null,e)}const d=s(o,[["render",t]]);export{h as __pageData,d as default};
