<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Next.js | Kinghtçš„å°å±‹</title>
    <meta name="description" content="A VitePress site">
    <link rel="preload stylesheet" href="/note-blog/assets/style.aee24150.css" as="style">
    
    <script type="module" src="/note-blog/assets/app.3b321d73.js"></script>
    <link rel="preload" href="/note-blog/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/note-blog/assets/chunks/framework.f98883f0.js">
    <link rel="modulepreload" href="/note-blog/assets/chunks/theme.c99ef25d.js">
    <link rel="modulepreload" href="/note-blog/assets/chunks/giscus-2a044aea.497f0bd4.js">
    <link rel="modulepreload" href="/note-blog/assets/study_Next.md.8eaf387f.lean.js">
    <link rel="icon" type="image/svg+xml" href="/icon/vite.svg">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-80a8ecb8><!--[--><!--]--><!--[--><span tabindex="-1" data-v-5d1f4d31></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-5d1f4d31> Skip to content </a><!--]--><!----><header class="VPNav" data-v-80a8ecb8 data-v-d76b8b84><div class="VPNavBar has-sidebar" data-v-d76b8b84 data-v-0e557797><div class="container" data-v-0e557797><div class="title" data-v-0e557797><div class="VPNavBarTitle has-sidebar" data-v-0e557797 data-v-684e05bc><a class="title" href="/note-blog/" data-v-684e05bc><!--[--><!--]--><!----><!--[-->Kinghtçš„å°å±‹<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-0e557797><div class="curtain" data-v-0e557797></div><div class="content-body" data-v-0e557797><!--[--><!--]--><div class="VPNavBarSearch search" data-v-0e557797><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-0e557797 data-v-91f2b859><span id="main-nav-aria-label" class="visually-hidden" data-v-91f2b859>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/note-blog/guide.html" tabindex="0" data-v-91f2b859 data-v-4c8233c7><!--[--><span data-v-4c8233c7>å¼€å§‹</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/note-blog/study.html" tabindex="0" data-v-91f2b859 data-v-4c8233c7><!--[--><span data-v-4c8233c7>å­¦ä¹ </span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-91f2b859 data-v-2505eafb><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-2505eafb><span class="text" data-v-2505eafb><!----><span data-v-2505eafb>å…«è‚¡</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-2505eafb><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-2505eafb><div class="VPMenu" data-v-2505eafb data-v-c68a7715><div class="items" data-v-c68a7715><!--[--><!--[--><div class="VPMenuLink" data-v-c68a7715 data-v-d8b54ed1><a class="VPLink link" href="/note-blog/interview/html.html" data-v-d8b54ed1><!--[-->HTML<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-c68a7715 data-v-d8b54ed1><a class="VPLink link" href="/note-blog/interview/css.html" data-v-d8b54ed1><!--[-->CSS<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-c68a7715 data-v-d8b54ed1><a class="VPLink link" href="/note-blog/interview/js.html" data-v-d8b54ed1><!--[-->JS<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-c68a7715 data-v-d8b54ed1><a class="VPLink link" href="/note-blog/interview/ts.html" data-v-d8b54ed1><!--[-->TS<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-c68a7715 data-v-d8b54ed1><a class="VPLink link" href="/note-blog/interview/other.html" data-v-d8b54ed1><!--[-->å…¶ä»–<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/note-blog/question.html" tabindex="0" data-v-91f2b859 data-v-4c8233c7><!--[--><span data-v-4c8233c7>è¸©è¿‡çš„å‘</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-0e557797 data-v-de4e22d9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-de4e22d9 data-v-030fe3a0 data-v-014ad383><span class="check" data-v-014ad383><span class="icon" data-v-014ad383><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-030fe3a0><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-030fe3a0><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-0e557797 data-v-8392895e data-v-2505eafb><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-2505eafb><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-2505eafb><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-2505eafb><div class="VPMenu" data-v-2505eafb data-v-c68a7715><!----><!--[--><!--[--><!----><div class="group" data-v-8392895e><div class="item appearance" data-v-8392895e><p class="label" data-v-8392895e>Appearance</p><div class="appearance-action" data-v-8392895e><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-8392895e data-v-030fe3a0 data-v-014ad383><span class="check" data-v-014ad383><span class="icon" data-v-014ad383><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-030fe3a0><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-030fe3a0><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-0e557797 data-v-5a5d550b><span class="container" data-v-5a5d550b><span class="top" data-v-5a5d550b></span><span class="middle" data-v-5a5d550b></span><span class="bottom" data-v-5a5d550b></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-80a8ecb8 data-v-e9fd9911><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-e9fd9911><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-e9fd9911><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-e9fd9911>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-e9fd9911 data-v-75385524><button data-v-75385524>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-80a8ecb8 data-v-69fb9f58><div class="curtain" data-v-69fb9f58></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-69fb9f58><span class="visually-hidden" id="sidebar-aria-label" data-v-69fb9f58> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-69fb9f58><section class="VPSidebarItem level-0 has-active" data-v-69fb9f58 data-v-d0912435><!----><div class="items" data-v-d0912435><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d0912435 data-v-d0912435><div class="item" data-v-d0912435><div class="indicator" data-v-d0912435></div><a class="VPLink link link" href="/note-blog/study/Nest.html" data-v-d0912435><!--[--><p class="text" data-v-d0912435>Nest</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d0912435 data-v-d0912435><div class="item" data-v-d0912435><div class="indicator" data-v-d0912435></div><a class="VPLink link link" href="/note-blog/study/Next.html" data-v-d0912435><!--[--><p class="text" data-v-d0912435>Next</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d0912435 data-v-d0912435><div class="item" data-v-d0912435><div class="indicator" data-v-d0912435></div><a class="VPLink link link" href="/note-blog/study/Node.html" data-v-d0912435><!--[--><p class="text" data-v-d0912435>Node</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d0912435 data-v-d0912435><div class="item" data-v-d0912435><div class="indicator" data-v-d0912435></div><a class="VPLink link link" href="/note-blog/study/Nuxt.html" data-v-d0912435><!--[--><p class="text" data-v-d0912435>Nuxt</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d0912435 data-v-d0912435><div class="item" data-v-d0912435><div class="indicator" data-v-d0912435></div><a class="VPLink link link" href="/note-blog/study/React.html" data-v-d0912435><!--[--><p class="text" data-v-d0912435>React</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d0912435 data-v-d0912435><div class="item" data-v-d0912435><div class="indicator" data-v-d0912435></div><a class="VPLink link link" href="/note-blog/study/Vitepress.html" data-v-d0912435><!--[--><p class="text" data-v-d0912435>Vitepress</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-80a8ecb8 data-v-c2d39941><div class="VPDoc has-sidebar has-aside" data-v-c2d39941 data-v-05ecd897><!--[--><!--]--><div class="container" data-v-05ecd897><div class="aside" data-v-05ecd897><div class="aside-curtain" data-v-05ecd897></div><div class="aside-container" data-v-05ecd897><div class="aside-content" data-v-05ecd897><div class="VPDocAside" data-v-05ecd897 data-v-15ee8eb8><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-15ee8eb8 data-v-1d4a8cd0><div class="content" data-v-1d4a8cd0><div class="outline-marker" data-v-1d4a8cd0></div><div class="outline-title" role="heading" aria-level="2" data-v-1d4a8cd0>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-1d4a8cd0><span class="visually-hidden" id="doc-outline-aria-label" data-v-1d4a8cd0> Table of Contents for current page </span><ul class="root" data-v-1d4a8cd0 data-v-ef13fba0><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-15ee8eb8></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-05ecd897><div class="content-container" data-v-05ecd897><!--[--><!--]--><!----><main class="main" data-v-05ecd897><div style="position:relative;" class="vp-doc _note-blog_study_Next" data-v-05ecd897><div><p>next.jsï¼ŒReactç‰ˆæœ¬çš„æœåŠ¡ç«¯åŒæ„æ¸²æŸ“æ¡†æ¶ã€‚</p><h1 id="ä¸€ã€æ­å»º-next-åº”ç”¨" tabindex="-1">ä¸€ã€æ­å»º Next åº”ç”¨ <a class="header-anchor" href="#ä¸€ã€æ­å»º-next-åº”ç”¨" aria-label="Permalink to &quot;ä¸€ã€æ­å»º Next åº”ç”¨&quot;">â€‹</a></h1><p>â€‹ Nextå’ŒNuxtä½¿ç”¨çš„éƒ½æ˜¯åŒä¸€ç§æ¸²æŸ“æµç¨‹ï¼Œé¦–æ¬¡æ¸²æŸ“ä½¿ç”¨æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆå“åº”å½“å‰é¡µé¢ä»¥åŠSPAçš„èµ„æºï¼‰ï¼Œåç»­å®¢æˆ·ç«¯è¿›è¡Œè·¯ç”±è·³è½¬æ—¶å°±è¯·æ±‚å¯¹åº”çš„è·¯ç”±ç»„ä»¶ï¼Œå¹¶é€šè¿‡å®¢æˆ·ç«¯ Router æ“ä½œDOMè¿›è¡Œé¡µé¢åˆ‡æ¢ã€‚</p><p>â€‹ ä¹Ÿå°±æ˜¯è¯´ï¼Œé¦–æ¬¡æ¸²æŸ“æ˜¯æœåŠ¡ç«¯æ¸²æŸ“ï¼Œåç»­è·¯ç”±æ›´æ–°å°±æ˜¯å®¢æˆ·ç«¯æ¸²æŸ“çš„æ–¹å¼ã€‚</p><p>â€‹ NextæœåŠ¡å™¨åœ¨æ¥æ”¶åˆ°è¯·æ±‚æ—¶è‹¥åŒ¹é…ä¸Šäº†è·¯ç”±ï¼Œä¼šå¯¹ç›®æ ‡è·¯ç”±ç»„ä»¶ç¼–è¯‘å¹¶æ‰§è¡Œï¼Œæœ€ç»ˆè¿”å›HTMLç»™å®¢æˆ·ç«¯ï¼Œå†æ¬¡è¯·æ±‚è¯¥é¡µé¢æ—¶ï¼ŒNextä¼šè·³è¿‡ç¼–è¯‘ç›´æ¥æ‰§è¡Œè·¯ç”±ç»„ä»¶å¾—åˆ°ç»“æœï¼Œç„¶åè¿”å›HTMLç»™å®¢æˆ·ç«¯ï¼Œå¾—ç›Šäºç¼“å­˜ï¼Œæç¤ºäº†å“åº”æ—¶é—´ã€‚</p><h2 id="ä½¿ç”¨è„šæ‰‹æ¶" tabindex="-1">ä½¿ç”¨è„šæ‰‹æ¶ <a class="header-anchor" href="#ä½¿ç”¨è„šæ‰‹æ¶" aria-label="Permalink to &quot;ä½¿ç”¨è„šæ‰‹æ¶&quot;">â€‹</a></h2><p>åˆ©ç”¨è„šæ‰‹æ¶å¿«é€Ÿåˆ›å»ºNextæ¨¡æ¿åº”ç”¨ã€‚</p><p>ä½¿ç”¨jsæ„å»ºNextï¼š<code>npx create-next-app@latest</code></p><p>ä½¿ç”¨tsæ„å»ºNextï¼š<code>npx create-next-app@latest --typescript</code></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">D:\éšä¾¿å†™å†™\å­¦ä¹ \next&gt;npx create-next-app@latest --typescript</span></span>
<span class="line"><span style="color:#e1e4e8;">âˆš What is your project named? ... study-next  // é¡¹ç›®åç§°</span></span>
<span class="line"><span style="color:#e1e4e8;">âˆš Would you like to use ESLint? ... No / Yes  // æ˜¯å¦ä½¿ç”¨eslint</span></span>
<span class="line"><span style="color:#e1e4e8;">âˆš Would you like to use Tailwind CSS? ... No / Yes // ä½¿ç”¨tailwindcss</span></span>
<span class="line"><span style="color:#e1e4e8;">âˆš Would you like to use `src/` directory? ... No / Yes // åˆ›å»ºsrcæ–‡ä»¶</span></span>
<span class="line"><span style="color:#e1e4e8;">âˆš Would you like to use App Router? (recommended) ... No / Yes //ä½¿ç”¨App è·¯ç”±</span></span>
<span class="line"><span style="color:#e1e4e8;">âˆš Would you like to customize the default import alias (@/*)? ... No / Yes //æ˜¯å¦éœ€è¦è‡ªå®šä¹‰åˆ›å»ºè·¯å¾„åˆ«å</span></span>
<span class="line"><span style="color:#e1e4e8;">âˆš What import alias would you like configured? ... @/* //è·¯å¾„åˆ«åçš„å€¼ä¸º</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">D:\éšä¾¿å†™å†™\å­¦ä¹ \next&gt;npx create-next-app@latest --typescript</span></span>
<span class="line"><span style="color:#24292e;">âˆš What is your project named? ... study-next  // é¡¹ç›®åç§°</span></span>
<span class="line"><span style="color:#24292e;">âˆš Would you like to use ESLint? ... No / Yes  // æ˜¯å¦ä½¿ç”¨eslint</span></span>
<span class="line"><span style="color:#24292e;">âˆš Would you like to use Tailwind CSS? ... No / Yes // ä½¿ç”¨tailwindcss</span></span>
<span class="line"><span style="color:#24292e;">âˆš Would you like to use `src/` directory? ... No / Yes // åˆ›å»ºsrcæ–‡ä»¶</span></span>
<span class="line"><span style="color:#24292e;">âˆš Would you like to use App Router? (recommended) ... No / Yes //ä½¿ç”¨App è·¯ç”±</span></span>
<span class="line"><span style="color:#24292e;">âˆš Would you like to customize the default import alias (@/*)? ... No / Yes //æ˜¯å¦éœ€è¦è‡ªå®šä¹‰åˆ›å»ºè·¯å¾„åˆ«å</span></span>
<span class="line"><span style="color:#24292e;">âˆš What import alias would you like configured? ... @/* //è·¯å¾„åˆ«åçš„å€¼ä¸º</span></span></code></pre></div><p>è¿›å…¥é¡¹ç›®æ ¹ç›®å½•åä½¿ç”¨<code>npm run dev</code>æ¥å¯åŠ¨é¡¹ç›®ã€‚</p><p>é€šè¿‡nextæ•™æˆæ¶åˆ›å»ºçš„é¡¹ç›®ï¼Œç›®å½•ç»“æ„ä¸ºï¼š</p><p><code>.next</code>:è¿™æ˜¯Nextjsçš„ç¼“å­˜ç›®å½•ï¼Œåœ¨æ‰§è¡Œdevæˆ–è€…buildç­‰å‘½ä»¤çš„æ—¶å€™ï¼Œä¼šåœ¨æœ¬åœ°é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ç”Ÿæˆæ­¤ç›®å½•ï¼Œå¼€å‘ä¸éœ€è¦å…³æ³¨ã€‚æƒ³è¦äº†è§£æ›´å¤šçš„å¯ä»¥ç¨å¾®ç ”ç©¶ä¸€ä¸‹ï¼Œä½¿ç”¨ç¼“å­˜/å·²ç”Ÿæˆçš„æ–¹å¼åŠ é€Ÿç¼–è¯‘ã€‚</p><p><code>node_modules</code>:é¡¹ç›®çš„ä¾èµ–æ–‡ä»¶ã€‚</p><p><code>public</code>:è¿™ä¸ªä¸»è¦æ”¾ç½®é™æ€èµ„æºï¼Œé»˜è®¤æ²¡æœ‰äºŒçº§ç›®å½•ï¼Œä¸ºäº†æ–¹ä¾¿å¯ä»¥ç®€å•åˆ›å»ºå‡ ä¸ªç›®å½•æ¥æ”¾ç›¸å…³èµ„æºã€‚é»˜è®¤è·¯å¾„æ˜¯åœ¨æ ¹ç›®å½•ï¼Œä½¿ç”¨çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ç±»ä¼¼<code>/favicon.ico</code>çš„å½¢å¼å¼•ç”¨ã€‚</p><p><code>src</code>:è¿™ä¸ªç›®å½•æ˜¯ä¸»è¦æºä»£ç çš„ä½ç½®ï¼Œåˆå§‹ç›®å½•ä¸‹æœ‰<code>app</code>é»˜è®¤é¡µå’Œ<code>pages</code>å…¶ä»–é¡µé¢ç›®å½•ã€‚</p><p><code>.eslintrc.json</code>ï¼šä¸»è¦æ˜¯eslintçš„è§„åˆ™é…ç½®æ–‡ä»¶ã€‚</p><p><code>.gitignore</code>ï¼šgitæ’é™¤æ–‡ä»¶ã€‚</p><p><code>next-env.d.ts</code>ï¼šnextjsçš„ä¸€äº›tsç›¸å…³å†…å®¹ï¼Œç›®å‰åªæœ‰é»˜è®¤å¼•ç”¨ã€‚</p><p><code>next.config.js</code>ï¼šNextjsçš„é…ç½®æ–‡ä»¶ï¼Œè¿™é‡Œé»˜è®¤åªæœ‰<code>appDir</code>å‚æ•°ã€‚</p><p><code>package-lock.json</code>ï¼šé¡¹ç›®ä¾èµ–lockæ–‡ä»¶ã€‚</p><p><code>package.json</code>ï¼šé¡¹ç›®npmç›¸å…³æ–‡ä»¶ã€‚</p><p><code>README.md</code>ï¼šæ–‡æ¡£è¯´æ˜ã€‚</p><p><code>tsconfig.json</code>ï¼š<code>typescript</code>ç›¸å…³é…ç½®æ–‡ä»¶ã€‚</p><h2 id="ä¸ä½¿ç”¨è„šæ‰‹æ¶" tabindex="-1">ä¸ä½¿ç”¨è„šæ‰‹æ¶ <a class="header-anchor" href="#ä¸ä½¿ç”¨è„šæ‰‹æ¶" aria-label="Permalink to &quot;ä¸ä½¿ç”¨è„šæ‰‹æ¶&quot;">â€‹</a></h2><h2 id="nextæ‰§è¡Œæœºåˆ¶" tabindex="-1">Nextæ‰§è¡Œæœºåˆ¶ <a class="header-anchor" href="#nextæ‰§è¡Œæœºåˆ¶" aria-label="Permalink to &quot;Nextæ‰§è¡Œæœºåˆ¶&quot;">â€‹</a></h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒNext.jsä¼šé¢„æ¸²æŸ“æ¯ä¸ªé¡µé¢ã€‚è¿™æ„å‘³ç€Next.jsæå‰ä¸ºæ¯ä¸ªé¡µé¢ç”ŸæˆHTMLï¼Œè€Œä¸æ˜¯è®©å®¢æˆ·ç«¯JavaScriptå®Œæˆæ‰€æœ‰å·¥ä½œã€‚é¢„æ¸²æŸ“å¯ä»¥å¸¦æ¥æ›´å¥½çš„æ€§èƒ½å’ŒSEOã€‚</p><p>æ¯ä¸ªç”Ÿæˆçš„HTMLéƒ½ä¸è¯¥é¡µæ‰€éœ€çš„æœ€å°‘JavaScriptä»£ç ç›¸å…³è”ã€‚å½“æµè§ˆå™¨åŠ è½½é¡µé¢æ—¶ï¼Œå®ƒçš„JavaScriptä»£ç è¿è¡Œå¹¶ä½¿é¡µé¢å®Œå…¨äº¤äº’å¼ã€‚(è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸ºæ°´åˆä½œç”¨ã€‚)</p><h1 id="äºŒã€é¡µé¢è·¯ç”±" tabindex="-1">äºŒã€é¡µé¢è·¯ç”± <a class="header-anchor" href="#äºŒã€é¡µé¢è·¯ç”±" aria-label="Permalink to &quot;äºŒã€é¡µé¢è·¯ç”±&quot;">â€‹</a></h1><p>â€‹ Nextæœ‰ä¸¤ç§è·¯ç”±æ¨¡å¼ï¼Œé¡µé¢å’Œåº”ç”¨ï¼Œ<strong>å»ºè®®å­¦æ–°ç‰ˆçš„åº”ç”¨çº§åˆ«çš„è·¯ç”±</strong>ï¼Œç›´æ¥è·³åˆ°<code>å…«ã€App Router</code>ã€‚</p><p>â€‹ Next.jsçš„è·¯ç”±ç³»ç»Ÿå’ŒNuxt.jsä¸€æ ·éƒ½æ˜¯åŸºäºæ–‡ä»¶ç³»ç»Ÿçš„è·¯ç”±ã€‚Nexté…ç½®è·¯ç”±éœ€è¦åœ¨<code>/src/pages</code>æ–‡ä»¶å¤¹ä¸­å®šä¹‰ï¼Œæ¯æ¬¡æ¥æ”¶åˆ°è¯·æ±‚ï¼Œéƒ½ä¼šæ ¹æ®è¯·æ±‚è·¯å¾„ä¸pagesæ–‡ä»¶å¤¹ä¸­çš„è·¯ç”±è¿›è¡ŒåŒ¹é…ã€‚ç¼–è¯‘å¹¶æ‰“åŒ…ã€æ¸²æŸ“è·¯ç”±ç»„ä»¶æœ€ç»ˆå“åº”ç»™å®¢æˆ·ç«¯ã€‚</p><blockquote><p><strong>æç¤º</strong></p><p>è‹¥ä½¿ç”¨äº†è„šæ‰‹æ¶åˆ›å»ºçš„é¡¹ç›®ï¼Œè¯·å…ˆåˆ é™¤src/app/page.tsxè¿™ä¸ªæ–‡ä»¶ï¼Œå†åˆ›å»ºpagesæ–‡ä»¶å¤¹ï¼Œå› ä¸ºApp Routerçš„ä¼˜å…ˆçº§å¤§äºPage Router</p></blockquote><h2 id="_1-å®šä¹‰è·¯ç”±è¡¨" tabindex="-1">1.å®šä¹‰è·¯ç”±è¡¨ <a class="header-anchor" href="#_1-å®šä¹‰è·¯ç”±è¡¨" aria-label="Permalink to &quot;1.å®šä¹‰è·¯ç”±è¡¨&quot;">â€‹</a></h2><p>åœ¨pagesæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºè·¯ç”±åï¼Œå…¶ä¸è·¯å¾„çš„åŒ¹é…å…³ç³»ä¸ºï¼š</p><p><code>/pages/index.tsx</code> â€”â€” <code>/</code></p><p><code>/pages/posts.tsx</code> â€”â€” <code>/posts</code></p><p><code>/pages/my/profile.tsx</code> â€”â€” <code>/my/profile</code></p><p><code>/pages/posts/index.tsx</code> â€”â€” <code>/posts</code></p><h2 id="_2-è·¯ç”±å¯¼èˆª" tabindex="-1">2.è·¯ç”±å¯¼èˆª <a class="header-anchor" href="#_2-è·¯ç”±å¯¼èˆª" aria-label="Permalink to &quot;2.è·¯ç”±å¯¼èˆª&quot;">â€‹</a></h2><h3 id="å£°æ˜å¼" tabindex="-1">å£°æ˜å¼ <a class="header-anchor" href="#å£°æ˜å¼" aria-label="Permalink to &quot;å£°æ˜å¼&quot;">â€‹</a></h3><h4 id="link" tabindex="-1">Link <a class="header-anchor" href="#link" aria-label="Permalink to &quot;Link&quot;">â€‹</a></h4><p>â€‹ ä½¿ç”¨Linkç»„ä»¶è¿›è¡Œè·¯ç”±å¯¼èˆªï¼Œé€šè¿‡hrefå±æ€§æŒ‡å®šéœ€è¦å¯¼èˆªçš„è·¯å¾„ã€‚</p><p>â€‹ æœ€ç»ˆæ¸²æŸ“æ•ˆæœå°±æ˜¯æ˜¯ä¸€ä¸ªaæ ‡ç­¾ï¼Œä½†è¿™ä¸æ˜¯ä¸€ä¸ªæ™®é€šçš„aæ ‡ç­¾ï¼Œä»–æ˜¯ä¸€ä¸ªè¢«é‡å†™çš„è¶…é“¾æ¥ï¼Œåœ¨ç‚¹å‡»æ—¶ä¸ä¼šè¯·æ±‚å®Œæ•´é¡µé¢ï¼Œè€Œæ˜¯ä½¿ç”¨å®¢æˆ·ç«¯æ¸²æŸ“çš„æ–¹å¼åŠ è½½è·¯ç”±ç»„ä»¶èµ„æºï¼Œå¹¶ä½¿ç”¨ Router æ¥æ§åˆ¶è·¯ç”±è·³è½¬ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> Link </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/link&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Home</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">h1</span><span style="color:#E1E4E8;">&gt;Home&lt;/</span><span style="color:#85E89D;">h1</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#79B8FF;">Link</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">href</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;/posts&quot;</span><span style="color:#E1E4E8;">&gt;Look for article.&lt;/</span><span style="color:#79B8FF;">Link</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> Link </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/link&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Home</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">h1</span><span style="color:#24292E;">&gt;Home&lt;/</span><span style="color:#22863A;">h1</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#005CC5;">Link</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">href</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;/posts&quot;</span><span style="color:#24292E;">&gt;Look for article.&lt;/</span><span style="color:#005CC5;">Link</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>å¦‚ä½•éªŒè¯Linkæ˜¯å®¢æˆ·ç«¯æ¸²æŸ“çš„ï¼Ÿ</p><p>â€‹ ä½ å¯ä»¥é€šè¿‡æ§åˆ¶å°ç»™bodyè®¾ç½®ä¸€ä¸ªèƒŒæ™¯è‰²ï¼Œç„¶åç‚¹å‡»è¿™Linkç»„ä»¶ï¼ˆå®¢æˆ·ç«¯æ¸²æŸ“ï¼‰ï¼Œå¯¼èˆªæˆåŠŸåçœ‹æ ·å¼æ˜¯å¦å­˜åœ¨ï¼›å†ç‚¹å‡»aæ ‡ç­¾ï¼ˆæœåŠ¡ç«¯æ¸²æŸ“ï¼‰ï¼Œå¯¼èˆªæˆåŠŸåä¼šå‘ç°æ ·å¼æ¶ˆå¤±äº†ï¼Œè¿™å°±æ˜¯å› ä¸ºaæ ‡ç­¾ä¼šé‡æ–°è¯·æ±‚ã€æ¸²æŸ“æ–‡æ¡£ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> Link </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/link&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Home</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">h1</span><span style="color:#E1E4E8;">&gt;Home&lt;/</span><span style="color:#85E89D;">h1</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#79B8FF;">Link</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">href</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;/posts&quot;</span><span style="color:#E1E4E8;">&gt;Look for article.&lt;/</span><span style="color:#79B8FF;">Link</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">hr</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">href</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;/posts&quot;</span><span style="color:#E1E4E8;">&gt;To Posts (Native a tag)&lt;/</span><span style="color:#85E89D;">a</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> Link </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/link&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Home</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">h1</span><span style="color:#24292E;">&gt;Home&lt;/</span><span style="color:#22863A;">h1</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#005CC5;">Link</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">href</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;/posts&quot;</span><span style="color:#24292E;">&gt;Look for article.&lt;/</span><span style="color:#005CC5;">Link</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">hr</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">a</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">href</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;/posts&quot;</span><span style="color:#24292E;">&gt;To Posts (Native a tag)&lt;/</span><span style="color:#22863A;">a</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="ç¼–ç¨‹å¼" tabindex="-1">ç¼–ç¨‹å¼ <a class="header-anchor" href="#ç¼–ç¨‹å¼" aria-label="Permalink to &quot;ç¼–ç¨‹å¼&quot;">â€‹</a></h3><p>â€‹ ä½¿ç”¨<code>useRouter</code>é’©å­æ¥è·å–è·¯ç”±å¯¹è±¡å®ä¾‹ï¼Œå¯ä»¥ç”¨æ¥å¯¼èˆªã€æŸ¥çœ‹å½“å‰è·¯ç”±è·¯å¾„ã€æŸ¥è¯¢å‚æ•°ã€åŠ¨æ€å‚æ•°...</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> MyLayout </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@/app/layout&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { useRouter } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/router&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Posts</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">router</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useRouter</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">handleClick</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> router.</span><span style="color:#B392F0;">push</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;/&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#79B8FF;">MyLayout</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">h1</span><span style="color:#E1E4E8;">&gt;Posts&lt;/</span><span style="color:#85E89D;">h1</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">button</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">className</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;border text-xs px-2 py-1 bg-sky-300&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">onClick</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{handleClick}&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          Back to home.</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#79B8FF;">MyLayout</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> MyLayout </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@/app/layout&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { useRouter } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/router&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Posts</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">router</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useRouter</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">handleClick</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> router.</span><span style="color:#6F42C1;">push</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;/&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#005CC5;">MyLayout</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">h1</span><span style="color:#24292E;">&gt;Posts&lt;/</span><span style="color:#22863A;">h1</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">button</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;border text-xs px-2 py-1 bg-sky-300&quot;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">onClick</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{handleClick}&gt;</span></span>
<span class="line"><span style="color:#24292E;">          Back to home.</span></span>
<span class="line"><span style="color:#24292E;">        &lt;/</span><span style="color:#22863A;">button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#005CC5;">MyLayout</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_3-åŠ¨æ€è·¯ç”±" tabindex="-1">3.åŠ¨æ€è·¯ç”± <a class="header-anchor" href="#_3-åŠ¨æ€è·¯ç”±" aria-label="Permalink to &quot;3.åŠ¨æ€è·¯ç”±&quot;">â€‹</a></h2><p>â€‹ åŠ¨æ€è·¯ç”±ä¹Ÿå°±æ˜¯å¯¹è·¯å¾„å‚æ•°åŒ¹é…ä¸ŠåŒä¸€ä¸ªè·¯ç”±ç»„ä»¶ã€‚</p><h3 id="ç®€å•ä½¿ç”¨ã€ä¸€ä¸ªå‚æ•°ã€‘ğŸ˜" tabindex="-1">ç®€å•ä½¿ç”¨ã€ä¸€ä¸ªå‚æ•°ã€‘ğŸ˜ <a class="header-anchor" href="#ç®€å•ä½¿ç”¨ã€ä¸€ä¸ªå‚æ•°ã€‘ğŸ˜" aria-label="Permalink to &quot;ç®€å•ä½¿ç”¨ã€ä¸€ä¸ªå‚æ•°ã€‘ğŸ˜&quot;">â€‹</a></h3><p>å¦‚ä½•åˆ›å»ºä¸€ä¸ªåŠ¨æ€è·¯ç”±å‘¢ï¼Ÿ</p><p>åˆ›å»ºä¸€ä¸ª<code>/pages/user/[uid].tsx</code>ï¼Œç„¶åå°±å¯ä»¥é€šè¿‡<code>/user/1</code>æ¥åŒ¹é…ä¸Šè¯¥è·¯ç”±äº†ã€‚ç„¶åå¯ä»¥é€šè¿‡<code>useRouter</code>æ¥è·å–è·¯å¾„å‚æ•°çš„å€¼ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { useRouter } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/router&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">User</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">router</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useRouter</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// å¯¹çš„ï¼Œä½ æ²¡çœ‹é”™ï¼Œqueryæ˜¯åŠ¨æ€å‚æ•°ï¼Œä¹Ÿæ˜¯æŸ¥è¯¢å‚æ•°ğŸ˜…</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">uid</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> router.query;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;User id is {uid}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { useRouter } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/router&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">User</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">router</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useRouter</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// å¯¹çš„ï¼Œä½ æ²¡çœ‹é”™ï¼Œqueryæ˜¯åŠ¨æ€å‚æ•°ï¼Œä¹Ÿæ˜¯æŸ¥è¯¢å‚æ•°ğŸ˜…</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">uid</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> router.query;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;User id is {uid}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="ç¨æœ‰ä¸é€‚ã€å¤šä¸ªå‚æ•°ã€‘ğŸ˜…" tabindex="-1">ç¨æœ‰ä¸é€‚ã€å¤šä¸ªå‚æ•°ã€‘ğŸ˜… <a class="header-anchor" href="#ç¨æœ‰ä¸é€‚ã€å¤šä¸ªå‚æ•°ã€‘ğŸ˜…" aria-label="Permalink to &quot;ç¨æœ‰ä¸é€‚ã€å¤šä¸ªå‚æ•°ã€‘ğŸ˜…&quot;">â€‹</a></h3><p>æˆ‘åŠ¨æ€å‚æ•°æœ‰ä¸¤ä¸ªï¼Œè¦æ€ä¹ˆåŠå‘¢ï¼Ÿæ²¡é—®é¢˜ï¼Œå’±ä»¬Nextå¯¹å¤šä¸ªåŠ¨æ€å‚æ•°éƒ½è¿›è¡Œäº†å¤„ç†ã€‚</p><h4 id="ç¤ºä¾‹1" tabindex="-1">ç¤ºä¾‹1 <a class="header-anchor" href="#ç¤ºä¾‹1" aria-label="Permalink to &quot;ç¤ºä¾‹1&quot;">â€‹</a></h4><p>ä¾‹å¦‚æœ‰ä¸€ä¸ª<code>/user/:uid/:page</code>çš„è·¯ç”±ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åˆ›å»º<code>/pages/user/[uid]/[page].tsx</code>çš„è·¯ç”±ç»„ä»¶ã€‚æ˜¯çš„ä½ æ²¡çœ‹é”™ï¼Œå°±æ˜¯æ–‡ä»¶åæœ‰ç‚¹éš¾çœ‹ã€‚</p><p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡<code>/user/52/2</code>æ¥åŒ¹é…ä¸Š<code>[page].tsx</code>è·¯ç”±äº†ã€‚</p><h4 id="ç¤ºä¾‹2" tabindex="-1">ç¤ºä¾‹2 <a class="header-anchor" href="#ç¤ºä¾‹2" aria-label="Permalink to &quot;ç¤ºä¾‹2&quot;">â€‹</a></h4><p>ä¾‹å¦‚æˆ‘æœ‰ä¸€ä¸ª<code>/user/:xxx/yyy/:zzz</code>çš„è·¯ç”±ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åˆ›å»º<code>/pages/[xxx]/yyy/[zzz].tsx</code>çš„è·¯ç”±ç»„ä»¶ã€‚</p><p>æ—¢å¯ä»¥é€šè¿‡<code>/user/4/yyy/77</code>æ¥åŒ¹é…ä¸Šè·¯ç”±ã€‚</p><h3 id="æœ‰ç‚¹æ¶å¿ƒã€æ•è·å…¨éƒ¨ã€‘ğŸ¤¢" tabindex="-1">æœ‰ç‚¹æ¶å¿ƒã€æ•è·å…¨éƒ¨ã€‘ğŸ¤¢ <a class="header-anchor" href="#æœ‰ç‚¹æ¶å¿ƒã€æ•è·å…¨éƒ¨ã€‘ğŸ¤¢" aria-label="Permalink to &quot;æœ‰ç‚¹æ¶å¿ƒã€æ•è·å…¨éƒ¨ã€‘ğŸ¤¢&quot;">â€‹</a></h3><p>Nextæ‹¥æœ‰æ•è·æ‰€æœ‰è·¯ç”±å‚æ•°çš„åŠŸèƒ½ã€‚å¯ä»¥åœ¨å¤šä¸ªå‚æ•°çš„æƒ…å†µä¸‹ä½¿ç”¨åŒä¸€ä¸ªè·¯ç”±ç»„ä»¶ï¼Œç¨æœ‰ä¸é€‚é‚£ç§æƒ…å†µå‚æ•°ä¸ªæ•°ä¸åŒå¯¹åº”çš„è·¯ç”±ç»„ä»¶ä¹Ÿä¸ä¸€æ ·ï¼Œè€Œç°åœ¨è¿™ä¸ªåŠŸèƒ½æ˜¯å¤šä¸ªå‚æ•°å…¬ç”¨ä¸€ä¸ªç»„ä»¶ï¼Œä½¿ç”¨åœºæ™¯ä¸ä¸€æ ·ã€‚</p><p>ä¾‹å¦‚æˆ‘æƒ³è¦è®©<code>/user/:uid</code>å’Œ<code>/user/:uid/:page</code>éƒ½åŒ¹é…åŒä¸€ä¸ªè·¯ç”±è¦å’‹æ•´?</p><p>åªéœ€è¦åˆ›å»º<code>/pages/user/[...params].tsx</code>å³å¯ï¼ˆä¸ä¸€å®šéƒ½å«paramsï¼Œå¯ä»¥è‡ªå·±å–ï¼Œrouter.query[xxxx]ï¼Œå°±æ˜¯æ‰€æœ‰åŠ¨æ€å‚æ•°çš„å€¼äº†ï¼‰ï¼Œè¿™æ ·åœ¨è®¿é—®è¿™ä¸¤ç§å‚æ•°çš„è·¯ç”±æ—¶éƒ½å¯ä»¥åŒ¹é…ä¸Šè¯¥è·¯ç”±ç»„ä»¶ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">router</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useRouter</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(router.query)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">router</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useRouter</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(router.query)</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">/user/1?ok=5 ---- {ok:&quot;5&quot;,params:[&quot;1&quot;]} // paramså±æ€§åä¸å›ºå®šæ ¹æ®ä½ è·¯ç”±åç§°[...params]è€Œå®š</span></span>
<span class="line"><span style="color:#e1e4e8;">/user/1/5 --- {params:[&quot;1&quot;,&quot;5&quot;]}</span></span>
<span class="line"><span style="color:#e1e4e8;">/user/sasa/adsda/qwdqw/qwdwdq --- {params:[&quot;sasa&quot;,&quot;adsads&quot;....]}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">/user/1?ok=5 ---- {ok:&quot;5&quot;,params:[&quot;1&quot;]} // paramså±æ€§åä¸å›ºå®šæ ¹æ®ä½ è·¯ç”±åç§°[...params]è€Œå®š</span></span>
<span class="line"><span style="color:#24292e;">/user/1/5 --- {params:[&quot;1&quot;,&quot;5&quot;]}</span></span>
<span class="line"><span style="color:#24292e;">/user/sasa/adsda/qwdqw/qwdwdq --- {params:[&quot;sasa&quot;,&quot;adsads&quot;....]}</span></span></code></pre></div><h3 id="æ„Ÿåˆ°çœ©æ™•ã€å¯é€‰å‚æ•°ã€‘ğŸ˜µâ€ğŸ’«" tabindex="-1">æ„Ÿåˆ°çœ©æ™•ã€å¯é€‰å‚æ•°ã€‘ğŸ˜µâ€ğŸ’« <a class="header-anchor" href="#æ„Ÿåˆ°çœ©æ™•ã€å¯é€‰å‚æ•°ã€‘ğŸ˜µâ€ğŸ’«" aria-label="Permalink to &quot;æ„Ÿåˆ°çœ©æ™•ã€å¯é€‰å‚æ•°ã€‘ğŸ˜µâ€ğŸ’«&quot;">â€‹</a></h3><p>å‡å¦‚æˆ‘ç°åœ¨æ‹¥æœ‰<code>/user/[...params].tsx</code>çš„è·¯ç”±äº†ï¼Œæˆ‘ç›´æ¥è®¿é—®<code>/user</code>ä¼šå‡ºç°404ï¼Œæˆ‘æƒ³è®©æˆ‘çš„ç½‘é¡µå¯ä»¥è®©å‚æ•°å˜å¾—å¯é€‰ï¼Œä»è€Œå¯ä»¥æ­£å¸¸è®¿é—®<code>/user</code>åŒ¹é…ä¸Š<code>/user/[...params].tsx</code>ï¼Œè¦æ€ä¹ˆåŠå‘¢?</p><p>å¾ˆç®€å•ï¼Œåªéœ€è¦åˆ›å»º<code>/user/[[...params]].tsx</code>å³å¯ï¼Œè¿™æ ·å°±ç®—æœªæºå¸¦å‚æ•°ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è®¿é—®<code>/user/[[...paras]].tsx</code>ç»„ä»¶äº†ï¼Œå°±æ˜¯è¿™å‘½åæ–¹å¼å¤šå°‘æœ‰ç‚¹ã€‚ã€‚</p><h3 id="éå¸¸éš¾å—ã€å¹³è¡Œè·¯ç”±ã€‘ğŸ¥µ" tabindex="-1">éå¸¸éš¾å—ã€å¹³è¡Œè·¯ç”±ã€‘ğŸ¥µ <a class="header-anchor" href="#éå¸¸éš¾å—ã€å¹³è¡Œè·¯ç”±ã€‘ğŸ¥µ" aria-label="Permalink to &quot;éå¸¸éš¾å—ã€å¹³è¡Œè·¯ç”±ã€‘ğŸ¥µ&quot;">â€‹</a></h3><p>App Router!!</p><p><a href="https://juejin.cn/post/7296330137284788275" target="_blank" rel="noreferrer">https://juejin.cn/post/7296330137284788275</a></p><p><strong>aaa/@xxx/page.tsx</strong> å¯ä»¥åœ¨ layout.tsx é‡Œå¼•å…¥å¤šä¸ªï¼Œå«åšå¹³è¡Œè·¯ç”±</p><h3 id="åœ°ç‹±çº§åˆ«ã€æ‹¦æˆªè·¯ç”±ã€‘ğŸ’€" tabindex="-1">åœ°ç‹±çº§åˆ«ã€æ‹¦æˆªè·¯ç”±ã€‘ğŸ’€ <a class="header-anchor" href="#åœ°ç‹±çº§åˆ«ã€æ‹¦æˆªè·¯ç”±ã€‘ğŸ’€" aria-label="Permalink to &quot;åœ°ç‹±çº§åˆ«ã€æ‹¦æˆªè·¯ç”±ã€‘ğŸ’€&quot;">â€‹</a></h3><p>App Router!!</p><p><strong>aaa/(..)/bbb/page.js</strong> å¯ä»¥æ‹¦æˆª /bbb çš„è·¯ç”±ï¼Œé‡å†™å¯¹åº”çš„ç»„ä»¶ï¼Œä½†æ˜¯åˆ·æ–°åä¾ç„¶æ¸²æŸ“åŸç»„ä»¶ï¼Œå«åšæ‹¦æˆªè·¯ç”±ã€‚</p><p><a href="https://next.nodejs.cn/docs/app/building-your-application/routing/intercepting-routes" target="_blank" rel="noreferrer">https://next.nodejs.cn/docs/app/building-your-application/routing/intercepting-routes</a></p><h3 id="å¤©å ‚çº§åˆ«ã€åˆ†ç»„è·¯ç”±ã€‘ğŸ˜‡" tabindex="-1">å¤©å ‚çº§åˆ«ã€åˆ†ç»„è·¯ç”±ã€‘ğŸ˜‡ <a class="header-anchor" href="#å¤©å ‚çº§åˆ«ã€åˆ†ç»„è·¯ç”±ã€‘ğŸ˜‡" aria-label="Permalink to &quot;å¤©å ‚çº§åˆ«ã€åˆ†ç»„è·¯ç”±ã€‘ğŸ˜‡&quot;">â€‹</a></h3><p>App Router!!</p><p>è·¯ç”±ç»„ (xxx) åŠ äº†ä¸ªæ‹¬å·æ¥è¡¨ç¤ºåˆ†ç»„ï¼Œä¸å‚ä¸å¯¼èˆªã€‚</p><h2 id="_4-è·¯ç”±ä¼ å‚" tabindex="-1">4.è·¯ç”±ä¼ å‚ <a class="header-anchor" href="#_4-è·¯ç”±ä¼ å‚" aria-label="Permalink to &quot;4.è·¯ç”±ä¼ å‚&quot;">â€‹</a></h2><p>â€‹ ä¸è®ºæ˜¯åŠ¨æ€å‚æ•°è¿˜æ˜¯æŸ¥è¯¢å‚æ•°éƒ½å¯ä»¥é€šè¿‡<code>useRouter().query</code>æ¥è·å–ã€‚</p><p>â€‹ ä¾‹å¦‚ï¼š<code>/user/:uid</code> ï¼Œè®¿é—®<code>/user/1?page=5</code>ï¼Œåˆ™å¯ä»¥é€šè¿‡ï¼š</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">router</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useRouter</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">router.query </span><span style="color:#6A737D;">// {uid:&quot;1&quot;,page:&quot;5&quot;}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">router</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useRouter</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">router.query </span><span style="color:#6A737D;">// {uid:&quot;1&quot;,page:&quot;5&quot;}</span></span></code></pre></div><h2 id="_5-é»˜è®¤è·¯ç”±" tabindex="-1">5.é»˜è®¤è·¯ç”± <a class="header-anchor" href="#_5-é»˜è®¤è·¯ç”±" aria-label="Permalink to &quot;5.é»˜è®¤è·¯ç”±&quot;">â€‹</a></h2><p>â€‹ index.tsxå’Œpage.tsxéƒ½æ˜¯é»˜è®¤è·¯ç”±ç»„ä»¶ï¼Œä¾‹å¦‚ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">/pages/index.tsx --- /</span></span>
<span class="line"><span style="color:#e1e4e8;">/pages/page.tsx --- /</span></span>
<span class="line"><span style="color:#e1e4e8;">/pages/user/index.tsx --- /user</span></span>
<span class="line"><span style="color:#e1e4e8;">/pages/user/page.tsx --- /user</span></span>
<span class="line"><span style="color:#e1e4e8;">/pages/user/[uid]/index.tsx --- /user/:uid</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">/pages/index.tsx --- /</span></span>
<span class="line"><span style="color:#24292e;">/pages/page.tsx --- /</span></span>
<span class="line"><span style="color:#24292e;">/pages/user/index.tsx --- /user</span></span>
<span class="line"><span style="color:#24292e;">/pages/user/page.tsx --- /user</span></span>
<span class="line"><span style="color:#24292e;">/pages/user/[uid]/index.tsx --- /user/:uid</span></span></code></pre></div><h2 id="_6-è·¯ç”±é’©å­" tabindex="-1">6.è·¯ç”±é’©å­ <a class="header-anchor" href="#_6-è·¯ç”±é’©å­" aria-label="Permalink to &quot;6.è·¯ç”±é’©å­&quot;">â€‹</a></h2><p>useRouter</p><h1 id="ä¸‰ã€é™æ€èµ„æº" tabindex="-1">ä¸‰ã€é™æ€èµ„æº <a class="header-anchor" href="#ä¸‰ã€é™æ€èµ„æº" aria-label="Permalink to &quot;ä¸‰ã€é™æ€èµ„æº&quot;">â€‹</a></h1><p>â€‹ åœ¨Nextçš„é¡¹ç›®ä¸­ï¼Œé™æ€èµ„æºå­˜å‚¨åœ¨publicæ–‡ä»¶å¤¹ä¸‹ï¼Œåº”ç”¨å¯åŠ¨æ—¶ä¼šå°†publicä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½æŒ‚è½½åœ¨NextæœåŠ¡å™¨ä¸Šã€‚</p><p>â€‹ ä¾‹å¦‚<code>/public/dog.png</code>ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>/dog.png</code>æˆ–<code>localhost:3000/dog.png</code>æ¥è®¿é—®é™æ€èµ„æºã€‚åŒæ ·çš„ï¼Œæ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶ä¹ŸåŒæ ·ä¼šè¢«æŒ‚è½½ï¼Œä¾‹å¦‚<code>/public/imgs/person/me.svg</code>ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>/imgs/person/me.svg</code>æ¥è®¿é—®è¯¥æ–‡ä»¶ã€‚</p><p>â€‹ å…¶å®ï¼Œä»»ä½•æ–‡ä»¶éƒ½å¯ä»¥æŒ‚è½½åœ¨publicæ–‡ä»¶å¤¹ä¸­ï¼Œç”šè‡³æˆ‘ä»¬å¯ä»¥åœ¨publicä¸­åˆ›å»ºindex.htmlï¼Œåœ¨<code>localhost:3000/index.html</code>åŒæ ·å¯ä»¥è®¿é—®ã€‚<strong>NextæœåŠ¡å™¨åœ¨æ¥æ”¶åˆ°è¯·æ±‚æ—¶ï¼Œä¼šä¼˜å…ˆæŸ¥çœ‹å½“å‰è·¯å¾„æ˜¯å¦åœ¨publicä¸­å­˜åœ¨ï¼Œè‹¥å­˜åœ¨åˆ™ä¼˜å…ˆå“åº”ï¼Œè‹¥ä¸å­˜åœ¨æ‰ä¼šé€šè¿‡è·¯ç”±ç³»ç»ŸåŒ¹é…è·¯ç”±é¡µé¢ã€‚</strong></p><h1 id="å››ã€å…ƒæ•°æ®" tabindex="-1">å››ã€å…ƒæ•°æ® <a class="header-anchor" href="#å››ã€å…ƒæ•°æ®" aria-label="Permalink to &quot;å››ã€å…ƒæ•°æ®&quot;">â€‹</a></h1><p>â€‹ è¿™é‡Œçš„å…ƒæ•°æ®æ˜¯æŒ‡ç½‘é¡µçš„å…ƒæ•°æ®ï¼Œmetaæ ‡ç­¾ã€‚Nextæä¾›äº†Headç»„ä»¶å…è®¸ä½ åœ¨é‡Œé¢å†™å…¥ä¸€äº›æ ‡ç­¾ï¼Œå¹¶å°†è¿™äº›æ ‡ç­¾æ·»åŠ åˆ°æ–‡æ¡£çš„headæ ‡ç­¾ä¸­ã€‚</p><h2 id="ç®€å•ç¤ºä¾‹" tabindex="-1">ç®€å•ç¤ºä¾‹ <a class="header-anchor" href="#ç®€å•ç¤ºä¾‹" aria-label="Permalink to &quot;ç®€å•ç¤ºä¾‹&quot;">â€‹</a></h2><p>â€‹ Nextæ¨èç¼–å†™metaã€linkã€titleæ ‡ç­¾åœ¨Headä¸­ï¼Œè€Œä¸æ˜¯åœ¨é‡Œé¢å†™UIã€è„šæœ¬ã€‚Headç»„ä»¶ä»¥å¤–çš„UIå†…å®¹éƒ½ä¼šè¢«ç§»å…¥åˆ°è·¯ç”±ç»„ä»¶ä¸­ï¼Œè¿™ä¸€ç‚¹ä¸éœ€è¦æ‹…å¿ƒã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> Head </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/head&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Meta</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#79B8FF;">Head</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">meta</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;description&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">content</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;å…è´¹çš„ Web æ•™ç¨‹&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">meta</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">meta</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;keywords&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">content</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;HTML, CSS, JavaScript&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">meta</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">meta</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;author&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">content</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;Bill Gates&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">meta</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">title</span><span style="color:#E1E4E8;">&gt;Meta Setting Page&lt;/</span><span style="color:#85E89D;">title</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">link</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">ref</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;icon&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">href</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;/next.svg&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">link</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#79B8FF;">Head</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">h1</span><span style="color:#E1E4E8;">&gt;Meta Page...&lt;/</span><span style="color:#85E89D;">h1</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> Head </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/head&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Meta</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#005CC5;">Head</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">meta</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;description&quot;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">content</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;å…è´¹çš„ Web æ•™ç¨‹&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">meta</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">meta</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;keywords&quot;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">content</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;HTML, CSS, JavaScript&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">meta</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">meta</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;author&quot;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">content</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;Bill Gates&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">meta</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">title</span><span style="color:#24292E;">&gt;Meta Setting Page&lt;/</span><span style="color:#22863A;">title</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">link</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">ref</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;icon&quot;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">href</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;/next.svg&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">link</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#005CC5;">Head</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">h1</span><span style="color:#24292E;">&gt;Meta Page...&lt;/</span><span style="color:#22863A;">h1</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h1 id="äº”ã€css" tabindex="-1">äº”ã€CSS <a class="header-anchor" href="#äº”ã€css" aria-label="Permalink to &quot;äº”ã€CSS&quot;">â€‹</a></h1><h2 id="ç¼–ç å§¿åŠ¿" tabindex="-1">ç¼–ç å§¿åŠ¿ <a class="header-anchor" href="#ç¼–ç å§¿åŠ¿" aria-label="Permalink to &quot;ç¼–ç å§¿åŠ¿&quot;">â€‹</a></h2><p>â€‹ nextå†…ç½®å¼€ç®±å³ç”¨çš„tailwind csså’Œcss in jsæ’ä»¶ä»»å›ä½¿ç”¨ã€‚å¦‚æœä½ æƒ³ä½¿ç”¨ CSS Moduleã€å…¶ä»–CSS in JSçš„å·®è·ï¼Œè¯·éšæ„ï¼</p><h3 id="styled-jsx" tabindex="-1">styled-jsx <a class="header-anchor" href="#styled-jsx" aria-label="Permalink to &quot;styled-jsx&quot;">â€‹</a></h3><p>â€‹ styled-jsxæ˜¯Next.jså†…ç½®æ’ä»¶ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œä½¿ç”¨æ–¹å¼éå¸¸ç®€å•ï¼ˆå¹¶ä¸”æ‰©å±•äº†cssï¼Œå¯ä»¥ä½¿ç”¨scssé¢„å¤„ç†å™¨ç¼–å†™cssï¼‰ï¼Œå¹¶ä¸”ä¸ä¼šæ±¡æŸ“å…¶ä»–ç»„ä»¶ã€å…¨å±€çš„æ ·å¼ï¼ˆscopedï¼‰ã€‚ä¸ªäººæ„Ÿè§‰é™¤äº†æ²¡æç¤ºä»¥å¤–éƒ½æŒºå¥½çš„ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CSS</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">h1</span><span style="color:#E1E4E8;">&gt;CSS coding&lt;/</span><span style="color:#85E89D;">h1</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;CSS in JS&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;click me&lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">span</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">className</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;fish-spin&quot;</span><span style="color:#E1E4E8;">&gt;ğŸŸ&lt;/</span><span style="color:#85E89D;">span</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">style</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">jsx</span><span style="color:#E1E4E8;">&gt;{</span><span style="color:#9ECBFF;">`</span></span>
<span class="line"><span style="color:#9ECBFF;">        h1 {</span></span>
<span class="line"><span style="color:#9ECBFF;">          color: red;</span></span>
<span class="line"><span style="color:#9ECBFF;">        }</span></span>
<span class="line"><span style="color:#9ECBFF;">        div {</span></span>
<span class="line"><span style="color:#9ECBFF;">          color: skyblue;</span></span>
<span class="line"><span style="color:#9ECBFF;">          font-size: 20px;</span></span>
<span class="line"><span style="color:#9ECBFF;">        }</span></span>
<span class="line"><span style="color:#9ECBFF;">        button {</span></span>
<span class="line"><span style="color:#9ECBFF;">          &amp;:hover {</span></span>
<span class="line"><span style="color:#9ECBFF;">            background-color: blue;</span></span>
<span class="line"><span style="color:#9ECBFF;">          }</span></span>
<span class="line"><span style="color:#9ECBFF;">        }</span></span>
<span class="line"><span style="color:#9ECBFF;">        @keyframes Fish {</span></span>
<span class="line"><span style="color:#9ECBFF;">          from {</span></span>
<span class="line"><span style="color:#9ECBFF;">            transform: rotate(0deg);</span></span>
<span class="line"><span style="color:#9ECBFF;">          }</span></span>
<span class="line"><span style="color:#9ECBFF;">          to {</span></span>
<span class="line"><span style="color:#9ECBFF;">            transform: rotate(360deg);</span></span>
<span class="line"><span style="color:#9ECBFF;">          }</span></span>
<span class="line"><span style="color:#9ECBFF;">        }</span></span>
<span class="line"><span style="color:#9ECBFF;">        .fish-spin {</span></span>
<span class="line"><span style="color:#9ECBFF;">          display:inline-block;</span></span>
<span class="line"><span style="color:#9ECBFF;">          animation: Fish infinite 1s linear;</span></span>
<span class="line"><span style="color:#9ECBFF;">        }</span></span>
<span class="line"><span style="color:#9ECBFF;">      `</span><span style="color:#E1E4E8;">}&lt;/</span><span style="color:#85E89D;">style</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CSS</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">h1</span><span style="color:#24292E;">&gt;CSS coding&lt;/</span><span style="color:#22863A;">h1</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;CSS in JS&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">button</span><span style="color:#24292E;">&gt;click me&lt;/</span><span style="color:#22863A;">button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">span</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;fish-spin&quot;</span><span style="color:#24292E;">&gt;ğŸŸ&lt;/</span><span style="color:#22863A;">span</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">style</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">jsx</span><span style="color:#24292E;">&gt;{</span><span style="color:#032F62;">`</span></span>
<span class="line"><span style="color:#032F62;">        h1 {</span></span>
<span class="line"><span style="color:#032F62;">          color: red;</span></span>
<span class="line"><span style="color:#032F62;">        }</span></span>
<span class="line"><span style="color:#032F62;">        div {</span></span>
<span class="line"><span style="color:#032F62;">          color: skyblue;</span></span>
<span class="line"><span style="color:#032F62;">          font-size: 20px;</span></span>
<span class="line"><span style="color:#032F62;">        }</span></span>
<span class="line"><span style="color:#032F62;">        button {</span></span>
<span class="line"><span style="color:#032F62;">          &amp;:hover {</span></span>
<span class="line"><span style="color:#032F62;">            background-color: blue;</span></span>
<span class="line"><span style="color:#032F62;">          }</span></span>
<span class="line"><span style="color:#032F62;">        }</span></span>
<span class="line"><span style="color:#032F62;">        @keyframes Fish {</span></span>
<span class="line"><span style="color:#032F62;">          from {</span></span>
<span class="line"><span style="color:#032F62;">            transform: rotate(0deg);</span></span>
<span class="line"><span style="color:#032F62;">          }</span></span>
<span class="line"><span style="color:#032F62;">          to {</span></span>
<span class="line"><span style="color:#032F62;">            transform: rotate(360deg);</span></span>
<span class="line"><span style="color:#032F62;">          }</span></span>
<span class="line"><span style="color:#032F62;">        }</span></span>
<span class="line"><span style="color:#032F62;">        .fish-spin {</span></span>
<span class="line"><span style="color:#032F62;">          display:inline-block;</span></span>
<span class="line"><span style="color:#032F62;">          animation: Fish infinite 1s linear;</span></span>
<span class="line"><span style="color:#032F62;">        }</span></span>
<span class="line"><span style="color:#032F62;">      `</span><span style="color:#24292E;">}&lt;/</span><span style="color:#22863A;">style</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="å…¨å±€æ ·å¼" tabindex="-1">å…¨å±€æ ·å¼ <a class="header-anchor" href="#å…¨å±€æ ·å¼" aria-label="Permalink to &quot;å…¨å±€æ ·å¼&quot;">â€‹</a></h2><p>â€‹ è¿™é‡Œä¼šåˆ›å»ºä¸€ä¸ªç±»ä¼¼äºæ ¹ç»„ä»¶çš„æ–‡ä»¶ï¼Œåˆ›å»º<code>/pages/_app.tsx</code>æ–‡ä»¶ï¼Œä»–å¯ä»¥ä½œä¸ºåº”ç”¨çš„æ ¹ç»„ä»¶ï¼Œæ¯æ¬¡æ¸²æŸ“è·¯ç”±ç»„ä»¶æ—¶éƒ½ä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶ä¸”å¯ä»¥æ¥æ”¶åˆ°ä¸€ä¸ªpropsï¼Œå…¶ä¸­åŒ…å«äº†è¿™äº›å±æ€§ï¼š</p><p><code>pageProps</code>ï¼šä¼ å…¥çš„propsã€‚</p><p><code>Components</code>ï¼šéœ€è¦æ¸²æŸ“çš„è·¯ç”±ç»„ä»¶ï¼Œä¸€ä¸ªå‡½æ•°å¼ç»„ä»¶ã€‚</p><p><code>router</code>ï¼šè·¯ç”±å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«äº†å½“å‰è·¯ç”±è·¯å¾„ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// pages/_app.tsx</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { AppProps } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/app&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#6A737D;">// å¼•å…¥tindwind cssæˆ–å…¶ä»–cssæ–‡ä»¶</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@/app/globals.css&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">App</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">props</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">AppProps</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// éœ€è¦è¢«æ¸²æŸ“çš„ä¸€çº§è·¯ç”±ç»„ä»¶</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> &lt;</span><span style="color:#79B8FF;">props.Component</span><span style="color:#E1E4E8;"> {</span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;">props.pageProps}&gt;&lt;/</span><span style="color:#79B8FF;">props.Component</span><span style="color:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// pages/_app.tsx</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { AppProps } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/app&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#6A737D;">// å¼•å…¥tindwind cssæˆ–å…¶ä»–cssæ–‡ä»¶</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@/app/globals.css&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">App</span><span style="color:#24292E;">(</span><span style="color:#E36209;">props</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">AppProps</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// éœ€è¦è¢«æ¸²æŸ“çš„ä¸€çº§è·¯ç”±ç»„ä»¶</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> &lt;</span><span style="color:#005CC5;">props.Component</span><span style="color:#24292E;"> {</span><span style="color:#D73A49;">...</span><span style="color:#24292E;">props.pageProps}&gt;&lt;/</span><span style="color:#005CC5;">props.Component</span><span style="color:#24292E;">&gt;;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p><code>_app.tsx</code>ä½œä¸ºæ ¹ç»„ä»¶ï¼Œé€‚åˆç”¨äºå…¨å±€æ ·å¼å¯¼å…¥ã€å¸ƒå±€ç»„ä»¶ç­‰åŠŸèƒ½ã€‚</p><h2 id="ä½¿ç”¨cssé¢„å¤„ç†å™¨" tabindex="-1">ä½¿ç”¨CSSé¢„å¤„ç†å™¨ <a class="header-anchor" href="#ä½¿ç”¨cssé¢„å¤„ç†å™¨" aria-label="Permalink to &quot;ä½¿ç”¨CSSé¢„å¤„ç†å™¨&quot;">â€‹</a></h2><p>â€‹</p><h1 id="å…­ã€å¸ƒå±€ç»„ä»¶" tabindex="-1">å…­ã€å¸ƒå±€ç»„ä»¶ <a class="header-anchor" href="#å…­ã€å¸ƒå±€ç»„ä»¶" aria-label="Permalink to &quot;å…­ã€å¸ƒå±€ç»„ä»¶&quot;">â€‹</a></h1><p>â€‹ æƒ³è®©æ¯ä¸ªé¡µé¢éƒ½æœ‰ç›¸ä¼¼çš„ç»“æ„ï¼ˆæ¯”å¦‚ï¼šåå°ç®¡ç†ç³»ç»Ÿï¼Œå¸ƒå±€åµŒå…¥ä¸€çº§è·¯ç”±å…¥å£ï¼‰ï¼Ÿä¸å¦¨è‡ªå·±ç¼–å†™ä¸€ä¸ªå¸ƒå±€ç»„ä»¶ï¼Œç„¶ååœ¨è·¯ç”±ç»„ä»¶ä¸­ä½¿ç”¨ï¼Œè¿™æ ·å°±å¯ä»¥å¤ç”¨å¸ƒå±€å•¦~ã€‚</p><h2 id="æ ¹ç»„ä»¶" tabindex="-1">æ ¹ç»„ä»¶ <a class="header-anchor" href="#æ ¹ç»„ä»¶" aria-label="Permalink to &quot;æ ¹ç»„ä»¶&quot;">â€‹</a></h2><p>â€‹ åœ¨<code>/app/layout.tsx</code>ä¸­é»˜è®¤å¯¼å‡ºçš„ç»„ä»¶å°†ä¼šä½œä¸ºæ ¹ç»„ä»¶ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { ReactNode } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Layout</span><span style="color:#E1E4E8;">({ </span><span style="color:#FFAB70;">children</span><span style="color:#E1E4E8;"> }</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> { </span><span style="color:#FFAB70;">children</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ReactNode</span><span style="color:#E1E4E8;"> }) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">html</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">lang</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;zh&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">body</span><span style="color:#E1E4E8;">&gt;{children}&lt;/</span><span style="color:#85E89D;">body</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">html</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { ReactNode } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Layout</span><span style="color:#24292E;">({ </span><span style="color:#E36209;">children</span><span style="color:#24292E;"> }</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> { </span><span style="color:#E36209;">children</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ReactNode</span><span style="color:#24292E;"> }) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">html</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">lang</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;zh&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">body</span><span style="color:#24292E;">&gt;{children}&lt;/</span><span style="color:#22863A;">body</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">html</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="å±€éƒ¨" tabindex="-1">å±€éƒ¨ <a class="header-anchor" href="#å±€éƒ¨" aria-label="Permalink to &quot;å±€éƒ¨&quot;">â€‹</a></h2><p>é€šè¿‡ç¼–å†™ç»„ä»¶çš„æ–¹å¼å¤ç”¨UIç»“æ„</p><h3 id="å¸ƒå±€ç»„ä»¶" tabindex="-1">å¸ƒå±€ç»„ä»¶ <a class="header-anchor" href="#å¸ƒå±€ç»„ä»¶" aria-label="Permalink to &quot;å¸ƒå±€ç»„ä»¶&quot;">â€‹</a></h3><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { PropsWithChildren } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Inter } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/font/google&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// å¼•å…¥tindwind cssæˆ–å…¶ä»–cssæ–‡ä»¶</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;./globals.css&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> Link </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/link&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// å¼•å…¥è°·æ­Œå­—ä½“</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">inter</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Inter</span><span style="color:#E1E4E8;">({ subsets: [</span><span style="color:#9ECBFF;">&quot;greek&quot;</span><span style="color:#E1E4E8;">] });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Layout</span><span style="color:#E1E4E8;">({ </span><span style="color:#FFAB70;">children</span><span style="color:#E1E4E8;"> }</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">PropsWithChildren</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">className</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{inter.className}&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">nav</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">className</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;flex justify-around bg-slate-100 items-center py-2&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#79B8FF;">Link</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">href</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;/&quot;</span><span style="color:#E1E4E8;">&gt;Home&lt;/</span><span style="color:#79B8FF;">Link</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#79B8FF;">Link</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">href</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;/css&quot;</span><span style="color:#E1E4E8;">&gt;CSS&lt;/</span><span style="color:#79B8FF;">Link</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#79B8FF;">Link</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">href</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;/meta&quot;</span><span style="color:#E1E4E8;">&gt;Meta&lt;/</span><span style="color:#79B8FF;">Link</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#79B8FF;">Link</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">href</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;/posts&quot;</span><span style="color:#E1E4E8;">&gt;Post&lt;/</span><span style="color:#79B8FF;">Link</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#85E89D;">nav</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">main</span><span style="color:#E1E4E8;">&gt;{children}&lt;/</span><span style="color:#85E89D;">main</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { PropsWithChildren } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Inter } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/font/google&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// å¼•å…¥tindwind cssæˆ–å…¶ä»–cssæ–‡ä»¶</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;./globals.css&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> Link </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/link&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// å¼•å…¥è°·æ­Œå­—ä½“</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">inter</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Inter</span><span style="color:#24292E;">({ subsets: [</span><span style="color:#032F62;">&quot;greek&quot;</span><span style="color:#24292E;">] });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Layout</span><span style="color:#24292E;">({ </span><span style="color:#E36209;">children</span><span style="color:#24292E;"> }</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PropsWithChildren</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">className</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{inter.className}&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">nav</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;flex justify-around bg-slate-100 items-center py-2&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#005CC5;">Link</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">href</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;/&quot;</span><span style="color:#24292E;">&gt;Home&lt;/</span><span style="color:#005CC5;">Link</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#005CC5;">Link</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">href</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;/css&quot;</span><span style="color:#24292E;">&gt;CSS&lt;/</span><span style="color:#005CC5;">Link</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#005CC5;">Link</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">href</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;/meta&quot;</span><span style="color:#24292E;">&gt;Meta&lt;/</span><span style="color:#005CC5;">Link</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#005CC5;">Link</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">href</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;/posts&quot;</span><span style="color:#24292E;">&gt;Post&lt;/</span><span style="color:#005CC5;">Link</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#22863A;">nav</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">main</span><span style="color:#24292E;">&gt;{children}&lt;/</span><span style="color:#22863A;">main</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="è·¯ç”±ç»„ä»¶" tabindex="-1">è·¯ç”±ç»„ä»¶ <a class="header-anchor" href="#è·¯ç”±ç»„ä»¶" aria-label="Permalink to &quot;è·¯ç”±ç»„ä»¶&quot;">â€‹</a></h3><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> MyLayout </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@/components/layout&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> Link </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/link&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Home</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#79B8FF;">Layout</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">h1</span><span style="color:#E1E4E8;">&gt;Home&lt;/</span><span style="color:#85E89D;">h1</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#79B8FF;">Link</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">href</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;/posts&quot;</span><span style="color:#E1E4E8;">&gt;Look for article.&lt;/</span><span style="color:#79B8FF;">Link</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">hr</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">href</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;/posts&quot;</span><span style="color:#E1E4E8;">&gt;To Posts (Native a tag)&lt;/</span><span style="color:#85E89D;">a</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#79B8FF;">Layout</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> MyLayout </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@/components/layout&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> Link </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/link&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Home</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#005CC5;">Layout</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">h1</span><span style="color:#24292E;">&gt;Home&lt;/</span><span style="color:#22863A;">h1</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#005CC5;">Link</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">href</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;/posts&quot;</span><span style="color:#24292E;">&gt;Look for article.&lt;/</span><span style="color:#005CC5;">Link</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">hr</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">a</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">href</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;/posts&quot;</span><span style="color:#24292E;">&gt;To Posts (Native a tag)&lt;/</span><span style="color:#22863A;">a</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#005CC5;">Layout</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h1 id="ä¸ƒã€æ•°æ®è·å–-pages-router" tabindex="-1">ä¸ƒã€æ•°æ®è·å–ï¼ˆPages Routerï¼‰ <a class="header-anchor" href="#ä¸ƒã€æ•°æ®è·å–-pages-router" aria-label="Permalink to &quot;ä¸ƒã€æ•°æ®è·å–ï¼ˆPages Routerï¼‰&quot;">â€‹</a></h1><p>â€‹ è·å–æœ‰ä¸¤ç§æ–¹å¼ï¼Œæ ¹æ®åº”ç”¨çš„æ¨¡å¼æ¥å†³å®šï¼Œè‹¥æ˜¯SSRåˆ™ä½¿ç”¨__getServerSideProps__ï¼Œè‹¥æ˜¯SSGã€ISGï¼ˆå¢é‡ç”Ÿæˆï¼‰åˆ™ä½¿ç”¨__getStaticProps__å’Œ__getStaticPaths__ã€‚</p><h2 id="getserversiderprops" tabindex="-1">getServerSiderProps <a class="header-anchor" href="#getserversiderprops" aria-label="Permalink to &quot;getServerSiderProps&quot;">â€‹</a></h2><p>â€‹ æ˜¯ä¸€ä¸ªè‡ªå·±éœ€è¦å®šä¹‰çš„å‡½æ•°ï¼Œå¯ä»¥åœ¨è·¯ç”±ç»„ä»¶åŠ è½½æ—¶è·å–ä¸€äº›æ•°æ®ï¼Œå…¶è¿”å›å€¼å¯ä»¥ä½œä¸ºå‚æ•°ä¼ å…¥è·¯ç”±ç»„ä»¶ä¸­ã€‚</p><p>â€‹ é¦–å…ˆéœ€è¦åœ¨è·¯ç”±ç»„ä»¶æ–‡ä»¶ä¸­å‘å¤–__æŒ‰éœ€æš´éœ²__<code>getServerSiderProps</code>å‡½æ•°ï¼Œè¯¥å‡½æ•°å¿…é¡»æ˜¯ä¸€ä¸ªå¼‚æ­¥çš„å‡½æ•°ã€‚ç„¶åéœ€è¦è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡ä¸­éœ€è¦åŒ…å«propså±æ€§ï¼Œè¯¥propsä¼šè¢«ä½œä¸ºå‚æ•°ä¼ å…¥åˆ°è·¯ç”±ç»„ä»¶ä¸­ã€‚</p><p>â€‹ æ‰§è¡Œæ—¶æœºï¼š</p><ol><li>é¦–å±æ¸²æŸ“æ—¶ï¼ŒæœåŠ¡å™¨ä¼šè°ƒç”¨æ­¤å‡½æ•°å®ç°é¢„æ¸²æŸ“ï¼Œå¾—åˆ°å®Œæ•´çš„htmlé¡µé¢å“åº”ç»™å®¢æˆ·ç«¯ã€‚</li><li>å®¢æˆ·ç«¯è¯·æ±‚è¯¥é¡µé¢æ—¶ï¼ŒæœåŠ¡ç«¯ç›´æ¥å“åº”è¯¥ç»„ä»¶æ–‡ä»¶èµ„æºã€‚åœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹æ¸²æŸ“ï¼ˆæ‰§è¡Œï¼‰è¯¥ç»„ä»¶æ—¶ä¼šä»¥Ajaxè¯·æ±‚æœåŠ¡å™¨æ¥å£ï¼ŒæœåŠ¡å™¨å†æ¬¡è°ƒç”¨è¯¥å‡½æ•°ï¼Œæœ€ç»ˆå“åº”ç»“æœã€‚</li></ol><h3 id="_1-å®šä¹‰" tabindex="-1">1.å®šä¹‰ <a class="header-anchor" href="#_1-å®šä¹‰" aria-label="Permalink to &quot;1.å®šä¹‰&quot;">â€‹</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { GetServerSideProps } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;next&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Page</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">props</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> &lt;</span><span style="color:#B392F0;">div</span><span style="color:#E1E4E8;">&gt;page</span><span style="color:#F97583;">&lt;/</span><span style="color:#E1E4E8;">div</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// å¿…é¡»æŒ‰éœ€å¯¼å‡º</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getServerSideProps</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">GetServerSideProps</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">context</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// å¿…é¡»çš„è¿”å›å€¼</span></span>
<span class="line"><span style="color:#E1E4E8;">        props: {}</span></span>
<span class="line"><span style="color:#E1E4E8;">    };</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> Page;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { GetServerSideProps } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;next&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Page</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#E36209;">props</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> &lt;</span><span style="color:#6F42C1;">div</span><span style="color:#24292E;">&gt;page</span><span style="color:#D73A49;">&lt;/</span><span style="color:#24292E;">div</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// å¿…é¡»æŒ‰éœ€å¯¼å‡º</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getServerSideProps</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">GetServerSideProps</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#E36209;">context</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// å¿…é¡»çš„è¿”å›å€¼</span></span>
<span class="line"><span style="color:#24292E;">        props: {}</span></span>
<span class="line"><span style="color:#24292E;">    };</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> Page;</span></span></code></pre></div><h3 id="_2-ç®€å•ç¤ºä¾‹" tabindex="-1">2.ç®€å•ç¤ºä¾‹ <a class="header-anchor" href="#_2-ç®€å•ç¤ºä¾‹" aria-label="Permalink to &quot;2.ç®€å•ç¤ºä¾‹&quot;">â€‹</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { GetServerSideProps } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">interface</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Pokemon</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">name</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">url</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">PokemonList</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Pokemon</span><span style="color:#E1E4E8;">[];</span></span>
<span class="line"><span style="color:#F97583;">interface</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Response</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">count</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">next</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">results</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">PokemonList</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Pokemons</span><span style="color:#E1E4E8;">({ </span><span style="color:#FFAB70;">results</span><span style="color:#E1E4E8;"> }</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> { </span><span style="color:#FFAB70;">results</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">PokemonList</span><span style="color:#E1E4E8;"> }) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#B392F0;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#B392F0;">h1</span><span style="color:#E1E4E8;">&gt;pokemons</span><span style="color:#F97583;">&lt;/</span><span style="color:#E1E4E8;">h1</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#B392F0;">hr</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#B392F0;">hr</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#B392F0;">ul</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        {</span><span style="color:#FFAB70;">results</span><span style="color:#E1E4E8;">.</span><span style="color:#FFAB70;">map</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">item</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">li key</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{item.name}</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">            &lt;</span><span style="color:#B392F0;">span</span><span style="color:#E1E4E8;">&gt;{item.name}</span><span style="color:#F97583;">&lt;/</span><span style="color:#E1E4E8;">span</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#F97583;">&lt;/</span><span style="color:#E1E4E8;">li</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        ))}</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">&lt;/</span><span style="color:#E1E4E8;">ul</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">&lt;/</span><span style="color:#E1E4E8;">div</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// æ­¤å‡½æ•°åªä¼šåœ¨æœåŠ¡å™¨ç¯å¢ƒä¸‹è¿è¡Œ</span></span>
<span class="line"><span style="color:#6A737D;">// æ‰§è¡Œæ—¶æœºï¼š</span></span>
<span class="line"><span style="color:#6A737D;">//  1.é¦–å±æ¸²æŸ“ä¼šè°ƒç”¨æ­¤å‡½æ•°å®ç°é¢„æ¸²æŸ“ </span></span>
<span class="line"><span style="color:#6A737D;">//  2.å®¢æˆ·ç«¯è¯·æ±‚å¹¶æ¸²æŸ“å¯¹åº”è·¯ç”±ç»„ä»¶æ—¶ï¼Œä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨è°ƒç”¨è¯¥å‡½æ•°å¹¶å“åº”ç»“æœç»™å®¢æˆ·ç«¯ </span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getServerSideProps</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">GetServerSideProps</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">context</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">results</span><span style="color:#E1E4E8;"> }</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Response</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fetch</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;https://pokeapi.co/api/v2/pokemon&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  ).</span><span style="color:#B392F0;">json</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;server side&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// propså°†ä½œä¸ºå¯¹åº”è·¯ç”±ç»„ä»¶çš„propsä¼ å…¥</span></span>
<span class="line"><span style="color:#E1E4E8;">    props: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      results,</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">  };</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { GetServerSideProps } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Pokemon</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">name</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">url</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#D73A49;">type</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PokemonList</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Pokemon</span><span style="color:#24292E;">[];</span></span>
<span class="line"><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Response</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">count</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">next</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">results</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PokemonList</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Pokemons</span><span style="color:#24292E;">({ </span><span style="color:#E36209;">results</span><span style="color:#24292E;"> }</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> { </span><span style="color:#E36209;">results</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PokemonList</span><span style="color:#24292E;"> }) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#6F42C1;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#6F42C1;">h1</span><span style="color:#24292E;">&gt;pokemons</span><span style="color:#D73A49;">&lt;/</span><span style="color:#24292E;">h1</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#6F42C1;">hr</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#6F42C1;">hr</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#6F42C1;">ul</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        {</span><span style="color:#E36209;">results</span><span style="color:#24292E;">.</span><span style="color:#E36209;">map</span><span style="color:#24292E;">((</span><span style="color:#E36209;">item</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">li key</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{item.name}</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">            &lt;</span><span style="color:#6F42C1;">span</span><span style="color:#24292E;">&gt;{item.name}</span><span style="color:#D73A49;">&lt;/</span><span style="color:#24292E;">span</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">&lt;/</span><span style="color:#24292E;">li</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        ))}</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">&lt;/</span><span style="color:#24292E;">ul</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">&lt;/</span><span style="color:#24292E;">div</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// æ­¤å‡½æ•°åªä¼šåœ¨æœåŠ¡å™¨ç¯å¢ƒä¸‹è¿è¡Œ</span></span>
<span class="line"><span style="color:#6A737D;">// æ‰§è¡Œæ—¶æœºï¼š</span></span>
<span class="line"><span style="color:#6A737D;">//  1.é¦–å±æ¸²æŸ“ä¼šè°ƒç”¨æ­¤å‡½æ•°å®ç°é¢„æ¸²æŸ“ </span></span>
<span class="line"><span style="color:#6A737D;">//  2.å®¢æˆ·ç«¯è¯·æ±‚å¹¶æ¸²æŸ“å¯¹åº”è·¯ç”±ç»„ä»¶æ—¶ï¼Œä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨è°ƒç”¨è¯¥å‡½æ•°å¹¶å“åº”ç»“æœç»™å®¢æˆ·ç«¯ </span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getServerSideProps</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">GetServerSideProps</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">context</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">results</span><span style="color:#24292E;"> }</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Response</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fetch</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;https://pokeapi.co/api/v2/pokemon&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">  ).</span><span style="color:#6F42C1;">json</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;server side&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// propså°†ä½œä¸ºå¯¹åº”è·¯ç”±ç»„ä»¶çš„propsä¼ å…¥</span></span>
<span class="line"><span style="color:#24292E;">    props: {</span></span>
<span class="line"><span style="color:#24292E;">      results,</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">  };</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre></div><h3 id="_3-context" tabindex="-1">3.context <a class="header-anchor" href="#_3-context" aria-label="Permalink to &quot;3.context&quot;">â€‹</a></h3><p><code>getServerSideProps</code> ä¸­çš„ <code>context</code> å‚æ•°åŒ…å«äº†å¸¸ç”¨çš„è¯·æ±‚çš„ <code>req</code>ã€<code>res</code>ã€<code>params</code>ã€<code>query</code> ç­‰å‚æ•°ï¼Œè¿˜åŒ…å«äº† <code>preview</code>ã€<code>previewData</code>ã€<code>resolvedUrl</code>ã€<code>locale</code> ç­‰å‚æ•°ã€‚</p><h3 id="_4-è¿”å›å€¼æˆ–ç‰¹æ®Šå¤„ç†" tabindex="-1">4.è¿”å›å€¼æˆ–ç‰¹æ®Šå¤„ç† <a class="header-anchor" href="#_4-è¿”å›å€¼æˆ–ç‰¹æ®Šå¤„ç†" aria-label="Permalink to &quot;4.è¿”å›å€¼æˆ–ç‰¹æ®Šå¤„ç†&quot;">â€‹</a></h3><h4 id="å°†å‚æ•°æ³¨å…¥ç»™é¡µé¢ç»„ä»¶" tabindex="-1">å°†å‚æ•°æ³¨å…¥ç»™é¡µé¢ç»„ä»¶ <a class="header-anchor" href="#å°†å‚æ•°æ³¨å…¥ç»™é¡µé¢ç»„ä»¶" aria-label="Permalink to &quot;å°†å‚æ•°æ³¨å…¥ç»™é¡µé¢ç»„ä»¶&quot;">â€‹</a></h4><p>â€‹ è¿”å›propså³å¯åœ¨ç»„ä»¶æ¸²æŸ“æ—¶è·å–è¿™äº›propsæ•°æ®ã€‚</p><h4 id="_404" tabindex="-1">404 <a class="header-anchor" href="#_404" aria-label="Permalink to &quot;404&quot;">â€‹</a></h4><p><code>getServerSideProps</code> è¿”å›å€¼é™¤äº†å¯ä»¥è®¾ç½® <code>props</code> å¤–è¿˜å¯ä»¥ä½¿ç”¨ <code>notFound</code> æ¥å¼ºåˆ¶é¡µé¢è·³è½¬åˆ° 404ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getServerSideProps</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">context</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">data</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getData</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">data) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">            notFound: </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">        };</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        props: { data }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getServerSideProps</span><span style="color:#24292E;">(</span><span style="color:#E36209;">context</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">data</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getData</span><span style="color:#24292E;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">data) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            notFound: </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">        };</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        props: { data }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="é‡å®šå‘" tabindex="-1">é‡å®šå‘ <a class="header-anchor" href="#é‡å®šå‘" aria-label="Permalink to &quot;é‡å®šå‘&quot;">â€‹</a></h4><p>æˆ–è€…æ˜¯ä½¿ç”¨ <code>redirect</code> æ¥å°†é¡µé¢é‡å®šå‘ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getServerSideProps</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">context</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">data</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getData</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">data) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">            redirect: {</span></span>
<span class="line"><span style="color:#E1E4E8;">                destination: </span><span style="color:#9ECBFF;">&#39;/&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">                permanent: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">// æ˜¯å¦æ°¸ä¹…é‡å®šå‘</span></span>
<span class="line"><span style="color:#E1E4E8;">            }</span></span>
<span class="line"><span style="color:#E1E4E8;">        };</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        props: { data }</span></span>
<span class="line"><span style="color:#E1E4E8;">    };</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getServerSideProps</span><span style="color:#24292E;">(</span><span style="color:#E36209;">context</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">data</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getData</span><span style="color:#24292E;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">data) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            redirect: {</span></span>
<span class="line"><span style="color:#24292E;">                destination: </span><span style="color:#032F62;">&#39;/&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                permanent: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">// æ˜¯å¦æ°¸ä¹…é‡å®šå‘</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">        };</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        props: { data }</span></span>
<span class="line"><span style="color:#24292E;">    };</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="_500" tabindex="-1">500 <a class="header-anchor" href="#_500" aria-label="Permalink to &quot;500&quot;">â€‹</a></h4><p>å¦‚æœ <code>getServerSideProps</code> æŠ¥é”™äº†ï¼Œ<code>next.js</code> å°†ä¼šç›´æ¥è·³è½¬åˆ° 500 é¡µé¢ï¼Œåˆçœä¸‹ä¸€æ®µå¼‚å¸¸å¤„ç†ä»£ç ï¼Œå¯å–œå¯è´ºã€‚</p><h3 id="_5-è¿è¡Œæœºåˆ¶" tabindex="-1">5.è¿è¡Œæœºåˆ¶ <a class="header-anchor" href="#_5-è¿è¡Œæœºåˆ¶" aria-label="Permalink to &quot;5.è¿è¡Œæœºåˆ¶&quot;">â€‹</a></h3><p>å½“ <code>getServerSideProps</code> æ‰€åœ¨é¡µé¢ä¸º <code>SSR</code> æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆé¦–å±æ¸²æŸ“ï¼‰æ—¶ï¼Œ<code>getServerSideProps</code> ä¸­çš„æ•°æ®å°†ä¼šè¢«æ”¾åˆ°å…¨å±€çš„ <code>_NEXT_DATA</code> ä¸­ï¼Œç”¨äº <code>hydrateï¼ˆæ°´åˆï¼‰</code>ã€‚</p><p>è€Œé <code>SSR</code> æƒ…å†µä¸‹ï¼Œè¿›å…¥è¯¥é¡µé¢ <code>next.js</code> å°†ä¼šè‡ªåŠ¨å‘è¯·æ±‚åˆ°ï¼š <code>_next/data/development/{url}.json?{query}</code>ï¼Œå…¶ä¸­ <code>development</code> ä¸ºå¼€å‘ç¯å¢ƒä¸‹åœ°å€æ®µï¼Œè¯¥è¯·æ±‚çš„è¿”å›å€¼ä¸ºï¼š</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;pageProps&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;è¿”å›çš„ props æ•°æ®å†…å®¹&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;__N_SSP&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;pageProps&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;è¿”å›çš„ props æ•°æ®å†…å®¹&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;__N_SSP&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>ä»è€Œå°† <code>getServerSideProps</code> è¿”å›å€¼åœ¨é¡µé¢æŒ‚è½½æ—¶æ³¨å…¥è¿›å»ã€‚</p><h3 id="_6-æ³¨æ„" tabindex="-1">6.æ³¨æ„ <a class="header-anchor" href="#_6-æ³¨æ„" aria-label="Permalink to &quot;6.æ³¨æ„&quot;">â€‹</a></h3><p>â€‹ getServerSidePropsæ— æ³•è°ƒç”¨å†…éƒ¨æ¥å£ï¼Œåªèƒ½è°ƒç”¨å¤–éƒ¨æ¥å£ã€‚</p><h2 id="getstaticprops" tabindex="-1">getStaticProps <a class="header-anchor" href="#getstaticprops" aria-label="Permalink to &quot;getStaticProps&quot;">â€‹</a></h2><p>â€‹ getStaticPropsåœ¨SSGæ¨¡å¼ä¸‹ä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯é™æ€ç½‘é¡µã€‚å®šä¹‰æ–¹å¼å’ŒgetServerSidePropså·®ä¸å¤šï¼Œä¸è¿‡æ‰§è¡Œæ—¶æœºä¸ä¸€æ ·ï¼Œè¿™ä¸ªä¼šåœ¨__build__çš„æ—¶å€™è¿è¡Œï¼Œç”¨æ¥ç”Ÿæˆé™æ€ç½‘é¡µã€‚åœ¨æ¸²æŸ“åˆ°ä½¿ç”¨äº†getStaticPropsçš„ç»„ä»¶æ—¶ï¼Œä¼šå…ˆæ‰§è¡Œè·å–åå†æ‰§è¡Œç»„ä»¶æ¸²æŸ“å‡½æ•°å¾—åˆ°å®Œæ•´çš„é™æ€é¡µé¢ã€‚</p><p>â€‹ ä¾‹å¦‚Nextåº”ç”¨ä¸­æœ‰ä¸ªHomeç»„ä»¶ä½¿ç”¨äº†getStaticPropsï¼Œåœ¨æ‰“åŒ…æ—¶å°±ä¼šè°ƒç”¨getStaticPropså‡½æ•°è·å–æ•°æ®ï¼Œå¹¶ç”Ÿæˆå®Œæ•´çš„é¡µé¢ã€‚</p><h2 id="getstaticpaths" tabindex="-1">getStaticPaths <a class="header-anchor" href="#getstaticpaths" aria-label="Permalink to &quot;getStaticPaths&quot;">â€‹</a></h2><h3 id="è¯´æ˜" tabindex="-1">è¯´æ˜ <a class="header-anchor" href="#è¯´æ˜" aria-label="Permalink to &quot;è¯´æ˜&quot;">â€‹</a></h3><p>â€‹ æ­é…ç€getStaticPropsä¸€èµ·ä½¿ç”¨ï¼Œä¹Ÿä¼šåœ¨buildæ—¶å€™æ‰§è¡Œã€‚</p><p>â€‹ ä½¿ç”¨åœºæ™¯ï¼šåœ¨ç”Ÿæˆé™æ€é¡µé¢æ—¶åŒ…å«äº†åŠ¨æ€è·¯ç”±ï¼Œç”±äºä¸çŸ¥é“ç”¨æˆ·ä¼šè®¿é—®å“ªäº›è·¯å¾„å‚æ•°ï¼Œä½¿ç”¨getStaticPathså¯ä»¥é¢„å…ˆç”Ÿæˆä¸€äº›å‚æ•°é¡µé¢ï¼Œè‹¥è®¿é—®äº†é¢„å…ˆç”Ÿæˆçš„å‚æ•°é¡µé¢ä»¥å¤–çš„å°±ä¼šæ ¹æ®ç­–ç•¥æ¥æ˜¯å¦å¼€å¯SSRæ¨¡å¼ã€‚</p><p>â€‹ ä¾‹å¦‚æœ‰ä¸ªåŠ¨æ€å‚æ•°è·¯å¾„çš„è·¯ç”±ç»„ä»¶<code>/user/:id</code>ï¼Œåœ¨æ‰“åŒ…æ—¶ä¸çŸ¥é“æœªæ¥ä¼šè®¿é—®å“ªä¸ªå€¼ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡getStaticPathsé¢„å…ˆç”Ÿæˆä¸€äº›é¡µé¢ï¼Œæ¯”å¦‚ç”Ÿæˆidä¸º1-10çš„10ä¸ªé™æ€é¡µé¢ï¼Œè¿™æ ·ç”¨æˆ·åœ¨è®¿é—®<code>/user/1~10</code>æ—¶å°±å¯ä»¥ç›´æ¥è¿”å›é™æ€é¡µé¢æ¥å£ï¼Œä½†è®¿é—®äº†é¢„è®¾ä»¥å¤–çš„å‚æ•°ï¼Œåˆ™ä¼šæ ¹æ®ç­–ç•¥æ˜¯å¦å¼€å¯SSRï¼Œé‡æ–°ç”Ÿæˆæœ€æ–°çš„é¡µé¢ï¼Œå¹¶å°†è¿™ä¸ªé¡µé¢ä¿å­˜ä¸ºé™æ€é¡µé¢ï¼Œå¢åŠ ä¸‹ä¸€æ¬¡è¯·æ±‚çš„é€Ÿåº¦ã€‚</p><p>â€‹ ç”Ÿæˆçš„é™æ€é¡µé¢å¯ä»¥åœ¨<code>/.next/server/pages</code>ä¸­æŸ¥çœ‹ã€‚</p><h3 id="ç”¨æ³•" tabindex="-1">ç”¨æ³• <a class="header-anchor" href="#ç”¨æ³•" aria-label="Permalink to &quot;ç”¨æ³•&quot;">â€‹</a></h3><p>â€‹ __å‡½æ•°è¿”å›å€¼__æ˜¯åŒ…å«ä¸¤ä¸ªå±æ€§pathså’Œfallbackï¼š</p><p>â€‹ pathsï¼šä¸€ä¸ªæ•°ç»„ä»£è¡¨äº†ç”Ÿæˆçš„é™æ€é¡µé¢ä¸ªæ•°ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå¯¹è±¡åŒ…å«ä¸€ä¸ªparamså‚æ•°ï¼Œè¡¨æ˜æ¯æ¬¡ç”Ÿæˆé™æ€é¡µé¢æ—¶çš„è·¯å¾„å‚æ•°å€¼ã€‚</p><p>â€‹ fallbackï¼šæœ‰ä¸‰ç§å–å€¼æ–¹å¼ï¼Œtrueï¼ˆè‹¥è¯·æ±‚é¢„è®¾ä»¥å¤–çš„å‚æ•°ï¼Œåˆ™ç›´æ¥æ¸²æŸ“ç»„ä»¶åŒæ—¶å‘é€è¯·æ±‚è·å–æ•°æ®ï¼‰ã€falseï¼ˆ404ï¼‰ã€â€˜blockingâ€™ï¼ˆå¼€å¯SSRæ¨¡å¼æ¸²æŸ“é¡µé¢ï¼Œå¹¶ä¿å­˜æ­¤è·¯å¾„å‚æ•°ç»“æœä½œä¸ºé™æ€é¡µé¢ï¼‰ã€‚</p><h3 id="æ‰§è¡Œæµç¨‹" tabindex="-1">æ‰§è¡Œæµç¨‹ <a class="header-anchor" href="#æ‰§è¡Œæµç¨‹" aria-label="Permalink to &quot;æ‰§è¡Œæµç¨‹&quot;">â€‹</a></h3><p>â€‹ åœ¨é€šè¿‡buildç”Ÿæˆé™æ€é¡µé¢æ—¶ï¼Œä¼šå…ˆæ‰§è¡ŒgetStaticPathsè·å–éœ€è¦ç”Ÿæˆé™æ€é¡µé¢ä¸ªæ•°ï¼Œä»¥åŠfallbackç­–ç•¥ã€‚ç„¶åéå†pathsæ•°ç»„ï¼Œæ¯æ¬¡éå†éƒ½ä¼šåˆ›å»ºä¸€ä¸ªé™æ€é¡µé¢ï¼Œè°ƒç”¨getStaticPropså¹¶å°†å½“å‰å…ƒç´ ï¼ˆåŒ…å«äº†æœ¬æ¬¡çš„è·¯å¾„å‚æ•°ï¼‰ä½œä¸ºå‚æ•°ä¼ å…¥ç»™getStaticPropsï¼Œå¾—åˆ°ä¸€ä¸ªé™æ€é¡µé¢ï¼Œç›´åˆ°éå†å®Œæˆã€‚</p><h3 id="fallbackç­–ç•¥ç¤ºä¾‹" tabindex="-1">fallbackç­–ç•¥ç¤ºä¾‹ <a class="header-anchor" href="#fallbackç­–ç•¥ç¤ºä¾‹" aria-label="Permalink to &quot;fallbackç­–ç•¥ç¤ºä¾‹&quot;">â€‹</a></h3><h4 id="blocking" tabindex="-1">blocking <a class="header-anchor" href="#blocking" aria-label="Permalink to &quot;blocking&quot;">â€‹</a></h4><p>â€‹ ä¼šå¼€å¯SSRæ¸²æŸ“ï¼Œå®¢æˆ·ç«¯å‘é€è¯·æ±‚ï¼Œä¼šé˜»å¡è·¯ç”±åˆ‡æ¢ç›´åˆ°å“åº”æˆåŠŸï¼ŒæœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚åä¼šè°ƒç”¨<code>getStaticProps</code>ï¼Œå¾—åˆ°ç»“æœåå“åº”ç»™å®¢æˆ·ç«¯ï¼Œå¹¶ä¿å­˜æ­¤è·¯å¾„çš„é™æ€é¡µé¢ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { GetServerSideProps, GetStaticPaths, GetStaticProps } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> Image </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/image&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { useRouter } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/router&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">interface</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">PokemonDetail</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">id</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">name</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">height</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">weight</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Detail</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">props</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">PokemonDetail</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">nav</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useRouter</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">handleClick</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> nav.</span><span style="color:#B392F0;">push</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`/pokemons/${</span><span style="color:#E1E4E8;">props</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">id</span><span style="color:#9ECBFF;"> </span><span style="color:#F97583;">+</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">1</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">h1</span><span style="color:#E1E4E8;">&gt;Pokemon Detail&lt;/</span><span style="color:#85E89D;">h1</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;ID:{props.id}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;Name:{props.name}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">span</span><span style="color:#E1E4E8;">&gt;Weigth:{props.weight}&lt;/</span><span style="color:#85E89D;">span</span><span style="color:#E1E4E8;">&gt;</span><span style="color:#79B8FF;">&amp;nbsp;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">span</span><span style="color:#E1E4E8;">&gt;Height:{props.height}&lt;/</span><span style="color:#85E89D;">span</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">img</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">width</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">height</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">alt</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{props.name}</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">src</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#9ECBFF;">`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${</span><span style="color:#E1E4E8;">props</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">id</span><span style="color:#9ECBFF;">}.png`</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">      /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">button</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">onClick</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{handleClick}</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">className</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;rounded bg-sky-400 px-2 py-1 text-xs&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        Next Pokemon</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getStaticProps</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">GetStaticProps</span><span style="color:#E1E4E8;">&lt;{}, { </span><span style="color:#FFAB70;">id</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;"> }&gt; </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">context</span></span>
<span class="line"><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> context.params </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> { </span><span style="color:#FFAB70;">id</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;"> };</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">data</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">PokemonDetail</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fetch</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">`https://pokeapi.co/api/v2/pokemon/${</span><span style="color:#E1E4E8;">id</span><span style="color:#9ECBFF;">}`</span></span>
<span class="line"><span style="color:#E1E4E8;">    ).</span><span style="color:#B392F0;">then</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">r</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> r.</span><span style="color:#B392F0;">json</span><span style="color:#E1E4E8;">());</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      props: data,</span></span>
<span class="line"><span style="color:#E1E4E8;">    };</span></span>
<span class="line"><span style="color:#E1E4E8;">  } </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      redirect: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        destination: </span><span style="color:#9ECBFF;">&quot;/&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        permanent: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">    };</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getStaticPaths</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">GetStaticPaths</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// éå†ç”Ÿæˆ20ä¸ªé™æ€é¡µé¢ï¼Œæ¯æ¬¡éå†éƒ½ä¼šæ‰§è¡ŒgetStaticPropså¹¶å°†è¿™ä¸ªè¿”å›å€¼æ³¨å…¥ç»™context</span></span>
<span class="line"><span style="color:#E1E4E8;">    paths: Array.</span><span style="color:#B392F0;">from</span><span style="color:#E1E4E8;">({ length: </span><span style="color:#79B8FF;">20</span><span style="color:#E1E4E8;"> }).</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">_</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">index</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        params: {</span></span>
<span class="line"><span style="color:#E1E4E8;">          id: index </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// idä¸º1-20</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">      };</span></span>
<span class="line"><span style="color:#E1E4E8;">    }),</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// è®¿é—®äº†ä»¥å¤–1-20ä»¥å¤–çš„è·¯å¾„ï¼Œåˆ™ä¼šå¼€å¯SSRè·å–æ•°æ®</span></span>
<span class="line"><span style="color:#E1E4E8;">    fallback: </span><span style="color:#9ECBFF;">&quot;blocking&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  };</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { GetServerSideProps, GetStaticPaths, GetStaticProps } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> Image </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/image&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { useRouter } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/router&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PokemonDetail</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">id</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">name</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">height</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">weight</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Detail</span><span style="color:#24292E;">(</span><span style="color:#E36209;">props</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PokemonDetail</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">nav</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useRouter</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">handleClick</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> nav.</span><span style="color:#6F42C1;">push</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`/pokemons/${</span><span style="color:#24292E;">props</span><span style="color:#032F62;">.</span><span style="color:#24292E;">id</span><span style="color:#032F62;"> </span><span style="color:#D73A49;">+</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">1</span><span style="color:#032F62;">}`</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">h1</span><span style="color:#24292E;">&gt;Pokemon Detail&lt;/</span><span style="color:#22863A;">h1</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;ID:{props.id}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;Name:{props.name}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">span</span><span style="color:#24292E;">&gt;Weigth:{props.weight}&lt;/</span><span style="color:#22863A;">span</span><span style="color:#24292E;">&gt;</span><span style="color:#005CC5;">&amp;nbsp;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">span</span><span style="color:#24292E;">&gt;Height:{props.height}&lt;/</span><span style="color:#22863A;">span</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">img</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">width</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">100</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">height</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">100</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">alt</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{props.name}</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">src</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#032F62;">`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${</span><span style="color:#24292E;">props</span><span style="color:#032F62;">.</span><span style="color:#24292E;">id</span><span style="color:#032F62;">}.png`</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">      /&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">button</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">onClick</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{handleClick}</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;rounded bg-sky-400 px-2 py-1 text-xs&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        Next Pokemon</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#22863A;">button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getStaticProps</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">GetStaticProps</span><span style="color:#24292E;">&lt;{}, { </span><span style="color:#E36209;">id</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;"> }&gt; </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">context</span></span>
<span class="line"><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">id</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> context.params </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> { </span><span style="color:#E36209;">id</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;"> };</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">try</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">data</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PokemonDetail</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fetch</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">`https://pokeapi.co/api/v2/pokemon/${</span><span style="color:#24292E;">id</span><span style="color:#032F62;">}`</span></span>
<span class="line"><span style="color:#24292E;">    ).</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">((</span><span style="color:#E36209;">r</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> r.</span><span style="color:#6F42C1;">json</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      props: data,</span></span>
<span class="line"><span style="color:#24292E;">    };</span></span>
<span class="line"><span style="color:#24292E;">  } </span><span style="color:#D73A49;">catch</span><span style="color:#24292E;"> (error) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      redirect: {</span></span>
<span class="line"><span style="color:#24292E;">        destination: </span><span style="color:#032F62;">&quot;/&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        permanent: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">    };</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getStaticPaths</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">GetStaticPaths</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// éå†ç”Ÿæˆ20ä¸ªé™æ€é¡µé¢ï¼Œæ¯æ¬¡éå†éƒ½ä¼šæ‰§è¡ŒgetStaticPropså¹¶å°†è¿™ä¸ªè¿”å›å€¼æ³¨å…¥ç»™context</span></span>
<span class="line"><span style="color:#24292E;">    paths: Array.</span><span style="color:#6F42C1;">from</span><span style="color:#24292E;">({ length: </span><span style="color:#005CC5;">20</span><span style="color:#24292E;"> }).</span><span style="color:#6F42C1;">map</span><span style="color:#24292E;">((</span><span style="color:#E36209;">_</span><span style="color:#24292E;">, </span><span style="color:#E36209;">index</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        params: {</span></span>
<span class="line"><span style="color:#24292E;">          id: index </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// idä¸º1-20</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">      };</span></span>
<span class="line"><span style="color:#24292E;">    }),</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// è®¿é—®äº†ä»¥å¤–1-20ä»¥å¤–çš„è·¯å¾„ï¼Œåˆ™ä¼šå¼€å¯SSRè·å–æ•°æ®</span></span>
<span class="line"><span style="color:#24292E;">    fallback: </span><span style="color:#032F62;">&quot;blocking&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  };</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre></div><h4 id="true-å¼‚æ­¥åŠ è½½" tabindex="-1">true(å¼‚æ­¥åŠ è½½) <a class="header-anchor" href="#true-å¼‚æ­¥åŠ è½½" aria-label="Permalink to &quot;true(å¼‚æ­¥åŠ è½½)&quot;">â€‹</a></h4><p>â€‹ fallbackä¸ºçœŸï¼Œåˆ™å¼€å¯å¼‚æ­¥åŠ è½½æ¨¡å¼ï¼Œè‹¥è®¿é—®é¢„è®¾ä»¥å¤–çš„å‚æ•°ï¼Œåˆ™ä¼šå¼€å¯SSRæ¸²æŸ“ï¼Œå®¢æˆ·ç«¯ä¼šå¯¹æœåŠ¡å™¨å‘é€Ajaxè¯·æ±‚è·å–æœ€æ–°æ•°æ®ï¼Œåˆ™æœåŠ¡å™¨è°ƒç”¨<code>getStaticProps</code>è·å–ç»“æœå“åº”å®¢æˆ·ç«¯ï¼Œå¹¶ä»¥æ­¤å‚æ•°è·¯å¾„ç”Ÿæˆæœ€æ–°çš„é™æ€é¡µé¢ï¼Œæå‡ä¸‹æ¬¡è¯·æ±‚ç»Ÿä¸€å‚æ•°å€¼çš„è¯·æ±‚é€Ÿåº¦ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { GetServerSideProps, GetStaticPaths, GetStaticProps } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> Image </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/image&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { useRouter } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/router&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">interface</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">PokemonDetail</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">id</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">name</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">height</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">weight</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Detail</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">props</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">PokemonDetail</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">nav</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useRouter</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (props.id</span><span style="color:#F97583;">===</span><span style="color:#79B8FF;">undefined</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;åŠ è½½ä¸­&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="color:#E1E4E8;">  } </span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">handleClick</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> nav.</span><span style="color:#B392F0;">push</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`/pokemons/${</span><span style="color:#E1E4E8;">props</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">id</span><span style="color:#9ECBFF;"> </span><span style="color:#F97583;">+</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">1</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">h1</span><span style="color:#E1E4E8;">&gt;Pokemon Detail&lt;/</span><span style="color:#85E89D;">h1</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;ID:{props.id}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;Name:{props.name}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          &lt;</span><span style="color:#85E89D;">span</span><span style="color:#E1E4E8;">&gt;Weigth:{props.weight}&lt;/</span><span style="color:#85E89D;">span</span><span style="color:#E1E4E8;">&gt;</span><span style="color:#79B8FF;">&amp;nbsp;</span></span>
<span class="line"><span style="color:#E1E4E8;">          &lt;</span><span style="color:#85E89D;">span</span><span style="color:#E1E4E8;">&gt;Height:{props.height}&lt;/</span><span style="color:#85E89D;">span</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">img</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">width</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">height</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#79B8FF;">100</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">alt</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{props.name}</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">src</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#9ECBFF;">`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${</span><span style="color:#E1E4E8;">props</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">id</span><span style="color:#9ECBFF;">}.png`</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">        /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">button</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">onClick</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{handleClick}</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">className</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;rounded bg-sky-400 px-2 py-1 text-xs&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          Next Pokemon</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    );</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getStaticProps</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">GetStaticProps</span><span style="color:#E1E4E8;">&lt;{}, { </span><span style="color:#FFAB70;">id</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;"> }&gt; </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">context</span></span>
<span class="line"><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">id</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> context.params </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> { </span><span style="color:#FFAB70;">id</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;"> };</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">data</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">PokemonDetail</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fetch</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">`https://pokeapi.co/api/v2/pokemon/${</span><span style="color:#E1E4E8;">id</span><span style="color:#9ECBFF;">}`</span></span>
<span class="line"><span style="color:#E1E4E8;">    ).</span><span style="color:#B392F0;">then</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">r</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> r.</span><span style="color:#B392F0;">json</span><span style="color:#E1E4E8;">());</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      props: data,</span></span>
<span class="line"><span style="color:#E1E4E8;">    };</span></span>
<span class="line"><span style="color:#E1E4E8;">  } </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      redirect: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        destination: </span><span style="color:#9ECBFF;">&quot;/&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        permanent: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">    };</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getStaticPaths</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">GetStaticPaths</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    paths: Array.</span><span style="color:#B392F0;">from</span><span style="color:#E1E4E8;">({ length: </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;"> }).</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">_</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">index</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        params: {</span></span>
<span class="line"><span style="color:#E1E4E8;">          id: index </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">      };</span></span>
<span class="line"><span style="color:#E1E4E8;">    }),</span></span>
<span class="line"><span style="color:#E1E4E8;">    fallback: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  };</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { GetServerSideProps, GetStaticPaths, GetStaticProps } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> Image </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/image&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { useRouter } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/router&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PokemonDetail</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">id</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">name</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">height</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">weight</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Detail</span><span style="color:#24292E;">(</span><span style="color:#E36209;">props</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PokemonDetail</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">nav</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useRouter</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (props.id</span><span style="color:#D73A49;">===</span><span style="color:#005CC5;">undefined</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;åŠ è½½ä¸­&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;;</span></span>
<span class="line"><span style="color:#24292E;">  } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">handleClick</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> nav.</span><span style="color:#6F42C1;">push</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`/pokemons/${</span><span style="color:#24292E;">props</span><span style="color:#032F62;">.</span><span style="color:#24292E;">id</span><span style="color:#032F62;"> </span><span style="color:#D73A49;">+</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">1</span><span style="color:#032F62;">}`</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">h1</span><span style="color:#24292E;">&gt;Pokemon Detail&lt;/</span><span style="color:#22863A;">h1</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;ID:{props.id}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;Name:{props.name}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;</span><span style="color:#22863A;">span</span><span style="color:#24292E;">&gt;Weigth:{props.weight}&lt;/</span><span style="color:#22863A;">span</span><span style="color:#24292E;">&gt;</span><span style="color:#005CC5;">&amp;nbsp;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;</span><span style="color:#22863A;">span</span><span style="color:#24292E;">&gt;Height:{props.height}&lt;/</span><span style="color:#22863A;">span</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">img</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">width</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">100</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">height</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">100</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">alt</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{props.name}</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">src</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#032F62;">`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${</span><span style="color:#24292E;">props</span><span style="color:#032F62;">.</span><span style="color:#24292E;">id</span><span style="color:#032F62;">}.png`</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">        /&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">button</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">onClick</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{handleClick}</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;rounded bg-sky-400 px-2 py-1 text-xs&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          Next Pokemon</span></span>
<span class="line"><span style="color:#24292E;">        &lt;/</span><span style="color:#22863A;">button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    );</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getStaticProps</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">GetStaticProps</span><span style="color:#24292E;">&lt;{}, { </span><span style="color:#E36209;">id</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;"> }&gt; </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">context</span></span>
<span class="line"><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">id</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> context.params </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> { </span><span style="color:#E36209;">id</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;"> };</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">try</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">data</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PokemonDetail</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fetch</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">`https://pokeapi.co/api/v2/pokemon/${</span><span style="color:#24292E;">id</span><span style="color:#032F62;">}`</span></span>
<span class="line"><span style="color:#24292E;">    ).</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">((</span><span style="color:#E36209;">r</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> r.</span><span style="color:#6F42C1;">json</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      props: data,</span></span>
<span class="line"><span style="color:#24292E;">    };</span></span>
<span class="line"><span style="color:#24292E;">  } </span><span style="color:#D73A49;">catch</span><span style="color:#24292E;"> (error) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      redirect: {</span></span>
<span class="line"><span style="color:#24292E;">        destination: </span><span style="color:#032F62;">&quot;/&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        permanent: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">    };</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getStaticPaths</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">GetStaticPaths</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    paths: Array.</span><span style="color:#6F42C1;">from</span><span style="color:#24292E;">({ length: </span><span style="color:#005CC5;">10</span><span style="color:#24292E;"> }).</span><span style="color:#6F42C1;">map</span><span style="color:#24292E;">((</span><span style="color:#E36209;">_</span><span style="color:#24292E;">, </span><span style="color:#E36209;">index</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        params: {</span></span>
<span class="line"><span style="color:#24292E;">          id: index </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">      };</span></span>
<span class="line"><span style="color:#24292E;">    }),</span></span>
<span class="line"><span style="color:#24292E;">    fallback: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  };</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre></div><h4 id="false" tabindex="-1">false <a class="header-anchor" href="#false" aria-label="Permalink to &quot;false&quot;">â€‹</a></h4><p>â€‹ è‹¥fallbackä¸ºfalseï¼Œåˆ™è¯·æ±‚é¢„è®¾ä»¥å¤–çš„å‚æ•°éƒ½ä¼šè·³è½¬åˆ°404é¡µé¢ã€‚</p><h1 id="å…«ã€app-router" tabindex="-1">å…«ã€App Router <a class="header-anchor" href="#å…«ã€app-router" aria-label="Permalink to &quot;å…«ã€App Router&quot;">â€‹</a></h1><p>â€‹ App Routerï¼ˆApplication Routerï¼‰å’ŒPages Routeréƒ½å¯ä»¥ç”¨æ¥åšè·¯ç”±ç³»ç»Ÿçš„ï¼Œä¸è¿‡App Routerä¼˜å…ˆçº§æ›´é«˜ï¼ŒåŠŸèƒ½æ›´å®Œå–„äº›ã€‚</p><p>â€‹ App Routerä¸­çš„æ‰€æœ‰ç»„ä»¶é»˜è®¤éƒ½åœ¨æœåŠ¡ç«¯ä¸­åŠ è½½ï¼Œé¦–å±æ¸²æŸ“æ˜¯ï¼ŒCSRæ¨¡å¼ä¸‹æ˜¯å‘é€è¯·æ±‚è·å–é¡µé¢å†…å®¹ï¼Œè€Œé¡µé¢å†…å®¹éœ€è¦æœåŠ¡ç«¯æ‰§è¡Œè·¯ç”±ç»„ä»¶å¹¶å“åº”å®Œæ•´çš„HTMLç»“æ„ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯è·å–åˆ°åç›´æ¥åµŒå…¥æµè§ˆå™¨æ›¿æ¢æ—§çš„è·¯ç”±å®Œæˆè·¯ç”±è·³è½¬çš„åŠŸèƒ½ã€‚</p><blockquote><p>åœ¨ Next.js 13 ä¹‹å‰ï¼ŒPages Router æ˜¯åœ¨ Next.js ä¸­åˆ›å»ºè·¯ç”±çš„ä¸»è¦æ–¹å¼ã€‚ å®ƒä½¿ç”¨ç›´è§‚çš„æ–‡ä»¶ç³»ç»Ÿè·¯ç”±å°†æ¯ä¸ªæ–‡ä»¶æ˜ å°„åˆ°è·¯ç”±ã€‚ æ–°ç‰ˆæœ¬çš„ Next.js ä»ç„¶æ”¯æŒ Pages Routerï¼Œä½†æˆ‘ä»¬å»ºè®®è¿ç§»åˆ°æ–°çš„ <a href="https://next.nodejs.cn/docs/app" target="_blank" rel="noreferrer">åº”ç”¨è·¯ç”±</a> ä»¥åˆ©ç”¨ React çš„æœ€æ–°åŠŸèƒ½ã€‚</p></blockquote><h2 id="_1-æ–‡ä»¶çº¦å®š" tabindex="-1">1.æ–‡ä»¶çº¦å®š <a class="header-anchor" href="#_1-æ–‡ä»¶çº¦å®š" aria-label="Permalink to &quot;1.æ–‡ä»¶çº¦å®š&quot;">â€‹</a></h2><p>Next.js æä¾›äº†ä¸€ç»„ç‰¹æ®Šæ–‡ä»¶æ¥åˆ›å»ºåœ¨åµŒå¥—è·¯ç”±ä¸­å…·æœ‰ç‰¹å®šè¡Œä¸ºçš„ UIï¼Œ<strong>å¹¶ä¸”æœ‰ä¸”åªèƒ½ç”±è¿™äº›æ–‡ä»¶å</strong>:</p><table><thead><tr><th>æ–‡ä»¶å</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><a href="https://next.nodejs.cn/docs/app/building-your-application/routing/pages-and-layouts#layouts" target="_blank" rel="noreferrer"><code>layout</code></a></td><td>æ®µåŠå…¶å­æ®µçš„å…±äº« UI</td></tr><tr><td><a href="https://next.nodejs.cn/docs/app/building-your-application/routing/pages-and-layouts#pages" target="_blank" rel="noreferrer"><code>page</code></a></td><td>è·¯çº¿çš„ç‹¬ç‰¹ UI å¹¶ä½¿è·¯çº¿å¯å…¬å¼€è®¿é—®</td></tr><tr><td><a href="https://next.nodejs.cn/docs/app/building-your-application/routing/loading-ui-and-streaming" target="_blank" rel="noreferrer"><code>loading</code></a></td><td>åŠ è½½æ®µåŠå…¶å­æ®µçš„ UI</td></tr><tr><td><a href="https://next.nodejs.cn/docs/app/api-reference/file-conventions/not-found" target="_blank" rel="noreferrer"><code>not-found</code></a></td><td>æœªæ‰¾åˆ°æ®µåŠå…¶å­æ®µçš„ UI</td></tr><tr><td><a href="https://next.nodejs.cn/docs/app/building-your-application/routing/error-handling" target="_blank" rel="noreferrer"><code>error</code></a></td><td>æ®µåŠå…¶å­æ®µçš„é”™è¯¯ UI</td></tr><tr><td><a href="https://next.nodejs.cn/docs/app/building-your-application/routing/error-handling" target="_blank" rel="noreferrer"><code>global-error</code></a></td><td>å…¨å±€é”™è¯¯ç”¨æˆ·ç•Œé¢</td></tr><tr><td><a href="https://next.nodejs.cn/docs/app/building-your-application/routing/route-handlers" target="_blank" rel="noreferrer"><code>route</code></a></td><td>æœåŠ¡å™¨ç«¯ API ç«¯ç‚¹</td></tr><tr><td><a href="https://next.nodejs.cn/docs/app/building-your-application/routing/pages-and-layouts#templates" target="_blank" rel="noreferrer"><code>template</code></a></td><td>ä¸“é—¨é‡æ–°æ¸²æŸ“å¸ƒå±€ UI</td></tr><tr><td><a href="https://next.nodejs.cn/docs/app/api-reference/file-conventions/default" target="_blank" rel="noreferrer"><code>default</code></a></td><td><a href="https://next.nodejs.cn/docs/app/building-your-application/routing/parallel-routes" target="_blank" rel="noreferrer">å¹¶è¡Œè·¯ç”±</a> çš„åå¤‡ UI</td></tr></tbody></table><p>æ–‡ä»¶ç»“æ„---å¯¹åº”å®é™…çš„ç»„ä»¶ç»“æ„ã€‚</p><p><img src="https://nextjs.org/_next/image?url=%2Fdocs%2Flight%2Fnested-file-conventions-component-hierarchy.png&amp;w=1920&amp;q=75&amp;dpl=dpl_BgDMtkMC7Ys3CBykeL1toqez4tqp" alt="image-20231225102908806"></p><h3 id="layout" tabindex="-1">layout <a class="header-anchor" href="#layout" aria-label="Permalink to &quot;layout&quot;">â€‹</a></h3><p>â€‹ å¸ƒå±€ç»„ä»¶ï¼Œä½œä¸ºNextåº”ç”¨çš„æ ¹ç»„ä»¶ï¼ˆæ›¿ä»£<code>/pages/_app.tsx</code>å’Œ<code>/pages/_document.tsx</code>ï¼‰ã€‚</p><p>â€‹ æ¯ä¸ªè·¯ç”±éƒ½å¯ä»¥æ‹¥æœ‰Layoutç»„ä»¶ä½œä¸ºè·¯ç”±çš„å…¬å…±éƒ¨åˆ†ï¼Œç”¨æ¥å®ç°åµŒå¥—è·¯ç”±ï¼Œä½†åªæœ‰<code>/app/layout.jsx</code>ç»„ä»¶å¯ä»¥æ‹¥æœ‰æ ¹ç»„ä»¶å’Œbodyç»„ä»¶ã€‚</p><blockquote><p>æ ¹å¸ƒå±€åœ¨ <code>app</code> ç›®å½•çš„é¡¶å±‚å®šä¹‰å¹¶é€‚ç”¨äºæ‰€æœ‰è·¯ç”±ã€‚ æ­¤å¸ƒå±€ä½¿ä½ èƒ½å¤Ÿä¿®æ”¹ä»æœåŠ¡å™¨è¿”å›çš„åˆå§‹ HTMLã€‚</p></blockquote><h4 id="æ ¹å¸ƒå±€" tabindex="-1">æ ¹å¸ƒå±€ <a class="header-anchor" href="#æ ¹å¸ƒå±€" aria-label="Permalink to &quot;æ ¹å¸ƒå±€&quot;">â€‹</a></h4><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { ReactNode } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;./globals.css&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Layout</span><span style="color:#E1E4E8;">({ </span><span style="color:#FFAB70;">children</span><span style="color:#E1E4E8;"> }</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> { </span><span style="color:#FFAB70;">children</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ReactNode</span><span style="color:#E1E4E8;"> }) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">html</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">lang</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;zh&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">body</span><span style="color:#E1E4E8;">&gt;{children}&lt;/</span><span style="color:#85E89D;">body</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">html</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { ReactNode } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;./globals.css&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Layout</span><span style="color:#24292E;">({ </span><span style="color:#E36209;">children</span><span style="color:#24292E;"> }</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> { </span><span style="color:#E36209;">children</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ReactNode</span><span style="color:#24292E;"> }) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">html</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">lang</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;zh&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">body</span><span style="color:#24292E;">&gt;{children}&lt;/</span><span style="color:#22863A;">body</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">html</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><blockquote><ul><li><code>app</code> ç›®å½•å¿…é¡»åŒ…æ‹¬æ ¹å¸ƒå±€ã€‚</li><li>æ ¹å¸ƒå±€å¿…é¡»å®šä¹‰ <code>&lt;html&gt;</code> å’Œ <code>&lt;body&gt;</code> æ ‡ç­¾ï¼Œå› ä¸º Next.js ä¸ä¼šè‡ªåŠ¨åˆ›å»ºå®ƒä»¬ã€‚</li><li>ä½ å¯ä»¥ä½¿ç”¨ <a href="https://next.nodejs.cn/docs/app/building-your-application/optimizing/metadata" target="_blank" rel="noreferrer">å†…ç½® SEO æ”¯æŒ</a> æ¥ç®¡ç† <code>&lt;head&gt;</code> ä¸ª HTML å…ƒç´ ï¼Œä¾‹å¦‚ <code>&lt;title&gt;</code> å…ƒç´ ã€‚</li><li>ä½ å¯ä»¥ä½¿ç”¨ <a href="https://next.nodejs.cn/docs/app/building-your-application/routing/route-groups" target="_blank" rel="noreferrer">è·¯çº¿ç»„</a> åˆ›å»ºå¤šä¸ªæ ¹å¸ƒå±€ã€‚ å‚è§ <a href="https://next.nodejs.cn/docs/app/building-your-application/routing/route-groups#creating-multiple-root-layouts" target="_blank" rel="noreferrer">ä¾‹å­åœ¨è¿™é‡Œ</a>ã€‚</li><li>æ ¹å¸ƒå±€é»˜è®¤ä¸º <a href="https://next.nodejs.cn/docs/app/building-your-application/rendering/server-components" target="_blank" rel="noreferrer">æœåŠ¡å™¨ç»„ä»¶</a>ï¼Œ<strong>ä¸èƒ½</strong> è®¾ç½®ä¸º <a href="https://next.nodejs.cn/docs/app/building-your-application/rendering/client-components" target="_blank" rel="noreferrer">å®¢æˆ·ç«¯ç»„ä»¶</a>ã€‚</li></ul></blockquote><blockquote><p><strong>ä» <code>pages</code> ç›®å½•è¿ç§»ï¼š</strong> æ ¹å¸ƒå±€æ›¿æ¢ <a href="https://next.nodejs.cn/docs/pages/building-your-application/routing/custom-app" target="_blank" rel="noreferrer"><code>_app.js</code></a> å’Œ <a href="https://next.nodejs.cn/docs/pages/building-your-application/routing/custom-document" target="_blank" rel="noreferrer"><code>_document.js</code></a> æ–‡ä»¶ã€‚</p></blockquote><h4 id="éæ ¹ç»„ä»¶" tabindex="-1">éæ ¹ç»„ä»¶ <a class="header-anchor" href="#éæ ¹ç»„ä»¶" aria-label="Permalink to &quot;éæ ¹ç»„ä»¶&quot;">â€‹</a></h4><p>â€‹ éæ ¹ç»„ä»¶çš„å¸ƒå±€å¯ä»¥ç”¨æ¥åšè·¯ç”±åµŒå¥—çš„åŠŸèƒ½æˆ–å…„å¼Ÿè·¯ç”±çš„å…¬å…±éƒ¨åˆ†ï¼Œæ³¨æ„éæ ¹å¸ƒå±€ä¸èƒ½æ·»åŠ <code>html</code>ã€<code>body</code>ç»„ä»¶ã€‚</p><h5 id="å…„å¼Ÿè·¯ç”±" tabindex="-1">å…„å¼Ÿè·¯ç”± <a class="header-anchor" href="#å…„å¼Ÿè·¯ç”±" aria-label="Permalink to &quot;å…„å¼Ÿè·¯ç”±&quot;">â€‹</a></h5><p>â€‹ æœ‰<code>/user/my</code>å’Œ<code>/user/edit</code>ä¸¤ä¸ªè·¯ç”±ï¼Œæˆ‘æƒ³åœ¨myå’Œeditè·¯ç”±ç»„ä»¶æ˜¾ç¤ºä¸€äº›å…¬å…±çš„éƒ¨åˆ†ï¼Œå¯ä»¥åˆ›å»º<code>/app/user/layout.tsx</code>ï¼Œå¹¶ç¼–å†™ã€‚</p><p>â€‹ <strong>æ³¨æ„</strong>:è¿™ç§æ–¹å¼æ„å‘³ç€<code>/user</code>æ¿€æ´»æ—¶ä¾æ—§ä½¿ç”¨è¯¥å¸ƒå±€ç»„ä»¶!!</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Layout</span><span style="color:#E1E4E8;">({children}:{children:ReactNode}){</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// childrenå˜é‡æ˜¯å½“å‰æ¿€æ´»çš„è·¯ç”±ç»„ä»¶èŠ‚ç‚¹ï¼Œå¯ä»¥ç›´æ¥ç”¨æ¥æ¸²æŸ“</span></span>
<span class="line"><span style="color:#E1E4E8;">    return &lt;div&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    	&lt;div&gt;æˆ‘æ˜¯å…¬å…±éƒ¨åˆ†ï¼Œå¯ä»¥ç”¨æ¥åšå­è·¯ç”±çš„å¯¼èˆª&lt;/div&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        {</span><span style="color:#6A737D;">/*å­è·¯ç”±å…¥å£ï¼ŒåŒviewrouterä¸€æ ·ã€‚*/</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;div&gt;{children}&lt;/div&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/div&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Layout</span><span style="color:#24292E;">({children}:{children:ReactNode}){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// childrenå˜é‡æ˜¯å½“å‰æ¿€æ´»çš„è·¯ç”±ç»„ä»¶èŠ‚ç‚¹ï¼Œå¯ä»¥ç›´æ¥ç”¨æ¥æ¸²æŸ“</span></span>
<span class="line"><span style="color:#24292E;">    return &lt;div&gt;</span></span>
<span class="line"><span style="color:#24292E;">    	&lt;div&gt;æˆ‘æ˜¯å…¬å…±éƒ¨åˆ†ï¼Œå¯ä»¥ç”¨æ¥åšå­è·¯ç”±çš„å¯¼èˆª&lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292E;">        {</span><span style="color:#6A737D;">/*å­è·¯ç”±å…¥å£ï¼ŒåŒviewrouterä¸€æ ·ã€‚*/</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">        &lt;div&gt;{children}&lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h5 id="åµŒå¥—è·¯ç”±" tabindex="-1">åµŒå¥—è·¯ç”± <a class="header-anchor" href="#åµŒå¥—è·¯ç”±" aria-label="Permalink to &quot;åµŒå¥—è·¯ç”±&quot;">â€‹</a></h5><h3 id="page" tabindex="-1">page <a class="header-anchor" href="#page" aria-label="Permalink to &quot;page&quot;">â€‹</a></h3><p>â€‹ ä¸€ä¸ªè·¯ç”±é¡µé¢ã€‚åªæœ‰æ–‡ä»¶å¤¹ä¸­å­˜åœ¨<code>page.tsx</code>æ–‡ä»¶ï¼Œè¿™ä¸ªè·¯ç”±æ‰ä¼šå¯è¾¾ã€‚</p><p>ä¾‹å¦‚ï¼š</p><ol><li><code>/app/page.tsx</code> --- <code>/</code></li><li><code>/app/about/page.tsx</code> --- <code>/about</code></li><li><code>/user/goods/likes/page.tsx</code> ---<code>/user/goods/likes</code></li></ol><h3 id="loading" tabindex="-1">loading <a class="header-anchor" href="#loading" aria-label="Permalink to &quot;loading&quot;">â€‹</a></h3><p>â€‹ åœ¨CSRæ¨¡å¼ä¸‹ï¼Œè·³è½¬åˆ°å½“å‰è·¯ç”±ç»„ä»¶æ—¶ï¼Œä¼šå‘æœåŠ¡ç«¯å‘é€è¯·æ±‚è·å–è·¯ç”±ç»„ä»¶ç‰‡æ®µï¼Œåœ¨è¯·æ±‚è¿‡ç¨‹ä¸­ä¼šæ˜¾ç¤ºloadingç»„ä»¶ã€‚</p><p>â€‹ SSRæ¨¡å¼ä¸‹ä¸ä¼šæ¸²æŸ“æ­¤ç»„ä»¶ï¼Œé™¤éè·¯ç”±ç»„ä»¶åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°äº†é”™è¯¯ï¼Œå°±ä¼šæ˜¾ç¤ºloadingç»„ä»¶ï¼Œå¹¶è¢«æ›¿æ¢æˆerrorç»„ä»¶ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// /user/loading</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Loading</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> &lt;</span><span style="color:#85E89D;">h1</span><span style="color:#E1E4E8;">&gt;Loading&lt;/</span><span style="color:#85E89D;">h1</span><span style="color:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// /user/loading</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Loading</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> &lt;</span><span style="color:#22863A;">h1</span><span style="color:#24292E;">&gt;Loading&lt;/</span><span style="color:#22863A;">h1</span><span style="color:#24292E;">&gt;;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="error" tabindex="-1">error <a class="header-anchor" href="#error" aria-label="Permalink to &quot;error&quot;">â€‹</a></h3><p>â€‹ erroræ˜¯å®¢æˆ·ç«¯ç»„ä»¶ã€‚å’ŒReac Routerçš„errorElementå·®ä¸å¤šï¼Œå¦‚æœè¯´è·¯ç”±ç»„ä»¶å‡ºç°äº†é”™è¯¯ï¼Œå°±ä¼šæ ¹æ®è·¯ç”±è¡¨æŸ¥æ‰¾è‡ªèº«æˆ–ç¥–å…ˆæ˜¯å¦æœ‰error.tsxç»„ä»¶ï¼Œæœ‰å°±å°†æ¸²æŸ“error.tsxç»„ä»¶ï¼Œè€Œä¸æ˜¯æ¸²æŸ“æ‹¥æœ‰error.tsxçš„ç»„ä»¶ã€‚</p><p>â€‹ errorç»„ä»¶åªä¼šåœ¨å®¢æˆ·ç«¯ä¸­æ¸²æŸ“ï¼Œç»„ä»¶å¯ä»¥æ¥æ”¶ä¸¤ä¸ªå‚æ•°errorå’Œresetï¼Œä¸€ä¸ªæ˜¯é”™è¯¯ä¿¡æ¯ï¼Œä¸€ä¸ªæ˜¯é‡æ–°åŠ è½½å½“å‰è·¯ç”±ï¼ˆä¸æ˜¯åˆ·æ–°é¡µé¢ï¼Œåªæ˜¯éƒ¨åˆ†åˆ·æ–°ï¼‰</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#9ECBFF;">&quot;use client&quot;</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// Error components must be Client Components</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { useEffect } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Error</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">error</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">reset</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">error</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Error</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;</span><span style="color:#E1E4E8;"> { </span><span style="color:#FFAB70;">digest</span><span style="color:#F97583;">?:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;"> };</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">reset</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">void</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">useEffect</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// Log the error to an error reporting service</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">error</span><span style="color:#E1E4E8;">(error);</span></span>
<span class="line"><span style="color:#E1E4E8;">  }, [error]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">h2</span><span style="color:#E1E4E8;">&gt;Something went wrong!&lt;/</span><span style="color:#85E89D;">h2</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">button</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">onClick</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#6A737D;">// Attempt to recover by trying to re-render the segment</span></span>
<span class="line"><span style="color:#E1E4E8;">          () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">reset</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">        }&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        Try again</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#032F62;">&quot;use client&quot;</span><span style="color:#24292E;">; </span><span style="color:#6A737D;">// Error components must be Client Components</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { useEffect } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Error</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">error</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">reset</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">}</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">error</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Error</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;</span><span style="color:#24292E;"> { </span><span style="color:#E36209;">digest</span><span style="color:#D73A49;">?:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;"> };</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">reset</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">void</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">useEffect</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// Log the error to an error reporting service</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">error</span><span style="color:#24292E;">(error);</span></span>
<span class="line"><span style="color:#24292E;">  }, [error]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">h2</span><span style="color:#24292E;">&gt;Something went wrong!&lt;/</span><span style="color:#22863A;">h2</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">button</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">onClick</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">// Attempt to recover by trying to re-render the segment</span></span>
<span class="line"><span style="color:#24292E;">          () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">reset</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">        }&gt;</span></span>
<span class="line"><span style="color:#24292E;">        Try again</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#22863A;">button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="not-found" tabindex="-1">not-found <a class="header-anchor" href="#not-found" aria-label="Permalink to &quot;not-found&quot;">â€‹</a></h3><p>â€‹ notFoundæ˜¯ä¸€ä¸ªæœåŠ¡ç«¯ç»„ä»¶ã€‚</p><h4 id="æ‰‹åŠ¨æ¿€æ´»" tabindex="-1">æ‰‹åŠ¨æ¿€æ´» <a class="header-anchor" href="#æ‰‹åŠ¨æ¿€æ´»" aria-label="Permalink to &quot;æ‰‹åŠ¨æ¿€æ´»&quot;">â€‹</a></h4><p>â€‹ not-foundç»„ä»¶åªä¼šåœ¨è·¯ç”±ç»„ä»¶ä¸­è°ƒç”¨äº†<code>notFound</code>å‡½æ•°æ‰ä¼šæ¿€æ´»ï¼Œæ¿€æ´»æ—¶è·¯ç”±ç»„ä»¶æ—¶æ‰§è¡Œäº†notFoundå‡½æ•°ï¼Œå°±ä¼šå°†åŸè·¯ç”±ç»„ä»¶æ›¿æ¢æˆnot-foundç»„ä»¶ã€‚</p><p>ç¤ºä¾‹ï¼š</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// /app/user/[uid]/not-found.tsx</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">NotFound</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;æ‰¾ä¸åˆ°è¯¥ç”¨æˆ·&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// /app/user/[uid]/not-found.tsx</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">NotFound</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;æ‰¾ä¸åˆ°è¯¥ç”¨æˆ·&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// /app/user/[uid]/page.tsx</span></span>
<span class="line"><span style="color:#F97583;">...</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { notFound } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/navigation&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Props</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">params</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">uid</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  };</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">generateMetadata</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">props</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Props</span><span style="color:#E1E4E8;">)</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Promise</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#B392F0;">Metadata</span><span style="color:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">userData</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getUser</span><span style="color:#E1E4E8;">(props.params.uid);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// getUserå‡½æ•°ä¼šåœ¨æœªæ‰¾åˆ°ç”¨æˆ·æ—¶è¿”å›undefined</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (userData </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">undefined</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// è®¾ç½®æ ‡é¢˜</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      title: </span><span style="color:#9ECBFF;">&quot;æœªæ‰¾åˆ°ç”¨æˆ·&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    };</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    title: userData.name,</span></span>
<span class="line"><span style="color:#E1E4E8;">  };</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">UserDetail</span><span style="color:#E1E4E8;">({ </span><span style="color:#FFAB70;">params</span><span style="color:#E1E4E8;">: { </span><span style="color:#FFAB70;">uid</span><span style="color:#E1E4E8;"> } }</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Props</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">userData</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getUser</span><span style="color:#E1E4E8;">(uid);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (userData </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">undefined</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// æ¸²æŸ“notFoundç»„ä»¶ã€‚</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">notFound</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">userPosts_P</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getUserPosts</span><span style="color:#E1E4E8;">(uid);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;ID:{userData.id}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;NAME:{userData.name}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;PHONE:{userData.phone}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;EMAIL:{userData.email}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">hr</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">hr</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#79B8FF;">Suspense</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fallback</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{&lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;Loading&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;}&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        {</span><span style="color:#6A737D;">/*@ts-expect-error Server Component*/</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#79B8FF;">UserPost</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">resolve</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{userPosts_P}&gt;&lt;/</span><span style="color:#79B8FF;">UserPost</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#79B8FF;">Suspense</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">hr</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">hr</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#79B8FF;">Link</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">href</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;/users&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">className</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;rounded px-2 py-1 bg-sky-400 text-xs&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        Back to Users</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#79B8FF;">Link</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// /app/user/[uid]/page.tsx</span></span>
<span class="line"><span style="color:#D73A49;">...</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { notFound } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/navigation&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">type</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Props</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">params</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">uid</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  };</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">generateMetadata</span><span style="color:#24292E;">(</span><span style="color:#E36209;">props</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Props</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Promise</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">Metadata</span><span style="color:#24292E;">&gt; {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">userData</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getUser</span><span style="color:#24292E;">(props.params.uid);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// getUserå‡½æ•°ä¼šåœ¨æœªæ‰¾åˆ°ç”¨æˆ·æ—¶è¿”å›undefined</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (userData </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">undefined</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// è®¾ç½®æ ‡é¢˜</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      title: </span><span style="color:#032F62;">&quot;æœªæ‰¾åˆ°ç”¨æˆ·&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    };</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    title: userData.name,</span></span>
<span class="line"><span style="color:#24292E;">  };</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">UserDetail</span><span style="color:#24292E;">({ </span><span style="color:#E36209;">params</span><span style="color:#24292E;">: { </span><span style="color:#E36209;">uid</span><span style="color:#24292E;"> } }</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Props</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">userData</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getUser</span><span style="color:#24292E;">(uid);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (userData </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">undefined</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// æ¸²æŸ“notFoundç»„ä»¶ã€‚</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">notFound</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">userPosts_P</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getUserPosts</span><span style="color:#24292E;">(uid);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;ID:{userData.id}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;NAME:{userData.name}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;PHONE:{userData.phone}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;EMAIL:{userData.email}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">hr</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">hr</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#005CC5;">Suspense</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fallback</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{&lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;Loading&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;}&gt;</span></span>
<span class="line"><span style="color:#24292E;">        {</span><span style="color:#6A737D;">/*@ts-expect-error Server Component*/</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#005CC5;">UserPost</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">resolve</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{userPosts_P}&gt;&lt;/</span><span style="color:#005CC5;">UserPost</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#005CC5;">Suspense</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">hr</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">hr</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#005CC5;">Link</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">href</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;/users&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;rounded px-2 py-1 bg-sky-400 text-xs&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        Back to Users</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#005CC5;">Link</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="è‡ªåŠ¨æ¿€æ´»" tabindex="-1">è‡ªåŠ¨æ¿€æ´» <a class="header-anchor" href="#è‡ªåŠ¨æ¿€æ´»" aria-label="Permalink to &quot;è‡ªåŠ¨æ¿€æ´»&quot;">â€‹</a></h4><p>â€‹ åœ¨<code>/app/not-found</code>åˆ›å»ºnotFoundç»„ä»¶ï¼Œåˆ™ä¼šæ•è·æœªåŒ¹é…è·¯ç”±æ—¶çš„é”™è¯¯ï¼Œè·³è½¬åˆ°è¯¥é¡µé¢ä¸­ã€‚</p><h3 id="route" tabindex="-1">route <a class="header-anchor" href="#route" aria-label="Permalink to &quot;route&quot;">â€‹</a></h3><p>â€‹ ç¼–å†™æ¥å£çš„æ–‡ä»¶ï¼Œæ”¯æŒè¿™äº›è¯·æ±‚æ–¹æ³•ã€‚å®˜æ–¹æ¨èçš„æ˜¯å°†æ¥å£ä¹Ÿæ”¾åœ¨å¯¹åº”è·¯ç”±ä¸­ï¼Œä½†æ˜¯è¿™ä¼šå¯¼è‡´ä¸€ä¸ªé—®é¢˜å°±æ˜¯<code>/user/route.ts</code>ä¸<code>/user/page.ts</code>ä¼šå‘é€å†²çªï¼Œå¯¼è‡´ä¼šè¯·æ±‚æ¥å£ï¼Œè€Œä¸æ˜¯è®¿é—®é¡µé¢ã€‚</p><p>â€‹ æœ€å¥½çš„åšæ³•å°±æ˜¯åœ¨<code>/app/api/user/route.ts</code>åˆ›å»ºæ¥å£æ–‡ä»¶ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>/user</code>è®¿é—®é¡µé¢ï¼Œ<code>/api/user</code>æ¥è®¿é—®æ¥å£ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">GET</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">request</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Request</span><span style="color:#E1E4E8;">) {}</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">HEAD</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">request</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Request</span><span style="color:#E1E4E8;">) {}</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">POST</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">request</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Request</span><span style="color:#E1E4E8;">) {}</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">PUT</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">request</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Request</span><span style="color:#E1E4E8;">) {}</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">DELETE</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">request</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Request</span><span style="color:#E1E4E8;">) {}</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">PATCH</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">request</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Request</span><span style="color:#E1E4E8;">) {}</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#6A737D;">// If `OPTIONS` is not defined, Next.js will automatically implement `OPTIONS` and  set the appropriate Response `Allow` header depending on the other methods defined in the route handler.</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">OPTIONS</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">request</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Request</span><span style="color:#E1E4E8;">) {}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">GET</span><span style="color:#24292E;">(</span><span style="color:#E36209;">request</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Request</span><span style="color:#24292E;">) {}</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">HEAD</span><span style="color:#24292E;">(</span><span style="color:#E36209;">request</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Request</span><span style="color:#24292E;">) {}</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">POST</span><span style="color:#24292E;">(</span><span style="color:#E36209;">request</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Request</span><span style="color:#24292E;">) {}</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PUT</span><span style="color:#24292E;">(</span><span style="color:#E36209;">request</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Request</span><span style="color:#24292E;">) {}</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DELETE</span><span style="color:#24292E;">(</span><span style="color:#E36209;">request</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Request</span><span style="color:#24292E;">) {}</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PATCH</span><span style="color:#24292E;">(</span><span style="color:#E36209;">request</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Request</span><span style="color:#24292E;">) {}</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#6A737D;">// If `OPTIONS` is not defined, Next.js will automatically implement `OPTIONS` and  set the appropriate Response `Allow` header depending on the other methods defined in the route handler.</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">OPTIONS</span><span style="color:#24292E;">(</span><span style="color:#E36209;">request</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Request</span><span style="color:#24292E;">) {}</span></span></code></pre></div><h2 id="_2-åµŒå¥—è·¯ç”±" tabindex="-1">2.åµŒå¥—è·¯ç”± <a class="header-anchor" href="#_2-åµŒå¥—è·¯ç”±" aria-label="Permalink to &quot;2.åµŒå¥—è·¯ç”±&quot;">â€‹</a></h2><p>é€šè¿‡æ–‡ä»¶å¤¹æ¥è¡¨ç¤ºåµŒå¥—å…³ç³»ã€‚ä¾‹å¦‚ï¼šéœ€è¦è¡¨ç¤ºè¿™ç§è·¯ç”±<code>/user/goods/likes</code>çš„åµŒå¥—å…³ç³»å¹¶ä¸”æ¿€æ´»æ—¶è¦æ˜¾ç¤ºç»„ä»¶è·¯ç”±çš„å†…å®¹ï¼Œå¯¹äºåˆ™éœ€è¦åˆ›å»ºï¼š</p><ol><li>/user/layout.tsx ç”¨æ¥å±•ç¤ºäºŒçº§è·¯ç”±ï¼Œä»¥åŠ<code>/user</code>æ¿€æ´»æ—¶çš„å…¬å…±éƒ¨åˆ†</li><li>/user/goods/layout.tsx ç”¨æ¥å±•ç¤ºä¸‰çº§è·¯ç”±ï¼Œä»¥åŠ<code>/user/goods/</code>æ¿€æ´»æ—¶çš„å…¬å…±éƒ¨åˆ†</li><li>/user/goods/like/page.tsx</li></ol><h2 id="_3-ä¿®æ”¹head" tabindex="-1">3.ä¿®æ”¹Head <a class="header-anchor" href="#_3-ä¿®æ”¹head" aria-label="Permalink to &quot;3.ä¿®æ”¹Head&quot;">â€‹</a></h2><p>â€‹ åœ¨App Routerä¸­æœ‰å¾ˆå¤šç§æ–¹æ³•æ¥ä¿®æ”¹ç½‘é¡µçš„Headéƒ¨åˆ†ã€‚</p><h3 id="_1-metadata" tabindex="-1">1.Metadata <a class="header-anchor" href="#_1-metadata" aria-label="Permalink to &quot;1.Metadata&quot;">â€‹</a></h3><p>â€‹ é€šè¿‡æŒ‰éœ€å¯¼å‡ºmetadataå˜é‡ï¼Œåœ¨é‡Œé¢å†™å…¥å„ç§é…ç½®é¡¹ï¼ŒNextä¼šè‡ªåŠ¨åœ¨è·¯ç”±æ¿€æ´»æ—¶ä¸ºç½‘é¡µæ·»åŠ å…ƒæ•°æ®ã€‚</p><p>â€‹ <strong>æ³¨æ„</strong>ï¼šä½¿ç”¨äº†Metadataçš„æ–¹å¼å°±ä¼šå¯¼è‡´åœ¨ç»„ä»¶ä¸­ç¼–å†™çš„Headå¤±æ•ˆã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Metadata } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">metadata</span><span style="color:#F97583;">:</span><span style="color:#B392F0;">Metadata</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  title: </span><span style="color:#9ECBFF;">&quot;åˆ¶ä½œäººå‘˜&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  description:</span><span style="color:#9ECBFF;">&quot;Nextå­¦ä¹ &quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Person</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;åˆ¶ä½œäººå‘˜ï¼šå¼ ä¸‰ æå›› ç‹éº»å­&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Metadata } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">metadata</span><span style="color:#D73A49;">:</span><span style="color:#6F42C1;">Metadata</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  title: </span><span style="color:#032F62;">&quot;åˆ¶ä½œäººå‘˜&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  description:</span><span style="color:#032F62;">&quot;Nextå­¦ä¹ &quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Person</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;åˆ¶ä½œäººå‘˜ï¼šå¼ ä¸‰ æå›› ç‹éº»å­&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="_2-è‡ªå®šä¹‰headç»„ä»¶" tabindex="-1">2.è‡ªå®šä¹‰Headç»„ä»¶ <a class="header-anchor" href="#_2-è‡ªå®šä¹‰headç»„ä»¶" aria-label="Permalink to &quot;2.è‡ªå®šä¹‰Headç»„ä»¶&quot;">â€‹</a></h3><p>â€‹ å¦‚æœä½ ä¸æƒ³å¤ªå†…èšï¼Œå¯ä»¥æŠŠheadçš„å†…å®¹æ‹†åˆ†åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­ã€‚NextåŒæ ·ä¼šæŠŠè¯¥ç»„ä»¶çš„å†…å®¹æå‡åˆ°æ–‡æ¡£çš„headæ ‡ç­¾å†…éƒ¨ã€‚</p><p>åˆ›å»ºHeadç»„ä»¶:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// about/head.tsx</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Head</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">title</span><span style="color:#E1E4E8;">&gt;Abouté¡µé¢&lt;/</span><span style="color:#85E89D;">title</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">meta</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">name</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;description&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">content</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;å­¦ä¹ Next&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">meta</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// about/head.tsx</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Head</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">title</span><span style="color:#24292E;">&gt;Abouté¡µé¢&lt;/</span><span style="color:#22863A;">title</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">meta</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">name</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;description&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">content</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;å­¦ä¹ Next&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">meta</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>å¼•å…¥:</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// about/page.tsx</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> Head </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;./head&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">About</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#79B8FF;">Head</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#79B8FF;">Head</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;About&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// about/page.tsx</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> Head </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;./head&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">About</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#005CC5;">Head</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#005CC5;">Head</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;About&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="_3-åŠ¨æ€head" tabindex="-1">3.åŠ¨æ€Head <a class="header-anchor" href="#_3-åŠ¨æ€head" aria-label="Permalink to &quot;3.åŠ¨æ€Head&quot;">â€‹</a></h3><p>â€‹ ä¾‹å¦‚å¸–å­é¡µé¢ï¼Œéœ€è¦è®©ç½‘é¡µæ ‡é¢˜ä¸å¸–å­çš„æ ‡é¢˜åŒæ­¥ï¼Œä½¿ç”¨<code>generateMetadata</code>å¾ˆæœ‰æ•ˆã€‚</p><p>â€‹ ä»–ä¼šåœ¨é¦–æ¬¡æ¸²æŸ“æ—¶æ‰§è¡Œä¸€æ¬¡ï¼ŒæœåŠ¡å™¨ä¼šæ‰§è¡Œ<code>generateMetadata</code>ä»¥åŠ__page__ç”Ÿæˆç½‘é¡µæ–‡æ¡£ï¼Œæ‰§è¡Œå®Œæˆï¼ˆæˆ–PromiseçŠ¶æ€å‡å›ºï¼‰åï¼Œæ‰ä¼šå“åº”ç»™å®¢æˆ·ç«¯ï¼›åœ¨CSRæ¨¡å¼ä¸‹ï¼Œå®¢æˆ·ç«¯ä¼šè¯·æ±‚è¯¥è·¯ç”±ç½‘é¡µï¼ŒæœåŠ¡å™¨ä¼šæ‰§è¡Œ<code>generateMetadata</code>ä»¥åŠ__page__ç”Ÿæˆ__ç½‘é¡µç‰‡æ®µ__ï¼Œæ‰§è¡Œå®Œæˆï¼ˆæˆ–PromiseçŠ¶æ€å‡å›ºï¼‰åï¼Œæ‰ä¼šå“åº”ç»™å®¢æˆ·ç«¯ã€‚</p><p>â€‹ <code>generateMetadata</code>çš„æ‰§è¡Œç»“æœæ˜¯ä¼šè¢«ç¼“å­˜çš„ï¼Œç¼“å­˜å¤šä¹…ç”±Nextå†³å®šã€‚</p><h4 id="åŒæ­¥" tabindex="-1">åŒæ­¥ <a class="header-anchor" href="#åŒæ­¥" aria-label="Permalink to &quot;åŒæ­¥&quot;">â€‹</a></h4><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Metadata } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">interface</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Props</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">params</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">pid</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  };</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">generateMetadata</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">props</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Props</span><span style="color:#E1E4E8;">)</span><span style="color:#F97583;">:</span><span style="color:#B392F0;">Metadata</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    title:</span><span style="color:#9ECBFF;">`æ–‡ç« id ${</span><span style="color:#E1E4E8;">props</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">params</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">pid</span><span style="color:#9ECBFF;">}`</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">props</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Props</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;{props.params.pid}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Metadata } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Props</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">params</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">pid</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  };</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">generateMetadata</span><span style="color:#24292E;">(</span><span style="color:#E36209;">props</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Props</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#6F42C1;">Metadata</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    title:</span><span style="color:#032F62;">`æ–‡ç« id ${</span><span style="color:#24292E;">props</span><span style="color:#032F62;">.</span><span style="color:#24292E;">params</span><span style="color:#032F62;">.</span><span style="color:#24292E;">pid</span><span style="color:#032F62;">}`</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">props</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Props</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;{props.params.pid}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="æ”¯æŒå¼‚æ­¥" tabindex="-1">æ”¯æŒå¼‚æ­¥ <a class="header-anchor" href="#æ”¯æŒå¼‚æ­¥" aria-label="Permalink to &quot;æ”¯æŒå¼‚æ­¥&quot;">â€‹</a></h4><p>â€‹ åœ¨SSRä¸‹åœ¨__generateMetadata__å®Œæˆåæ‰ä¼šå“åº”æ–‡æ¡£ï¼Œåœ¨CSRä¸‹ä¼šå‘é€è¯·æ±‚ï¼ŒæœåŠ¡ç«¯æ‰§è¡Œ__generateMetadata__ã€<strong>å¯¹åº”è·¯ç”±ç»„ä»¶</strong>ï¼Œéƒ½æ‰§è¡Œå®Œæˆåæ‰ä¼šå“åº”æ–‡æ¡£ç‰‡æ®µã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Metadata } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">interface</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Props</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">params</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">pid</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  };</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">generateMetadata</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">props</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Props</span><span style="color:#E1E4E8;">)</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Promise</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#B392F0;">Metadata</span><span style="color:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">Promise</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">r</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">setTimeout</span><span style="color:#E1E4E8;">(r, </span><span style="color:#79B8FF;">3000</span><span style="color:#E1E4E8;">));</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    title: </span><span style="color:#9ECBFF;">`æ–‡ç« id ${</span><span style="color:#E1E4E8;">props</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">params</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">pid</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  };</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">props</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Props</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;{props.params.pid}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Metadata } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Props</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">params</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">pid</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  };</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">generateMetadata</span><span style="color:#24292E;">(</span><span style="color:#E36209;">props</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Props</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Promise</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">Metadata</span><span style="color:#24292E;">&gt; {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">Promise</span><span style="color:#24292E;">((</span><span style="color:#E36209;">r</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setTimeout</span><span style="color:#24292E;">(r, </span><span style="color:#005CC5;">3000</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    title: </span><span style="color:#032F62;">`æ–‡ç« id ${</span><span style="color:#24292E;">props</span><span style="color:#032F62;">.</span><span style="color:#24292E;">params</span><span style="color:#032F62;">.</span><span style="color:#24292E;">pid</span><span style="color:#032F62;">}`</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  };</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">props</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Props</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;{props.params.pid}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_4-åŠ¨æ€è·¯ç”±" tabindex="-1">4.åŠ¨æ€è·¯ç”± <a class="header-anchor" href="#_4-åŠ¨æ€è·¯ç”±" aria-label="Permalink to &quot;4.åŠ¨æ€è·¯ç”±&quot;">â€‹</a></h2><p>â€‹ åŠ¨æ€è·¯ç”±ä¹Ÿå°±æ˜¯å¯¹è·¯å¾„å‚æ•°åŒ¹é…ä¸ŠåŒä¸€ä¸ªè·¯ç”±ç»„ä»¶ã€‚</p><h3 id="ç®€å•ä½¿ç”¨ã€ä¸€ä¸ªå‚æ•°ã€‘ğŸ˜-1" tabindex="-1">ç®€å•ä½¿ç”¨ã€ä¸€ä¸ªå‚æ•°ã€‘ğŸ˜ <a class="header-anchor" href="#ç®€å•ä½¿ç”¨ã€ä¸€ä¸ªå‚æ•°ã€‘ğŸ˜-1" aria-label="Permalink to &quot;ç®€å•ä½¿ç”¨ã€ä¸€ä¸ªå‚æ•°ã€‘ğŸ˜&quot;">â€‹</a></h3><p>å¦‚ä½•åˆ›å»ºä¸€ä¸ªåŠ¨æ€è·¯ç”±å‘¢ï¼Ÿ</p><p>åˆ›å»ºä¸€ä¸ª<code>/pages/user/[uid].tsx</code>ï¼Œç„¶åå°±å¯ä»¥é€šè¿‡<code>/user/1</code>æ¥åŒ¹é…ä¸Šè¯¥è·¯ç”±äº†ã€‚ç„¶åå¯ä»¥é€šè¿‡<code>useRouter</code>æ¥è·å–è·¯å¾„å‚æ•°çš„å€¼ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { useRouter } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/router&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">User</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">router</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useRouter</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// å¯¹çš„ï¼Œä½ æ²¡çœ‹é”™ï¼Œqueryæ˜¯åŠ¨æ€å‚æ•°ï¼Œä¹Ÿæ˜¯æŸ¥è¯¢å‚æ•°ğŸ˜…</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">uid</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> router.query;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;User id is {uid}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { useRouter } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/router&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">User</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">router</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useRouter</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// å¯¹çš„ï¼Œä½ æ²¡çœ‹é”™ï¼Œqueryæ˜¯åŠ¨æ€å‚æ•°ï¼Œä¹Ÿæ˜¯æŸ¥è¯¢å‚æ•°ğŸ˜…</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">uid</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> router.query;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;User id is {uid}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="ç¨æœ‰ä¸é€‚ã€å¤šä¸ªå‚æ•°ã€‘ğŸ˜…-1" tabindex="-1">ç¨æœ‰ä¸é€‚ã€å¤šä¸ªå‚æ•°ã€‘ğŸ˜… <a class="header-anchor" href="#ç¨æœ‰ä¸é€‚ã€å¤šä¸ªå‚æ•°ã€‘ğŸ˜…-1" aria-label="Permalink to &quot;ç¨æœ‰ä¸é€‚ã€å¤šä¸ªå‚æ•°ã€‘ğŸ˜…&quot;">â€‹</a></h3><p>æˆ‘åŠ¨æ€å‚æ•°æœ‰ä¸¤ä¸ªï¼Œè¦æ€ä¹ˆåŠå‘¢ï¼Ÿæ²¡é—®é¢˜ï¼Œå’±ä»¬Nextå¯¹å¤šä¸ªåŠ¨æ€å‚æ•°éƒ½è¿›è¡Œäº†å¤„ç†ã€‚</p><h4 id="ç¤ºä¾‹1-1" tabindex="-1">ç¤ºä¾‹1 <a class="header-anchor" href="#ç¤ºä¾‹1-1" aria-label="Permalink to &quot;ç¤ºä¾‹1&quot;">â€‹</a></h4><p>ä¾‹å¦‚æœ‰ä¸€ä¸ª<code>/user/:uid/:page</code>çš„è·¯ç”±ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åˆ›å»º<code>/pages/user/[uid]/[page].tsx</code>çš„è·¯ç”±ç»„ä»¶ã€‚æ˜¯çš„ä½ æ²¡çœ‹é”™ï¼Œå°±æ˜¯æ–‡ä»¶åæœ‰ç‚¹éš¾çœ‹ã€‚</p><p>ç„¶åæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡<code>/user/52/2</code>æ¥åŒ¹é…ä¸Š<code>[page].tsx</code>è·¯ç”±äº†ã€‚</p><h4 id="ç¤ºä¾‹2-1" tabindex="-1">ç¤ºä¾‹2 <a class="header-anchor" href="#ç¤ºä¾‹2-1" aria-label="Permalink to &quot;ç¤ºä¾‹2&quot;">â€‹</a></h4><p>ä¾‹å¦‚æˆ‘æœ‰ä¸€ä¸ª<code>/user/:xxx/yyy/:zzz</code>çš„è·¯ç”±ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åˆ›å»º<code>/pages/[xxx]/yyy/[zzz].tsx</code>çš„è·¯ç”±ç»„ä»¶ã€‚</p><p>æ—¢å¯ä»¥é€šè¿‡<code>/user/4/yyy/77</code>æ¥åŒ¹é…ä¸Šè·¯ç”±ã€‚</p><h3 id="æœ‰ç‚¹æ¶å¿ƒã€æ•è·å…¨éƒ¨ã€‘ğŸ¤¢-1" tabindex="-1">æœ‰ç‚¹æ¶å¿ƒã€æ•è·å…¨éƒ¨ã€‘ğŸ¤¢ <a class="header-anchor" href="#æœ‰ç‚¹æ¶å¿ƒã€æ•è·å…¨éƒ¨ã€‘ğŸ¤¢-1" aria-label="Permalink to &quot;æœ‰ç‚¹æ¶å¿ƒã€æ•è·å…¨éƒ¨ã€‘ğŸ¤¢&quot;">â€‹</a></h3><p>Nextæ‹¥æœ‰æ•è·æ‰€æœ‰è·¯ç”±å‚æ•°çš„åŠŸèƒ½ã€‚å¯ä»¥åœ¨å¤šä¸ªå‚æ•°çš„æƒ…å†µä¸‹ä½¿ç”¨åŒä¸€ä¸ªè·¯ç”±ç»„ä»¶ï¼Œç¨æœ‰ä¸é€‚é‚£ç§æƒ…å†µå‚æ•°ä¸ªæ•°ä¸åŒå¯¹åº”çš„è·¯ç”±ç»„ä»¶ä¹Ÿä¸ä¸€æ ·ï¼Œè€Œç°åœ¨è¿™ä¸ªåŠŸèƒ½æ˜¯å¤šä¸ªå‚æ•°å…¬ç”¨ä¸€ä¸ªç»„ä»¶ï¼Œä½¿ç”¨åœºæ™¯ä¸ä¸€æ ·ã€‚</p><p>ä¾‹å¦‚æˆ‘æƒ³è¦è®©<code>/user/:uid</code>å’Œ<code>/user/:uid/:page</code>éƒ½åŒ¹é…åŒä¸€ä¸ªè·¯ç”±è¦å’‹æ•´?</p><p>åªéœ€è¦åˆ›å»º<code>/pages/user/[...data].tsx</code>å³å¯ï¼ˆä¸ä¸€å®šéƒ½å«paramsï¼Œå¯ä»¥è‡ªå·±å–ï¼Œrouter.query[xxxx]ï¼Œå°±æ˜¯æ‰€æœ‰åŠ¨æ€å‚æ•°çš„å€¼äº†ï¼‰ï¼Œè¿™æ ·åœ¨è®¿é—®è¿™ä¸¤ç§å‚æ•°çš„è·¯ç”±æ—¶éƒ½å¯ä»¥åŒ¹é…ä¸Šè¯¥è·¯ç”±ç»„ä»¶ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">/user/1?ok=5 ---- {params:{data:[&quot;1&quot;]},searchParams:{ok:&quot;5&quot;}}</span></span>
<span class="line"><span style="color:#e1e4e8;">/user/1/5 --- {params:{data:[&quot;1&quot;,&quot;5&quot;]},searchParams:{}}</span></span>
<span class="line"><span style="color:#e1e4e8;">/user/sasa/adsda/qwdqw/qwdwdq --- {params:{data:[&quot;sasa&quot;,&quot;adsda&quot;]},searchParams:{}}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">/user/1?ok=5 ---- {params:{data:[&quot;1&quot;]},searchParams:{ok:&quot;5&quot;}}</span></span>
<span class="line"><span style="color:#24292e;">/user/1/5 --- {params:{data:[&quot;1&quot;,&quot;5&quot;]},searchParams:{}}</span></span>
<span class="line"><span style="color:#24292e;">/user/sasa/adsda/qwdqw/qwdwdq --- {params:{data:[&quot;sasa&quot;,&quot;adsda&quot;]},searchParams:{}}</span></span></code></pre></div><h3 id="æ„Ÿåˆ°çœ©æ™•ã€å¯é€‰å‚æ•°ã€‘ğŸ˜µâ€ğŸ’«-1" tabindex="-1">æ„Ÿåˆ°çœ©æ™•ã€å¯é€‰å‚æ•°ã€‘ğŸ˜µâ€ğŸ’« <a class="header-anchor" href="#æ„Ÿåˆ°çœ©æ™•ã€å¯é€‰å‚æ•°ã€‘ğŸ˜µâ€ğŸ’«-1" aria-label="Permalink to &quot;æ„Ÿåˆ°çœ©æ™•ã€å¯é€‰å‚æ•°ã€‘ğŸ˜µâ€ğŸ’«&quot;">â€‹</a></h3><p>å‡å¦‚æˆ‘ç°åœ¨æ‹¥æœ‰<code>/user/[...params].tsx</code>çš„è·¯ç”±äº†ï¼Œæˆ‘ç›´æ¥è®¿é—®<code>/user</code>ä¼šå‡ºç°404ï¼Œæˆ‘æƒ³è®©æˆ‘çš„ç½‘é¡µå¯ä»¥è®©å‚æ•°å˜å¾—å¯é€‰ï¼Œä»è€Œå¯ä»¥æ­£å¸¸è®¿é—®<code>/user</code>åŒ¹é…ä¸Š<code>/user/[...params].tsx</code>ï¼Œè¦æ€ä¹ˆåŠå‘¢?</p><p>å¾ˆç®€å•ï¼Œåªéœ€è¦åˆ›å»º<code>/user/[[...params]].tsx</code>å³å¯ï¼Œè¿™æ ·å°±ç®—æœªæºå¸¦å‚æ•°ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è®¿é—®<code>/user/[[...paras]].tsx</code>ç»„ä»¶äº†ï¼Œå°±æ˜¯è¿™å‘½åæ–¹å¼å¤šå°‘æœ‰ç‚¹ã€‚ã€‚</p><h3 id="éå¸¸éš¾å—ã€å¹³è¡Œè·¯ç”±ã€‘ğŸ¥µ-1" tabindex="-1">éå¸¸éš¾å—ã€å¹³è¡Œè·¯ç”±ã€‘ğŸ¥µ <a class="header-anchor" href="#éå¸¸éš¾å—ã€å¹³è¡Œè·¯ç”±ã€‘ğŸ¥µ-1" aria-label="Permalink to &quot;éå¸¸éš¾å—ã€å¹³è¡Œè·¯ç”±ã€‘ğŸ¥µ&quot;">â€‹</a></h3><p><a href="https://juejin.cn/post/7296330137284788275" target="_blank" rel="noreferrer">https://juejin.cn/post/7296330137284788275</a></p><p><strong>aaa/@xxx/page.tsx</strong> å¯ä»¥åœ¨ layout.tsx é‡Œå¼•å…¥å¤šä¸ªï¼Œå«åšå¹³è¡Œè·¯ç”±</p><h3 id="åœ°ç‹±çº§åˆ«ã€æ‹¦æˆªè·¯ç”±ã€‘ğŸ’€-1" tabindex="-1">åœ°ç‹±çº§åˆ«ã€æ‹¦æˆªè·¯ç”±ã€‘ğŸ’€ <a class="header-anchor" href="#åœ°ç‹±çº§åˆ«ã€æ‹¦æˆªè·¯ç”±ã€‘ğŸ’€-1" aria-label="Permalink to &quot;åœ°ç‹±çº§åˆ«ã€æ‹¦æˆªè·¯ç”±ã€‘ğŸ’€&quot;">â€‹</a></h3><p><strong>aaa/(..)/bbb/page.js</strong> å¯ä»¥æ‹¦æˆª /bbb çš„è·¯ç”±ï¼Œé‡å†™å¯¹åº”çš„ç»„ä»¶ï¼Œä½†æ˜¯åˆ·æ–°åä¾ç„¶æ¸²æŸ“åŸç»„ä»¶ï¼Œå«åšæ‹¦æˆªè·¯ç”±ã€‚</p><p><a href="https://next.nodejs.cn/docs/app/building-your-application/routing/intercepting-routes" target="_blank" rel="noreferrer">https://next.nodejs.cn/docs/app/building-your-application/routing/intercepting-routes</a></p><h3 id="å¤©å ‚çº§åˆ«ã€åˆ†ç»„è·¯ç”±ã€‘ğŸ˜‡-1" tabindex="-1">å¤©å ‚çº§åˆ«ã€åˆ†ç»„è·¯ç”±ã€‘ğŸ˜‡ <a class="header-anchor" href="#å¤©å ‚çº§åˆ«ã€åˆ†ç»„è·¯ç”±ã€‘ğŸ˜‡-1" aria-label="Permalink to &quot;å¤©å ‚çº§åˆ«ã€åˆ†ç»„è·¯ç”±ã€‘ğŸ˜‡&quot;">â€‹</a></h3><p>è·¯ç”±ç»„ (xxx) åŠ äº†ä¸ªæ‹¬å·æ¥è¡¨ç¤ºåˆ†ç»„ï¼Œä¸å‚ä¸å¯¼èˆªã€‚</p><h2 id="_5-è·¯ç”±å‚æ•°" tabindex="-1">5.è·¯ç”±å‚æ•° <a class="header-anchor" href="#_5-è·¯ç”±å‚æ•°" aria-label="Permalink to &quot;5.è·¯ç”±å‚æ•°&quot;">â€‹</a></h2><p>â€‹ App Router è·å–è·¯ç”±å‚æ•°å¤§æ›´æ–°ï¼Œè·¯ç”±å‚æ•°å¯ä»¥ç›´æ¥åœ¨è·¯ç”±ç»„ä»¶çš„propsä¸­è·å–ã€‚</p><p>â€‹ è·¯ç”±ç»„ä»¶çš„propsåªèƒ½è·å–ä¸¤ä¸ªå‚æ•°<code>params</code>å’Œ<code>searchParams</code>ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">interface</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">PageProps</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// è·¯å¾„å‚æ•°</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">params</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">id</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  };</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// æŸ¥è¯¢å‚æ•°</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">searchParams</span><span style="color:#F97583;">:</span><span style="color:#B392F0;">Record</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">,</span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">User</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">props</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">PageProps</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(props); </span><span style="color:#6A737D;">// {params:{...},searchParams:{...}}</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;User Id is {props.params.id}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PageProps</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// è·¯å¾„å‚æ•°</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">params</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">id</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  };</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// æŸ¥è¯¢å‚æ•°</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">searchParams</span><span style="color:#D73A49;">:</span><span style="color:#6F42C1;">Record</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">string</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">string</span><span style="color:#24292E;">&gt;;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">User</span><span style="color:#24292E;">(</span><span style="color:#E36209;">props</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PageProps</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(props); </span><span style="color:#6A737D;">// {params:{...},searchParams:{...}}</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;User Id is {props.params.id}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>åœ¨å‚æ•°ä¸åŒçš„æƒ…å†µä¸‹paramsçš„å€¼ï¼š</p><p>1.ä¸€ä¸ªå‚æ•°</p><p>â€‹ ä¾‹å¦‚<code>/user/[id]/page.tsx</code>ï¼Œåˆ™paramsçš„å€¼ä¸º <code>{id:string}</code></p><p>2.å¤šä¸ªå‚æ•°</p><p>â€‹ ä¾‹å¦‚<code>/data/[id]/xxx/[op]/page.tsx</code>ï¼Œåˆ™paramsçš„å€¼ä¸º<code>{id:string,op:string}</code></p><p>3.æ•è·å…¨éƒ¨</p><p>â€‹ ä¾‹å¦‚<code>/user/[...data]</code>ï¼Œåˆ™paramsçš„å€¼ä¸º<code>{data:[å‚æ•°åˆ—è¡¨]}</code></p><p>4.å¯é€‰å‚æ•°</p><p>â€‹ ä¾‹å¦‚<code>/optional/[[...haha]]</code>ï¼Œåˆ™æœ‰ä¸¤ç§æƒ…å†µï¼š</p><p>â€‹ æœªä¼ å…¥ä»»ä½•å‚æ•°ï¼šåˆ™paramsçš„å€¼ä¸º<code>{}</code></p><p>â€‹ è‹¥ä¼ å…¥å€¼ï¼Œå’Œæ•è·å…¨éƒ¨çš„æƒ…å†µä¸€æ ·ã€‚</p><h2 id="_6-æ•°æ®è·å–" tabindex="-1">6.æ•°æ®è·å– <a class="header-anchor" href="#_6-æ•°æ®è·å–" aria-label="Permalink to &quot;6.æ•°æ®è·å–&quot;">â€‹</a></h2><h3 id="ç®€å•ç¤ºä¾‹-1" tabindex="-1">ç®€å•ç¤ºä¾‹ <a class="header-anchor" href="#ç®€å•ç¤ºä¾‹-1" aria-label="Permalink to &quot;ç®€å•ç¤ºä¾‹&quot;">â€‹</a></h3><h4 id="_1-åˆ›å»ºè·å–æ•°æ®çš„api" tabindex="-1">1.åˆ›å»ºè·å–æ•°æ®çš„api <a class="header-anchor" href="#_1-åˆ›å»ºè·å–æ•°æ®çš„api" aria-label="Permalink to &quot;1.åˆ›å»ºè·å–æ•°æ®çš„api&quot;">â€‹</a></h4><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// src/lib/getAllUser.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getAllUser</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">res</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fetch</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;https://jsonplaceholder.typicode.com/users&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (res.status </span><span style="color:#F97583;">!==</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">200</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">throw</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Error</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;Fetch Data Failed.&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> res.</span><span style="color:#B392F0;">json</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// src/lib/getAllUser.ts</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getAllUser</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">res</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fetch</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;https://jsonplaceholder.typicode.com/users&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (res.status </span><span style="color:#D73A49;">!==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">200</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">throw</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Error</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Fetch Data Failed.&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> res.</span><span style="color:#6F42C1;">json</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="_2-åˆ›å»ºtså®šä¹‰æ–‡ä»¶" tabindex="-1">2.åˆ›å»ºtså®šä¹‰æ–‡ä»¶ <a class="header-anchor" href="#_2-åˆ›å»ºtså®šä¹‰æ–‡ä»¶" aria-label="Permalink to &quot;2.åˆ›å»ºtså®šä¹‰æ–‡ä»¶&quot;">â€‹</a></h4><p>åˆ›å»º<code>types.d.ts</code>æ–‡ä»¶</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">User</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">id</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">number</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">name</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">username</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">email</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">address</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">street</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">suite</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">city</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">zipcode</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">geo</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#FFAB70;">lat</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#FFAB70;">lng</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    };</span></span>
<span class="line"><span style="color:#E1E4E8;">  };</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">phone</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">website</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">company</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">name</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">catchPhrase</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">bs</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  };</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">type</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">User</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">id</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">number</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">name</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">username</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">email</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">address</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">street</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">suite</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">city</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">zipcode</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">geo</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#E36209;">lat</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#E36209;">lng</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    };</span></span>
<span class="line"><span style="color:#24292E;">  };</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">phone</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">website</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">company</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">name</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">catchPhrase</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">bs</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  };</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre></div><p>ä»»æ„åå­—éƒ½å¯ä»¥ï¼Œåªè¦æ˜¯tsç±»å‹å®šä¹‰æ–‡ä»¶ï¼Œtsç¼–è¯‘å™¨éƒ½ä¼šæŠŠä»–ä½œä¸ºå…¨å±€çš„ç±»å‹å®šä¹‰ï¼Œä¸éœ€è¦å¼•å…¥å°±å¯ä»¥è¿›è¡Œç±»å‹æ³¨é‡Šï¼Œå› ä¸ºåœ¨nexté¡¹ç›®ä¸­åˆ›å»ºçš„ts.congfig.jsonè‡ªåŠ¨é…ç½®äº†includeé€‰é¡¹ï¼Œä¼šè‡ªåŠ¨æŠŠè¿™äº›æ–‡ä»¶ä½œä¸ºå…¨å±€çš„ç±»å‹å®šä¹‰æ–‡ä»¶ã€‚</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;include&quot;</span><span style="color:#E1E4E8;">: [</span><span style="color:#9ECBFF;">&quot;next-env.d.ts&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;**/*.ts&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;**/*.tsx&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;.next/types/**/*.ts&quot;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&quot;exclude&quot;</span><span style="color:#E1E4E8;">: [</span><span style="color:#9ECBFF;">&quot;node_modules&quot;</span><span style="color:#E1E4E8;">]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;include&quot;</span><span style="color:#24292E;">: [</span><span style="color:#032F62;">&quot;next-env.d.ts&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;**/*.ts&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;**/*.tsx&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;.next/types/**/*.ts&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&quot;exclude&quot;</span><span style="color:#24292E;">: [</span><span style="color:#032F62;">&quot;node_modules&quot;</span><span style="color:#24292E;">]</span></span></code></pre></div><h4 id="åœ¨ç»„ä»¶ä¸­ä½¿ç”¨" tabindex="-1">åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ <a class="header-anchor" href="#åœ¨ç»„ä»¶ä¸­ä½¿ç”¨" aria-label="Permalink to &quot;åœ¨ç»„ä»¶ä¸­ä½¿ç”¨&quot;">â€‹</a></h4><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> getAllUser </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@/lib/getAllUser&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Metadata } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">metadata</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Metadata</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  title: </span><span style="color:#9ECBFF;">&quot;æµ‹è¯•æ•°æ®è·å–&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Users</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">usersData</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Promise</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#B392F0;">User</span><span style="color:#E1E4E8;">[]&gt; </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getAllUser</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">users</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> usersData;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">ul</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        {users.</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">item</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">            &lt;</span><span style="color:#85E89D;">li</span></span>
<span class="line"><span style="color:#E1E4E8;">              </span><span style="color:#B392F0;">key</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{item.id}</span></span>
<span class="line"><span style="color:#E1E4E8;">              </span><span style="color:#B392F0;">className</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;space-x-2&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">              &lt;</span><span style="color:#85E89D;">span</span><span style="color:#E1E4E8;">&gt;name:{item.name}&lt;/</span><span style="color:#85E89D;">span</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">              &lt;</span><span style="color:#85E89D;">span</span><span style="color:#E1E4E8;">&gt;phone:{item.phone}&lt;/</span><span style="color:#85E89D;">span</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">            &lt;/</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          );</span></span>
<span class="line"><span style="color:#E1E4E8;">        })}</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#85E89D;">ul</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> getAllUser </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@/lib/getAllUser&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Metadata } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">metadata</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Metadata</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  title: </span><span style="color:#032F62;">&quot;æµ‹è¯•æ•°æ®è·å–&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Users</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">usersData</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Promise</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">User</span><span style="color:#24292E;">[]&gt; </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getAllUser</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">users</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> usersData;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">ul</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        {users.</span><span style="color:#6F42C1;">map</span><span style="color:#24292E;">((</span><span style="color:#E36209;">item</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">            &lt;</span><span style="color:#22863A;">li</span></span>
<span class="line"><span style="color:#24292E;">              </span><span style="color:#6F42C1;">key</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{item.id}</span></span>
<span class="line"><span style="color:#24292E;">              </span><span style="color:#6F42C1;">className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;space-x-2&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">              &lt;</span><span style="color:#22863A;">span</span><span style="color:#24292E;">&gt;name:{item.name}&lt;/</span><span style="color:#22863A;">span</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">              &lt;</span><span style="color:#22863A;">span</span><span style="color:#24292E;">&gt;phone:{item.phone}&lt;/</span><span style="color:#22863A;">span</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">            &lt;/</span><span style="color:#22863A;">li</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          );</span></span>
<span class="line"><span style="color:#24292E;">        })}</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#22863A;">ul</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="å¼‚æ­¥åŠ è½½" tabindex="-1">å¼‚æ­¥åŠ è½½ <a class="header-anchor" href="#å¼‚æ­¥åŠ è½½" aria-label="Permalink to &quot;å¼‚æ­¥åŠ è½½&quot;">â€‹</a></h3><p>â€‹ æˆ‘æƒ³è®©ç»„ä»¶å†…éƒ¨çš„æŸäº›éƒ¨åˆ†è¿›è¡Œå¼‚æ­¥åŠ è½½ï¼Œéœ€è¦æ€ä¹ˆæ“ä½œï¼Ÿå°±åƒVueçš„Suspenseç»„ä»¶ä¸€æ ·ï¼Œè¿™æ¬¡æ˜¯çœŸçš„å’ŒSuspenseç»„ä»¶ä¸€æ ·äº†ï¼ŒåŠ è½½å¼‚æ­¥ç»„ä»¶ï¼ŒåŒæ­¥æ¸²æŸ“æ˜¾ç¤ºfallbackæ’æ§½æ•ˆæœï¼Œå¼‚æ­¥ç»„ä»¶åŠ è½½å®Œæˆåï¼Œæ›¿æ¢fallbackçš„å†…å®¹ã€‚</p><p>â€‹ åœ¨æœåŠ¡ç«¯ä¸­å…è®¸è¿”å›ä¸€ä¸ªPromiseçš„JSXç‰‡æ®µã€‚æ¯”æ–¹è¯´æˆ‘æœ‰ä¸ªç”¨æˆ·é¡µé¢ï¼Œæƒ³è¦ä¼˜å…ˆåŠ è½½ç”¨æˆ·çš„éƒ¨åˆ†é¡µé¢ï¼Œè€Œä¸æ˜¯é˜»å¡è·¯ç”±è·³è½¬ç›´åˆ°åŠ è½½å®Œæˆï¼Œå°±å¯ä»¥ç”¨Suspense+asyncç»„ä»¶ã€‚ä¸‹é¢è¿™ä¸ªæ¡ˆä¾‹å°±æ˜¯ä¼˜å…ˆåŠ è½½ç”¨æˆ·é¡µé¢ï¼Œå¼‚æ­¥åŠ è½½UserPostç»„ä»¶ã€‚</p><h4 id="ä½¿ç”¨å¼‚æ­¥çš„ç»„ä»¶" tabindex="-1">ä½¿ç”¨å¼‚æ­¥çš„ç»„ä»¶ <a class="header-anchor" href="#ä½¿ç”¨å¼‚æ­¥çš„ç»„ä»¶" aria-label="Permalink to &quot;ä½¿ç”¨å¼‚æ­¥çš„ç»„ä»¶&quot;">â€‹</a></h4><p>â€‹ ä½¿ç”¨å¼‚æ­¥ç»„ä»¶éœ€è¦æ³¨æ„ï¼Œç”±äºè¿”å›çš„æ˜¯å¼‚æ­¥çš„JSXèŠ‚ç‚¹ï¼Œä¼šè¢«TSæŠ¥é”™ï¼Œæ·»åŠ ä¸‹åˆ—æ³¨é‡Šå³å¯ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">{/*@ts-expect-error Server Component*/}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">{/*@ts-expect-error Server Component*/}</span></span></code></pre></div><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> UserPost </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@/app/components/UserPost&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> getUser </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@/lib/getUser&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> getUserPosts </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@/lib/getUserPosts&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> Link </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/link&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { Suspense } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Props</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">params</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FFAB70;">uid</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  };</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">UserDetail</span><span style="color:#E1E4E8;">({ </span><span style="color:#FFAB70;">params</span><span style="color:#E1E4E8;">: { </span><span style="color:#FFAB70;">uid</span><span style="color:#E1E4E8;"> } }</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Props</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// è·å–</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">userData</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getUser</span><span style="color:#E1E4E8;">(uid);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">userPosts_P</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getUserPosts</span><span style="color:#E1E4E8;">(uid);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;ID:{userData.id}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;NAME:{userData.name}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;PHONE:{userData.phone}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;EMAIL:{userData.email}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">hr</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">hr</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#79B8FF;">Suspense</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fallback</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{&lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;Loading&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;}&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        {</span><span style="color:#6A737D;">/*@ts-expect-error Server Component*/</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#79B8FF;">UserPost</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">resolve</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{userPosts_P}&gt;&lt;/</span><span style="color:#79B8FF;">UserPost</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#79B8FF;">Suspense</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">hr</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">hr</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#79B8FF;">Link</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">href</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;/users&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">className</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;rounded px-2 py-1 bg-sky-400 text-xs&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        Back to Users</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#79B8FF;">Link</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> UserPost </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@/app/components/UserPost&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> getUser </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@/lib/getUser&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> getUserPosts </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@/lib/getUserPosts&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> Link </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/link&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { Suspense } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">type</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Props</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">params</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#E36209;">uid</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  };</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">UserDetail</span><span style="color:#24292E;">({ </span><span style="color:#E36209;">params</span><span style="color:#24292E;">: { </span><span style="color:#E36209;">uid</span><span style="color:#24292E;"> } }</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Props</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// è·å–</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">userData</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getUser</span><span style="color:#24292E;">(uid);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">userPosts_P</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getUserPosts</span><span style="color:#24292E;">(uid);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;ID:{userData.id}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;NAME:{userData.name}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;PHONE:{userData.phone}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;EMAIL:{userData.email}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">hr</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">hr</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#005CC5;">Suspense</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fallback</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{&lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;Loading&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;}&gt;</span></span>
<span class="line"><span style="color:#24292E;">        {</span><span style="color:#6A737D;">/*@ts-expect-error Server Component*/</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#005CC5;">UserPost</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">resolve</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{userPosts_P}&gt;&lt;/</span><span style="color:#005CC5;">UserPost</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#005CC5;">Suspense</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">hr</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">hr</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#005CC5;">Link</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">href</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;/users&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;rounded px-2 py-1 bg-sky-400 text-xs&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        Back to Users</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#005CC5;">Link</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="éœ€è¦å¼‚æ­¥åŠ è½½çš„ç»„ä»¶å®šä¹‰" tabindex="-1">éœ€è¦å¼‚æ­¥åŠ è½½çš„ç»„ä»¶å®šä¹‰ <a class="header-anchor" href="#éœ€è¦å¼‚æ­¥åŠ è½½çš„ç»„ä»¶å®šä¹‰" aria-label="Permalink to &quot;éœ€è¦å¼‚æ­¥åŠ è½½çš„ç»„ä»¶å®šä¹‰&quot;">â€‹</a></h4><p>â€‹ æ˜¯çš„ï¼Œä½ æ²¡çœ‹é”™ï¼Œå¯ä»¥ç›´æ¥è¿”å›ä¸€ä¸ªå¼‚æ­¥çš„ç»„ä»¶ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> ({</span><span style="color:#FFAB70;">resolve</span><span style="color:#E1E4E8;">}</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;">{</span><span style="color:#FFAB70;">resolve</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Promise</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#B392F0;">Post</span><span style="color:#E1E4E8;">[]&gt;}) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">posts</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> resolve</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">ul</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;His Posts:&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      {posts.</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">item</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">key</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{item.id}&gt;{item.title}&lt;/</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      ))}</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">ul</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> ({</span><span style="color:#E36209;">resolve</span><span style="color:#24292E;">}</span><span style="color:#D73A49;">:</span><span style="color:#24292E;">{</span><span style="color:#E36209;">resolve</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Promise</span><span style="color:#24292E;">&lt;</span><span style="color:#6F42C1;">Post</span><span style="color:#24292E;">[]&gt;}) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">posts</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> resolve</span></span>
<span class="line"><span style="color:#24292E;">  </span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">ul</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;His Posts:&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      {posts.</span><span style="color:#6F42C1;">map</span><span style="color:#24292E;">((</span><span style="color:#E36209;">item</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">li</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">key</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{item.id}&gt;{item.title}&lt;/</span><span style="color:#22863A;">li</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      ))}</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">ul</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_7-æ¸²æŸ“æ¨¡å¼" tabindex="-1">7.æ¸²æŸ“æ¨¡å¼ <a class="header-anchor" href="#_7-æ¸²æŸ“æ¨¡å¼" aria-label="Permalink to &quot;7.æ¸²æŸ“æ¨¡å¼&quot;">â€‹</a></h2><h2 id="_8-è·¯ç”±å¯¼èˆª" tabindex="-1">8.è·¯ç”±å¯¼èˆª <a class="header-anchor" href="#_8-è·¯ç”±å¯¼èˆª" aria-label="Permalink to &quot;8.è·¯ç”±å¯¼èˆª&quot;">â€‹</a></h2><h3 id="å£°æ˜å¼-1" tabindex="-1">å£°æ˜å¼ <a class="header-anchor" href="#å£°æ˜å¼-1" aria-label="Permalink to &quot;å£°æ˜å¼&quot;">â€‹</a></h3><p>â€‹ ä½¿ç”¨Linkç»„ä»¶ï¼Œå’Œpages routerä¸€æ ·çš„ä½¿ç”¨æ–¹å¼ã€‚Linkç»„ä»¶åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œå¦‚æœLinkå‡ºç°åœ¨æµè§ˆå™¨è§†å£ä¸­ï¼Œåˆ™Linkç»„ä»¶ä¼šæ ¹æ®å…¶hrefå±æ€§ï¼Œé¢„å…ˆåŠ è½½è¯¥é¡µé¢çš„å†…å®¹ç‰‡æ®µï¼Œå†å°†æ¥è®¿é—®è¯¥é¡µé¢æ—¶å¯ä»¥æé«˜å“åº”é€Ÿåº¦ã€‚</p><blockquote><p>æ­¤å¤–ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œåªè¦<code>&lt;Link&gt;</code>ç»„ä»¶å‡ºç°åœ¨æµè§ˆå™¨çš„è§†å›¾ä¸­ï¼ŒNext.jså°±ä¼šè‡ªåŠ¨åœ¨åå°é¢„å–é“¾æ¥è·¯ç”±çš„ä»£ç ã€‚å½“ç”¨æˆ·å•å‡»é“¾æ¥æ—¶ï¼Œç›®æ ‡é¡µé¢çš„ä»£ç å·²ç»åœ¨åå°åŠ è½½ï¼Œè¿™ä½¿å¾—é¡µé¢è½¬æ¢å‡ ä¹æ˜¯å³æ—¶çš„!</p></blockquote><h3 id="ç¼–ç¨‹å¼-1" tabindex="-1">ç¼–ç¨‹å¼ <a class="header-anchor" href="#ç¼–ç¨‹å¼-1" aria-label="Permalink to &quot;ç¼–ç¨‹å¼&quot;">â€‹</a></h3><p>â€‹ å®¢æˆ·ç«¯ç»„ä»¶ä½¿ç”¨useRouterã€æœåŠ¡ç«¯ç»„ä»¶ä½¿ç”¨redirectã€‚</p><h3 id="æœåŠ¡ç«¯å¯¼èˆª" tabindex="-1">æœåŠ¡ç«¯å¯¼èˆª <a class="header-anchor" href="#æœåŠ¡ç«¯å¯¼èˆª" aria-label="Permalink to &quot;æœåŠ¡ç«¯å¯¼èˆª&quot;">â€‹</a></h3><p>â€‹ ä¾‹å¦‚éœ€è¦é‰´æƒçš„é¡µé¢ï¼Œç”¨æˆ·æ— æƒé™ï¼Œå¯ä»¥é€šè¿‡<code>redirect</code>é‡å®šå‘æŸä¸ªé¡µé¢</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> redisClient </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@/utils/redis&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { cookies } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/headers&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { redirect } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/navigation&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Posts</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">cookieStore</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">cookies</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">sessionId</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> cookieStore.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;sessionId&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (sessionId </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">undefined</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// æ— æƒè®¿é—®é¡µé¢ï¼Œé‡å®šå‘åˆ°401</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">redirect</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;/401&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">  redisClient.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(sessionId.value);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;{sessionId.value}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> redisClient </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@/utils/redis&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { cookies } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/headers&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { redirect } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/navigation&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Posts</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">cookieStore</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">cookies</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">sessionId</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> cookieStore.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;sessionId&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (sessionId </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">undefined</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// æ— æƒè®¿é—®é¡µé¢ï¼Œé‡å®šå‘åˆ°401</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">redirect</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;/401&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  redisClient.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(sessionId.value);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;{sessionId.value}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_9-å®¢æˆ·ç«¯ç»„ä»¶" tabindex="-1">9.å®¢æˆ·ç«¯ç»„ä»¶ <a class="header-anchor" href="#_9-å®¢æˆ·ç«¯ç»„ä»¶" aria-label="Permalink to &quot;9.å®¢æˆ·ç«¯ç»„ä»¶&quot;">â€‹</a></h2><p>â€‹ è¦æƒ³ä½¿ç”¨Reactçš„é’©å­ï¼Œä¾‹å¦‚<code>useEffect</code>ã€<code>useState</code>ç­‰ï¼Œéœ€è¦ç»™ç»„ä»¶æ–‡ä»¶é¡¶éƒ¨å†™å…¥ä¸€ä¸ª<code>&quot;use client&quot;</code>æ¥æ ‡è¯†ç»„ä»¶æ˜¯å®¢æˆ·ç«¯ç»„ä»¶ï¼Œä»è€Œå¯ä»¥ä½¿ç”¨å®¢æˆ·ç«¯Reacté’©å­ï¼Œç¦ç”¨ReactæœåŠ¡ç«¯çš„é’©å­ã€‚</p><p>â€‹ å®¢æˆ·ç«¯ç»„ä»¶åªæ˜¯æ„å‘³ç€ä¼šåœ¨å®¢æˆ·ç«¯ä¸­æ¸²æŸ“ï¼Œè€Œä¸ä¼šåœ¨æœåŠ¡ç«¯ä¸­æ¸²æŸ“ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#9ECBFF;">&quot;use client&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { useRouter } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/navigation&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { FormEvent, useCallback, useEffect, useState } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">SearchBar</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// æœç´¢å…³é”®è¯</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> [</span><span style="color:#79B8FF;">value</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">setValue</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useState</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// è¯·æ±‚è·å–ä¸€äº›æœç´¢æ¨èè¯çš„æ“ä½œ</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;ä»Šå¤©åœ£è¯èŠ‚ğŸ„&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  });</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// å¯¼èˆª</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">nav</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useRouter</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">useEffect</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// æœåŠ¡å™¨ç«¯æ°¸è¿œä¸ä¼šæ‰§è¡Œè¿™ä¸ª</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;client&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">handleInput</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useCallback</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">e</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">FormEvent</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">setValue</span><span style="color:#E1E4E8;">((e.target </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">HTMLInputElement</span><span style="color:#E1E4E8;">).value);</span></span>
<span class="line"><span style="color:#E1E4E8;">  }, []);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">handleClick</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useCallback</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">setValue</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    nav.</span><span style="color:#B392F0;">push</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`/search?keywords=${</span><span style="color:#E1E4E8;">value</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  }, []);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">className</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;flex&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">input</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">className</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;outline-none&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">value</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{value}</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">onInput</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{handleInput}&gt;&lt;/</span><span style="color:#85E89D;">input</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">button</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">className</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;text-xs px-2 py-1 text-white bg-sky-400 hover:bg-sky-500&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">onClick</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{handleClick}&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        Search</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#032F62;">&quot;use client&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { useRouter } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/navigation&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { FormEvent, useCallback, useEffect, useState } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SearchBar</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// æœç´¢å…³é”®è¯</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> [</span><span style="color:#005CC5;">value</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">setValue</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useState</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// è¯·æ±‚è·å–ä¸€äº›æœç´¢æ¨èè¯çš„æ“ä½œ</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;ä»Šå¤©åœ£è¯èŠ‚ğŸ„&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  });</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// å¯¼èˆª</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">nav</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useRouter</span><span style="color:#24292E;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">useEffect</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// æœåŠ¡å™¨ç«¯æ°¸è¿œä¸ä¼šæ‰§è¡Œè¿™ä¸ª</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;client&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">handleInput</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useCallback</span><span style="color:#24292E;">((</span><span style="color:#E36209;">e</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">FormEvent</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">setValue</span><span style="color:#24292E;">((e.target </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">HTMLInputElement</span><span style="color:#24292E;">).value);</span></span>
<span class="line"><span style="color:#24292E;">  }, []);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">handleClick</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useCallback</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">setValue</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    nav.</span><span style="color:#6F42C1;">push</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`/search?keywords=${</span><span style="color:#24292E;">value</span><span style="color:#032F62;">}`</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  }, []);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;flex&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">input</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;outline-none&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">value</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{value}</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">onInput</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{handleInput}&gt;&lt;/</span><span style="color:#22863A;">input</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">button</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;text-xs px-2 py-1 text-white bg-sky-400 hover:bg-sky-500&quot;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">onClick</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{handleClick}&gt;</span></span>
<span class="line"><span style="color:#24292E;">        Search</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#22863A;">button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_10-api-route" tabindex="-1">10.API Route <a class="header-anchor" href="#_10-api-route" aria-label="Permalink to &quot;10.API Route&quot;">â€‹</a></h2><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨Nextä¸­ç¼–å†™æ¥å£ï¼Œæ–‡æ¡£è§„å®šçš„æ˜¯</p><h3 id="ç®€å•ç¤ºä¾‹-2" tabindex="-1">ç®€å•ç¤ºä¾‹ <a class="header-anchor" href="#ç®€å•ç¤ºä¾‹-2" aria-label="Permalink to &quot;ç®€å•ç¤ºä¾‹&quot;">â€‹</a></h3><p>â€‹ åˆ›å»º<code>/app/api/hello/route.ts</code>ï¼Œç¼–å†™å¦‚ä¸‹å†…å®¹ï¼Œå°±å®Œæˆäº†ä¸€ä¸ªç®€å•çš„æ¥å£ç¼–å†™ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// GET /api/hello</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">GET</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Response</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Hello,Next.js&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// GET /api/hello</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">GET</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Response</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Hello,Next.js&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>â€‹ å½“ç„¶æ¥å£ä¹Ÿå¯ä»¥åµŒå¥—ç¼–å†™ã€‚</p><p>â€‹ åˆ›å»º<code>/app/api/hello/ok/route.ts</code>ï¼Œç¼–å†™å¦‚ä¸‹å†…å®¹ï¼Œå°±å®Œæˆäº†ä¸€ä¸ªåµŒå¥—è·¯ç”±ã€‚è¿™æ ·å°±å¯ä»¥é€šè¿‡<code>/api/hello/ok</code>æ¥è®¿é—®æ¥å£äº†ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { NextResponse } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/server&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// GET api/hello/ok</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">GET</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> NextResponse.</span><span style="color:#B392F0;">json</span><span style="color:#E1E4E8;">({ msg: </span><span style="color:#9ECBFF;">&quot;ok&quot;</span><span style="color:#E1E4E8;">, data: {} });</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { NextResponse } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/server&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// GET api/hello/ok</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">GET</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> NextResponse.</span><span style="color:#6F42C1;">json</span><span style="color:#24292E;">({ msg: </span><span style="color:#032F62;">&quot;ok&quot;</span><span style="color:#24292E;">, data: {} });</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="è¯·æ±‚æ–¹æ³•" tabindex="-1">è¯·æ±‚æ–¹æ³• <a class="header-anchor" href="#è¯·æ±‚æ–¹æ³•" aria-label="Permalink to &quot;è¯·æ±‚æ–¹æ³•&quot;">â€‹</a></h3><p>â€‹ æ”¯æŒè¿™äº›è¯·æ±‚æ–¹æ³•ã€‚</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">GET</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">request</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Request</span><span style="color:#E1E4E8;">) {}</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">HEAD</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">request</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Request</span><span style="color:#E1E4E8;">) {}</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">POST</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">request</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Request</span><span style="color:#E1E4E8;">) {}</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">PUT</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">request</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Request</span><span style="color:#E1E4E8;">) {}</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">DELETE</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">request</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Request</span><span style="color:#E1E4E8;">) {}</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">PATCH</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">request</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Request</span><span style="color:#E1E4E8;">) {}</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#6A737D;">// If `OPTIONS` is not defined, Next.js will automatically implement `OPTIONS` and  set the appropriate Response `Allow` header depending on the other methods defined in the route handler.</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">OPTIONS</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">request</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Request</span><span style="color:#E1E4E8;">) {}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">GET</span><span style="color:#24292E;">(</span><span style="color:#E36209;">request</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Request</span><span style="color:#24292E;">) {}</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">HEAD</span><span style="color:#24292E;">(</span><span style="color:#E36209;">request</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Request</span><span style="color:#24292E;">) {}</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">POST</span><span style="color:#24292E;">(</span><span style="color:#E36209;">request</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Request</span><span style="color:#24292E;">) {}</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PUT</span><span style="color:#24292E;">(</span><span style="color:#E36209;">request</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Request</span><span style="color:#24292E;">) {}</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">DELETE</span><span style="color:#24292E;">(</span><span style="color:#E36209;">request</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Request</span><span style="color:#24292E;">) {}</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PATCH</span><span style="color:#24292E;">(</span><span style="color:#E36209;">request</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Request</span><span style="color:#24292E;">) {}</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#6A737D;">// If `OPTIONS` is not defined, Next.js will automatically implement `OPTIONS` and  set the appropriate Response `Allow` header depending on the other methods defined in the route handler.</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">OPTIONS</span><span style="color:#24292E;">(</span><span style="color:#E36209;">request</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Request</span><span style="color:#24292E;">) {}</span></span></code></pre></div><h3 id="è¯·æ±‚ä¸Šä¸‹æ–‡" tabindex="-1">è¯·æ±‚ä¸Šä¸‹æ–‡ <a class="header-anchor" href="#è¯·æ±‚ä¸Šä¸‹æ–‡" aria-label="Permalink to &quot;è¯·æ±‚ä¸Šä¸‹æ–‡&quot;">â€‹</a></h3><h4 id="è·å–æŸ¥è¯¢å‚æ•°" tabindex="-1">è·å–æŸ¥è¯¢å‚æ•° <a class="header-anchor" href="#è·å–æŸ¥è¯¢å‚æ•°" aria-label="Permalink to &quot;è·å–æŸ¥è¯¢å‚æ•°&quot;">â€‹</a></h4><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { NextRequest, NextResponse } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/server&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">GET</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">request</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">NextRequest</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// URLæ˜¯nodeçš„å…¨å±€æ–¹æ³•ï¼Œå¯ä»¥ç”¨æ¥è§£æURLä¸­çš„æ¯ä¸ªéƒ¨åˆ†</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">searchParams</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">URL</span><span style="color:#E1E4E8;">(request.url)</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// è·å–æŸ¥è¯¢å‚æ•° (é€šè¿‡è¿­ä»£å™¨æ„é€ ä¸€ä¸ªå¯¹è±¡)</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">query</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> Object.</span><span style="color:#B392F0;">fromEntries</span><span style="color:#E1E4E8;">(searchParams.</span><span style="color:#B392F0;">entries</span><span style="color:#E1E4E8;">())</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// è¿”å›å“åº”</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> NextResponse.</span><span style="color:#B392F0;">json</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    msg: </span><span style="color:#9ECBFF;">&quot;ok&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    data:query</span></span>
<span class="line"><span style="color:#E1E4E8;">  });</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { NextRequest, NextResponse } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/server&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">GET</span><span style="color:#24292E;">(</span><span style="color:#E36209;">request</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">NextRequest</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// URLæ˜¯nodeçš„å…¨å±€æ–¹æ³•ï¼Œå¯ä»¥ç”¨æ¥è§£æURLä¸­çš„æ¯ä¸ªéƒ¨åˆ†</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">searchParams</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">URL</span><span style="color:#24292E;">(request.url)</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// è·å–æŸ¥è¯¢å‚æ•° (é€šè¿‡è¿­ä»£å™¨æ„é€ ä¸€ä¸ªå¯¹è±¡)</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">query</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Object.</span><span style="color:#6F42C1;">fromEntries</span><span style="color:#24292E;">(searchParams.</span><span style="color:#6F42C1;">entries</span><span style="color:#24292E;">())</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// è¿”å›å“åº”</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> NextResponse.</span><span style="color:#6F42C1;">json</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    msg: </span><span style="color:#032F62;">&quot;ok&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    data:query</span></span>
<span class="line"><span style="color:#24292E;">  });</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="è·å–è¯·æ±‚ä½“æ•°æ®" tabindex="-1">è·å–è¯·æ±‚ä½“æ•°æ® <a class="header-anchor" href="#è·å–è¯·æ±‚ä½“æ•°æ®" aria-label="Permalink to &quot;è·å–è¯·æ±‚ä½“æ•°æ®&quot;">â€‹</a></h4><h5 id="å®šä¹‰" tabindex="-1">å®šä¹‰ <a class="header-anchor" href="#å®šä¹‰" aria-label="Permalink to &quot;å®šä¹‰&quot;">â€‹</a></h5><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// /api/posts/routes.ts</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { NextResponse } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/server&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CreatePostBody</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">title</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">body</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">POST</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">request</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Request</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">data</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">CreatePostBody</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> request.</span><span style="color:#B392F0;">json</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  request.json </span><span style="color:#6A737D;">// è§£æjsonæ•°æ®</span></span>
<span class="line"><span style="color:#E1E4E8;">  request.formData </span><span style="color:#6A737D;">// è§£æformDataæ•°æ®</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(data);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> NextResponse.</span><span style="color:#B392F0;">json</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    msg: </span><span style="color:#9ECBFF;">&quot;ok&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    data,</span></span>
<span class="line"><span style="color:#E1E4E8;">  });</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// /api/posts/routes.ts</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { NextResponse } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/server&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">type</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CreatePostBody</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">title</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">body</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">POST</span><span style="color:#24292E;">(</span><span style="color:#E36209;">request</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Request</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">data</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CreatePostBody</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> request.</span><span style="color:#6F42C1;">json</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  request.json </span><span style="color:#6A737D;">// è§£æjsonæ•°æ®</span></span>
<span class="line"><span style="color:#24292E;">  request.formData </span><span style="color:#6A737D;">// è§£æformDataæ•°æ®</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(data);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> NextResponse.</span><span style="color:#6F42C1;">json</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    msg: </span><span style="color:#032F62;">&quot;ok&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    data,</span></span>
<span class="line"><span style="color:#24292E;">  });</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h5 id="ä½¿ç”¨" tabindex="-1">ä½¿ç”¨ <a class="header-anchor" href="#ä½¿ç”¨" aria-label="Permalink to &quot;ä½¿ç”¨&quot;">â€‹</a></h5><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#9ECBFF;">&quot;use client&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { useRouter } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/navigation&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { FormEvent, useState } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;react&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">PostCreate</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">router</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useRouter</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> [</span><span style="color:#79B8FF;">data</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">setData</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useState</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    title: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    body: </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  });</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">handleUpdateTitle</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">e</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">FormEvent</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">setData</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">pre</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> ({ </span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;">pre, title: (e.target </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">HTMLInputElement</span><span style="color:#E1E4E8;">).value }));</span></span>
<span class="line"><span style="color:#E1E4E8;">  };</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">handleUpdateBody</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">e</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">FormEvent</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">setData</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">pre</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> ({ </span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;">pre, body: (e.target </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">HTMLInputElement</span><span style="color:#E1E4E8;">).value }));</span></span>
<span class="line"><span style="color:#E1E4E8;">  };</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">handleSubmit</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">e</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">FormEvent</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    e.</span><span style="color:#B392F0;">preventDefault</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">fetch</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;/api/posts&quot;</span><span style="color:#E1E4E8;">, {</span></span>
<span class="line"><span style="color:#E1E4E8;">      method: </span><span style="color:#9ECBFF;">&quot;POST&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      body: </span><span style="color:#79B8FF;">JSON</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">stringify</span><span style="color:#E1E4E8;">(data),</span></span>
<span class="line"><span style="color:#E1E4E8;">    }).</span><span style="color:#B392F0;">then</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">alert</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;å‘å¸–æˆåŠŸ!&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">      router.</span><span style="color:#B392F0;">push</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;/&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    });</span></span>
<span class="line"><span style="color:#E1E4E8;">  };</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">h1</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">className</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;text-xl font-semibold&quot;</span><span style="color:#E1E4E8;">&gt;Create A Post&lt;/</span><span style="color:#85E89D;">h1</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">form</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onSubmit</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{handleSubmit}&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">className</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;flex flex-col&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          &lt;</span><span style="color:#85E89D;">label</span><span style="color:#E1E4E8;">&gt;Article Title&lt;/</span><span style="color:#85E89D;">label</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          &lt;</span><span style="color:#85E89D;">input</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">value</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{data.title}</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">onInput</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{handleUpdateTitle}</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">className</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;border border-sky-300&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">input</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">className</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;flex flex-col&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          &lt;</span><span style="color:#85E89D;">label</span><span style="color:#E1E4E8;">&gt;Article Body&lt;/</span><span style="color:#85E89D;">label</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          &lt;</span><span style="color:#85E89D;">textarea</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">value</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{data.body}</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">onInput</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{handleUpdateBody}</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#B392F0;">className</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;border border-sky-300&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">textarea</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">className</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;mt-4 flex justify-end&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          &lt;</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">className</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&quot;rounded px-2 py-1 bg-sky-400 text-white&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">            Submit</span></span>
<span class="line"><span style="color:#E1E4E8;">          &lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#85E89D;">form</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#032F62;">&quot;use client&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { useRouter } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/navigation&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { FormEvent, useState } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;react&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PostCreate</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">router</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useRouter</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> [</span><span style="color:#005CC5;">data</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">setData</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useState</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    title: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    body: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  });</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">handleUpdateTitle</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">e</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">FormEvent</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">setData</span><span style="color:#24292E;">((</span><span style="color:#E36209;">pre</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> ({ </span><span style="color:#D73A49;">...</span><span style="color:#24292E;">pre, title: (e.target </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">HTMLInputElement</span><span style="color:#24292E;">).value }));</span></span>
<span class="line"><span style="color:#24292E;">  };</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">handleUpdateBody</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">e</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">FormEvent</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">setData</span><span style="color:#24292E;">((</span><span style="color:#E36209;">pre</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> ({ </span><span style="color:#D73A49;">...</span><span style="color:#24292E;">pre, body: (e.target </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">HTMLInputElement</span><span style="color:#24292E;">).value }));</span></span>
<span class="line"><span style="color:#24292E;">  };</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">handleSubmit</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">e</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">FormEvent</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    e.</span><span style="color:#6F42C1;">preventDefault</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">fetch</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;/api/posts&quot;</span><span style="color:#24292E;">, {</span></span>
<span class="line"><span style="color:#24292E;">      method: </span><span style="color:#032F62;">&quot;POST&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      body: </span><span style="color:#005CC5;">JSON</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">stringify</span><span style="color:#24292E;">(data),</span></span>
<span class="line"><span style="color:#24292E;">    }).</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">alert</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;å‘å¸–æˆåŠŸ!&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">      router.</span><span style="color:#6F42C1;">push</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;/&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    });</span></span>
<span class="line"><span style="color:#24292E;">  };</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">h1</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;text-xl font-semibold&quot;</span><span style="color:#24292E;">&gt;Create A Post&lt;/</span><span style="color:#22863A;">h1</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">form</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onSubmit</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{handleSubmit}&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;flex flex-col&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;</span><span style="color:#22863A;">label</span><span style="color:#24292E;">&gt;Article Title&lt;/</span><span style="color:#22863A;">label</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;</span><span style="color:#22863A;">input</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">value</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{data.title}</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">onInput</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{handleUpdateTitle}</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;border border-sky-300&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">input</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;flex flex-col&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;</span><span style="color:#22863A;">label</span><span style="color:#24292E;">&gt;Article Body&lt;/</span><span style="color:#22863A;">label</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;</span><span style="color:#22863A;">textarea</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">value</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{data.body}</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">onInput</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{handleUpdateBody}</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;border border-sky-300&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">textarea</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;mt-4 flex justify-end&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;</span><span style="color:#22863A;">button</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;rounded px-2 py-1 bg-sky-400 text-white&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">            Submit</span></span>
<span class="line"><span style="color:#24292E;">          &lt;/</span><span style="color:#22863A;">button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#22863A;">form</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="è·¯å¾„å‚æ•°" tabindex="-1">è·¯å¾„å‚æ•° <a class="header-anchor" href="#è·¯å¾„å‚æ•°" aria-label="Permalink to &quot;è·¯å¾„å‚æ•°&quot;">â€‹</a></h3><p>â€‹ å‚æ•°è·¯å¾„çš„æ¥å£å¯ä»¥è¿™æ ·åˆ›å»ºã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// /app/api/posts/[pid]/route.ts</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { NextResponse } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/server&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// /api/posts/:pid</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">GET</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">_</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Request</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FFAB70;">context</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> { </span><span style="color:#FFAB70;">params</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Record</span><span style="color:#E1E4E8;">&lt;</span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">string</span><span style="color:#E1E4E8;">&gt; }</span></span>
<span class="line"><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> NextResponse.</span><span style="color:#B392F0;">json</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">    {</span></span>
<span class="line"><span style="color:#E1E4E8;">      msg: </span><span style="color:#9ECBFF;">&quot;ok&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      data: context.params,</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    {</span></span>
<span class="line"><span style="color:#E1E4E8;">      status: </span><span style="color:#79B8FF;">200</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      statusText: </span><span style="color:#9ECBFF;">&quot;ok&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// /app/api/posts/[pid]/route.ts</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { NextResponse } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/server&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// /api/posts/:pid</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">GET</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">_</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Request</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#E36209;">context</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> { </span><span style="color:#E36209;">params</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Record</span><span style="color:#24292E;">&lt;</span><span style="color:#005CC5;">string</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">string</span><span style="color:#24292E;">&gt; }</span></span>
<span class="line"><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> NextResponse.</span><span style="color:#6F42C1;">json</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">      msg: </span><span style="color:#032F62;">&quot;ok&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      data: context.params,</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">      status: </span><span style="color:#005CC5;">200</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      statusText: </span><span style="color:#032F62;">&quot;ok&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="å“åº”response" tabindex="-1">å“åº”Response <a class="header-anchor" href="#å“åº”response" aria-label="Permalink to &quot;å“åº”Response&quot;">â€‹</a></h3><p>â€‹ å¯ä»¥ä½¿ç”¨æ ‡å‡† Web API æ–¹æ³•åœ¨ Response ä¸Šè®¾ç½® CORS æ ‡å¤´ï¼ŒResponseå¯ä»¥é…ç½®å“åº”å¤´éƒ¨ã€‚</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">dynamic</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;force-dynamic&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">// defaults to force-static</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">GET</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">request</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Request</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Response</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Hello, Next.js!&#39;</span><span style="color:#E1E4E8;">, {</span></span>
<span class="line"><span style="color:#E1E4E8;">    status: </span><span style="color:#79B8FF;">200</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    headers: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&#39;Access-Control-Allow-Origin&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;*&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&#39;Access-Control-Allow-Methods&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;GET, POST, PUT, DELETE, OPTIONS&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&#39;Access-Control-Allow-Headers&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;Content-Type, Authorization&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">  })</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">dynamic</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;force-dynamic&#39;</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">// defaults to force-static</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">GET</span><span style="color:#24292E;">(</span><span style="color:#E36209;">request</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Request</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Response</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Hello, Next.js!&#39;</span><span style="color:#24292E;">, {</span></span>
<span class="line"><span style="color:#24292E;">    status: </span><span style="color:#005CC5;">200</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    headers: {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&#39;Access-Control-Allow-Origin&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;*&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&#39;Access-Control-Allow-Methods&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;GET, POST, PUT, DELETE, OPTIONS&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&#39;Access-Control-Allow-Headers&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;Content-Type, Authorization&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">  })</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_11-ä¸­é—´ä»¶" tabindex="-1">11.ä¸­é—´ä»¶ <a class="header-anchor" href="#_11-ä¸­é—´ä»¶" aria-label="Permalink to &quot;11.ä¸­é—´ä»¶&quot;">â€‹</a></h2><p>â€‹ ä¸­é—´ä»¶å°±æ˜¯åœ¨è¯·æ±‚å’Œå“åº”è¿‡ç¨‹ä¸­æ‰§è¡Œçš„æ“ä½œï¼Œåœ¨Next.jsä¸­ï¼Œä¸­é—´ä»¶çš„åœ°ä½å¥½åƒæœ‰ç‚¹å°´å°¬ï¼Œæ˜æ˜åœ¨æœåŠ¡ç«¯è¿è¡Œçš„ä½†åˆä¸èƒ½å®Œæ•´ä½¿ç”¨Node.jsçš„APIï¼Œåªèƒ½æ‰§è¡Œæµè§ˆå™¨ç›¸å…³çš„APIã€‚</p><h3 id="å…¨å±€ä¸­é—´ä»¶" tabindex="-1">å…¨å±€ä¸­é—´ä»¶ <a class="header-anchor" href="#å…¨å±€ä¸­é—´ä»¶" aria-label="Permalink to &quot;å…¨å±€ä¸­é—´ä»¶&quot;">â€‹</a></h3><p>â€‹ åœ¨<code>æ ¹ç›®å½•</code>æˆ–<code>src</code>ä¸‹åˆ›å»ºmiddleware.tsæ–‡ä»¶æ—¢å¯ä½œä¸ºå…¨å±€ä¸­é—´ä»¶ã€‚</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { NextResponse } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/server&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">middleware</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">request</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Request</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">URL</span><span style="color:#E1E4E8;">(request.url).pathname);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// æ”¾è¡Œè¯·æ±‚</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> NextResponse.</span><span style="color:#B392F0;">next</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { NextResponse } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/server&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">middleware</span><span style="color:#24292E;">(</span><span style="color:#E36209;">request</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Request</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">URL</span><span style="color:#24292E;">(request.url).pathname);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// æ”¾è¡Œè¯·æ±‚</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> NextResponse.</span><span style="color:#6F42C1;">next</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="åŒ¹é…ä¸­é—´ä»¶" tabindex="-1">åŒ¹é…ä¸­é—´ä»¶ <a class="header-anchor" href="#åŒ¹é…ä¸­é—´ä»¶" aria-label="Permalink to &quot;åŒ¹é…ä¸­é—´ä»¶&quot;">â€‹</a></h3><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { MiddlewareConfig } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/dist/build/analysis/get-page-static-info&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { NextResponse } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/server&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">middleware</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">request</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Request</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">URL</span><span style="color:#E1E4E8;">(request.url).pathname);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// æ”¾è¡Œè¯·æ±‚</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> NextResponse.</span><span style="color:#B392F0;">next</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">config</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// åªæœ‰è·¯å¾„ä¸º/apiçš„æ‰ä¼šæ‰§è¡Œä¸­é—´ä»¶</span></span>
<span class="line"><span style="color:#E1E4E8;">  matcher: </span><span style="color:#9ECBFF;">&quot;/api/:path*&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { MiddlewareConfig } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/dist/build/analysis/get-page-static-info&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { NextResponse } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/server&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">middleware</span><span style="color:#24292E;">(</span><span style="color:#E36209;">request</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Request</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">URL</span><span style="color:#24292E;">(request.url).pathname);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// æ”¾è¡Œè¯·æ±‚</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> NextResponse.</span><span style="color:#6F42C1;">next</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">config</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// åªæœ‰è·¯å¾„ä¸º/apiçš„æ‰ä¼šæ‰§è¡Œä¸­é—´ä»¶</span></span>
<span class="line"><span style="color:#24292E;">  matcher: </span><span style="color:#032F62;">&quot;/api/:path*&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre></div><h3 id="åœ¨ä¸­é—´ä»¶ä¸­æ‰§è¡Œé‡å®šå‘" tabindex="-1">åœ¨ä¸­é—´ä»¶ä¸­æ‰§è¡Œé‡å®šå‘ <a class="header-anchor" href="#åœ¨ä¸­é—´ä»¶ä¸­æ‰§è¡Œé‡å®šå‘" aria-label="Permalink to &quot;åœ¨ä¸­é—´ä»¶ä¸­æ‰§è¡Œé‡å®šå‘&quot;">â€‹</a></h3><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { NextResponse } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;next/server&#39;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> { NextRequest } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;next/server&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#6A737D;">// This function can be marked `async` if using `await` inside</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">middleware</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">request</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">NextRequest</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> NextResponse.</span><span style="color:#B392F0;">redirect</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">URL</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;/home&#39;</span><span style="color:#E1E4E8;">, request.url))</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#6A737D;">// See &quot;Matching Paths&quot; below to learn more</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">config</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  matcher: </span><span style="color:#9ECBFF;">&#39;/about/:path*&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { NextResponse } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;next/server&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">type</span><span style="color:#24292E;"> { NextRequest } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;next/server&#39;</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#6A737D;">// This function can be marked `async` if using `await` inside</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">middleware</span><span style="color:#24292E;">(</span><span style="color:#E36209;">request</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">NextRequest</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> NextResponse.</span><span style="color:#6F42C1;">redirect</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">URL</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;/home&#39;</span><span style="color:#24292E;">, request.url))</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#6A737D;">// See &quot;Matching Paths&quot; below to learn more</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">config</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  matcher: </span><span style="color:#032F62;">&#39;/about/:path*&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="limiter" tabindex="-1">limiter <a class="header-anchor" href="#limiter" aria-label="Permalink to &quot;limiter&quot;">â€‹</a></h3><p><code>limiter</code>æ˜¯ä¸€ä¸ªç”¨äºé™åˆ¶è¯·æ±‚é¢‘ç‡çš„Node.jsåº“ã€‚å®ƒå¯ä»¥ç”¨äºé™åˆ¶æŸäº›æ“ä½œçš„é¢‘ç‡ï¼Œæ¯”å¦‚APIè¯·æ±‚ã€ç™»å½•å°è¯•ã€å¯†ç é‡ç½®è¯·æ±‚ç­‰ï¼Œä»¥é˜²æ­¢æ¶æ„è¡Œä¸ºæˆ–æ„å¤–çš„è¿‡åº¦ä½¿ç”¨ã€‚</p><p>é€šè¿‡<code>limiter</code>åº“ï¼Œä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªé€Ÿç‡é™åˆ¶å™¨ï¼ŒæŒ‡å®šå…è®¸çš„è¯·æ±‚é€Ÿç‡ï¼ˆæ¯”å¦‚æ¯ç§’å¤šå°‘æ¬¡è¯·æ±‚ï¼‰ï¼Œç„¶ååœ¨ä½ çš„åº”ç”¨ä¸­ä½¿ç”¨è¿™ä¸ªé™åˆ¶å™¨æ¥æ§åˆ¶è¯·æ±‚çš„é¢‘ç‡ã€‚å¦‚æœè¯·æ±‚è¶…å‡ºäº†é™åˆ¶ï¼Œ<code>limiter</code>åº“å¯ä»¥å¸®åŠ©ä½ æ‹’ç»è¯·æ±‚æˆ–è€…é‡‡å–å…¶ä»–è‡ªå®šä¹‰çš„è¡Œä¸ºã€‚</p><p>è¿™ä¸ªåº“å¯¹äºæ„å»ºéœ€è¦é¢‘ç‡é™åˆ¶çš„åº”ç”¨ç¨‹åºéå¸¸æœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦ä¿æŠ¤APIç«¯ç‚¹æˆ–è€…æ§åˆ¶ç”¨æˆ·è¡Œä¸ºçš„åœºæ™¯ä¸‹ã€‚</p><h4 id="åˆ›å»ºå•å®ä¾‹çš„limiter" tabindex="-1">åˆ›å»ºå•å®ä¾‹çš„limiter <a class="header-anchor" href="#åˆ›å»ºå•å®ä¾‹çš„limiter" aria-label="Permalink to &quot;åˆ›å»ºå•å®ä¾‹çš„limiter&quot;">â€‹</a></h4><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { RateLimiter } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;limiter&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">limiter</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">RateLimiter</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// å¯ä»¥å‘é€150æ¬¡è¯·æ±‚</span></span>
<span class="line"><span style="color:#E1E4E8;">  tokensPerInterval: </span><span style="color:#79B8FF;">150</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ä¸€å°æ—¶</span></span>
<span class="line"><span style="color:#E1E4E8;">  interval: </span><span style="color:#9ECBFF;">&quot;hour&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { RateLimiter } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;limiter&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">limiter</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">RateLimiter</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// å¯ä»¥å‘é€150æ¬¡è¯·æ±‚</span></span>
<span class="line"><span style="color:#24292E;">  tokensPerInterval: </span><span style="color:#005CC5;">150</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ä¸€å°æ—¶</span></span>
<span class="line"><span style="color:#24292E;">  interval: </span><span style="color:#032F62;">&quot;hour&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { NextResponse } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;next/server&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { limiter } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@/config/limiter&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">middleware</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">request</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Request</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">remaining</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=await</span><span style="color:#E1E4E8;"> limiter.</span><span style="color:#B392F0;">removeTokens</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (remaining </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// æ²¡æœ‰è¯·æ±‚æ¬¡æ•°äº†!</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;remaining:&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> remaining);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> NextResponse.</span><span style="color:#B392F0;">next</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">config</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// åªæœ‰è·¯å¾„ä¸º/apiçš„æ‰ä¼šæ‰§è¡Œä¸­é—´ä»¶</span></span>
<span class="line"><span style="color:#E1E4E8;">  matcher: </span><span style="color:#9ECBFF;">&quot;/api/:path*&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { NextResponse } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;next/server&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { limiter } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@/config/limiter&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">middleware</span><span style="color:#24292E;">(</span><span style="color:#E36209;">request</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Request</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">remaining</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=await</span><span style="color:#24292E;"> limiter.</span><span style="color:#6F42C1;">removeTokens</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (remaining </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// æ²¡æœ‰è¯·æ±‚æ¬¡æ•°äº†!</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;remaining:&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> remaining);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> NextResponse.</span><span style="color:#6F42C1;">next</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">config</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// åªæœ‰è·¯å¾„ä¸º/apiçš„æ‰ä¼šæ‰§è¡Œä¸­é—´ä»¶</span></span>
<span class="line"><span style="color:#24292E;">  matcher: </span><span style="color:#032F62;">&quot;/api/:path*&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre></div><h2 id="_12-next-jså‡½æ•°" tabindex="-1">12.Next.jså‡½æ•° <a class="header-anchor" href="#_12-next-jså‡½æ•°" aria-label="Permalink to &quot;12.Next.jså‡½æ•°&quot;">â€‹</a></h2><h3 id="_1-cookies" tabindex="-1">1.cookies <a class="header-anchor" href="#_1-cookies" aria-label="Permalink to &quot;1.cookies&quot;">â€‹</a></h3><p>â€‹ åœ¨App Routerä¸­ï¼ŒæœåŠ¡ç«¯ç»„ä»¶å¯ä»¥è°ƒç”¨cookieså‡½æ•°æ¥è·å–æœ¬æ¬¡è¯·æ±‚å®¢æˆ·ç«¯æºå¸¦çš„cookieã€‚è¿™å¯¹äºé‰´æƒé¡µé¢æˆ–éœ€è¦é€šè¿‡èº«ä»½è¿”å›ä¸åŒçš„æ•°æ®æ¥è¯´éå¸¸é‡è¦ã€‚</p><p>â€‹ ä½¿ç”¨cookieså°±å¯ä»¥åœ¨æœåŠ¡ç«¯ç»„ä»¶ä¸­æ“ä½œå®¢æˆ·ç«¯çš„cookieï¼Œå¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥è¯¢éƒ½æ˜¯å¯ä»¥ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { cookies } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;next/headers&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Page</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">cookieStore</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">cookies</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">sessionId</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> cookieStore.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;sessionId&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(sessionId){</span></span>
<span class="line"><span style="color:#E1E4E8;">	  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;ä½ å¥½ï¼Œç”¨æˆ·ã€‚&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span><span style="color:#F97583;">else</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;è¯·å…ˆç™»å½•&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { cookies } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;next/headers&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Page</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">cookieStore</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">cookies</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">sessionId</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> cookieStore.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;sessionId&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(sessionId){</span></span>
<span class="line"><span style="color:#24292E;">	  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;ä½ å¥½ï¼Œç”¨æˆ·ã€‚&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  }</span><span style="color:#D73A49;">else</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;è¯·å…ˆç™»å½•&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="_2-headers" tabindex="-1">2.headers <a class="header-anchor" href="#_2-headers" aria-label="Permalink to &quot;2.headers&quot;">â€‹</a></h3><p>â€‹ åœ¨æœåŠ¡ç«¯ç»„ä»¶ä¸­ï¼Œä½ å¯ä»¥åœ¨ç»„ä»¶ä¸­è·å–è¯·æ±‚å¤´éƒ¨ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { headers } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;next/headers&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Page</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">headersList</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">headers</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">referer</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> headersList.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;referer&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;Referer: {referer}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { headers } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;next/headers&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Page</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">headersList</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">headers</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">referer</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> headersList.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;referer&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;Referer: {referer}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="_3-notfound" tabindex="-1">3.notFound <a class="header-anchor" href="#_3-notfound" aria-label="Permalink to &quot;3.notFound&quot;">â€‹</a></h3><p>â€‹ åœ¨æœåŠ¡ç«¯ç»„ä»¶ä¸­ï¼Œä½ å¯ä»¥åœ¨ç”¨æˆ·è¯·æ±‚ä¸å­˜åœ¨çš„èµ„æºæ—¶é‡å®šå‘åˆ°notFoundç»„ä»¶ä¸­ã€‚Nextä¼šé€šè¿‡æ–‡ä»¶ç»“æ„æŸ¥æ‰¾æœ€è¿‘çš„not-foundç»„ä»¶å¹¶æ¸²æŸ“ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { notFound } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;next/navigation&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fetchUser</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">id</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">res</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fetch</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;https://...&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">res.ok) </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">undefined</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> res.</span><span style="color:#B392F0;">json</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Profile</span><span style="color:#E1E4E8;">({ </span><span style="color:#FFAB70;">params</span><span style="color:#E1E4E8;"> }) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">user</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fetchUser</span><span style="color:#E1E4E8;">(params.id)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">user) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">notFound</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { notFound } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;next/navigation&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fetchUser</span><span style="color:#24292E;">(</span><span style="color:#E36209;">id</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">res</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fetch</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;https://...&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">res.ok) </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">undefined</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> res.</span><span style="color:#6F42C1;">json</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Profile</span><span style="color:#24292E;">({ </span><span style="color:#E36209;">params</span><span style="color:#24292E;"> }) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">user</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fetchUser</span><span style="color:#24292E;">(params.id)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">user) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">notFound</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="_4-redirect" tabindex="-1">4.redirect <a class="header-anchor" href="#_4-redirect" aria-label="Permalink to &quot;4.redirect&quot;">â€‹</a></h3><p><code>redirect</code> å‡½æ•°å…è®¸ä½ å°†ç”¨æˆ·é‡å®šå‘åˆ°å¦ä¸€ä¸ª URLã€‚ <code>redirect</code> å¯ç”¨äºæœåŠ¡å™¨ç»„ä»¶ã€å®¢æˆ·ç«¯ç»„ä»¶ã€<a href="https://next.nodejs.cn/docs/app/building-your-application/routing/route-handlers" target="_blank" rel="noreferrer">è·¯ç”±å¤„ç†ç¨‹åº</a> å’Œ <a href="https://next.nodejs.cn/docs/app/building-your-application/data-fetching/forms-and-mutations" target="_blank" rel="noreferrer">æœåŠ¡å™¨æ“ä½œ</a>ã€‚åœ¨å®¢æˆ·ç«¯ç»„ä»¶ä¸­ä½¿ç”¨è¿˜æ˜¯æ¨èuseRouteré’©å­ã€‚</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { redirect } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;next/navigation&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fetchTeam</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">id</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">res</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fetch</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;https://...&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">res.ok) </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">undefined</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> res.</span><span style="color:#B392F0;">json</span><span style="color:#E1E4E8;">()</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Profile</span><span style="color:#E1E4E8;">({ </span><span style="color:#FFAB70;">params</span><span style="color:#E1E4E8;"> }) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">team</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fetchTeam</span><span style="color:#E1E4E8;">(params.id)</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">team) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">redirect</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;/login&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { redirect } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;next/navigation&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fetchTeam</span><span style="color:#24292E;">(</span><span style="color:#E36209;">id</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">res</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fetch</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;https://...&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">res.ok) </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">undefined</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> res.</span><span style="color:#6F42C1;">json</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Profile</span><span style="color:#24292E;">({ </span><span style="color:#E36209;">params</span><span style="color:#24292E;"> }) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">team</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fetchTeam</span><span style="color:#24292E;">(params.id)</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">team) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">redirect</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;/login&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_13-next-jsé’©å­" tabindex="-1">13.Next.jsé’©å­ <a class="header-anchor" href="#_13-next-jsé’©å­" aria-label="Permalink to &quot;13.Next.jsé’©å­&quot;">â€‹</a></h2><h3 id="_1-userouter" tabindex="-1">1.useRouter <a class="header-anchor" href="#_1-userouter" aria-label="Permalink to &quot;1.useRouter&quot;">â€‹</a></h3><p>â€‹ å¯ä»¥è¿›è¡Œå¯¼èˆªã€<strong>åˆ·æ–°</strong>ã€æ›¿æ¢å†å²è®°å½•å¯¼èˆªç­‰åŠŸèƒ½ã€‚</p></div></div></main><footer class="VPDocFooter" data-v-05ecd897 data-v-905f25ab><!--[--><!--[--><!--[--><!--[--><!----><!--]--><!--]--><!--]--><!--]--><div class="edit-info" data-v-905f25ab><!----><div class="last-updated" data-v-905f25ab><p class="VPLastUpdated" data-v-905f25ab data-v-c5641641>æœ€è¿‘æ›´æ–°æ—¶é—´: <time datetime="2024-01-07T03:13:57.000Z" data-v-c5641641></time></p></div></div><nav class="prev-next" data-v-905f25ab><div class="pager" data-v-905f25ab><a class="pager-link prev" href="/note-blog/study/Nest.html" data-v-905f25ab><span class="desc" data-v-905f25ab>ä¸Šä¸€ç¯‡</span><span class="title" data-v-905f25ab>Nest</span></a></div><div class="pager" data-v-905f25ab><a class="pager-link next" href="/note-blog/study/Node.html" data-v-905f25ab><span class="desc" data-v-905f25ab>ä¸‹ä¸€ç¯‡</span><span class="title" data-v-905f25ab>Node</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"interview_css.md\":\"13046855\",\"interview_css_selector.md\":\"8f6e8fd0\",\"interview_html_src-href.md\":\"65659030\",\"interview_css_containing-block.md\":\"e826a983\",\"interview_js.md\":\"435d7d0e\",\"interview_css_margin-padding.md\":\"d24962f6\",\"interview_js_module.md\":\"56deaa71\",\"interview_html_html5.md\":\"9c0420fb\",\"index.md\":\"530fe7e1\",\"interview_js_cookie-session-token.md\":\"576df30c\",\"guide.md\":\"90170c6a\",\"interview.md\":\"480a6f43\",\"interview_html_doctype.md\":\"553bfbe1\",\"interview_html_async-load.md\":\"88940163\",\"interview_js_event-loop.md\":\"edc3c394\",\"interview_js_language.md\":\"eec0b814\",\"interview_other.md\":\"8afdd005\",\"interview_js_requestanimation.md\":\"d4986650\",\"interview_html.md\":\"caca1d12\",\"interview_js_call-apply-bind.md\":\"6005b5d3\",\"interview_js_prototype.md\":\"49f7321a\",\"question_js_10.md\":\"f28f60bc\",\"question_css_01.md\":\"e49d4d9e\",\"question.md\":\"ebcad598\",\"interview_css_z-index.md\":\"0ba27ef7\",\"interview_js_design-patterns.md\":\"23173411\",\"interview_js_async-sync.md\":\"60654c0e\",\"question_js_12.md\":\"9008c9c2\",\"question_js_03.md\":\"e8006992\",\"question_html_02.md\":\"1bf045ea\",\"question_js_02.md\":\"880e64c7\",\"question_js_11.md\":\"3878ed7f\",\"question_js_06.md\":\"d8a08038\",\"interview_ts.md\":\"9468f2f1\",\"interview_css_bfc.md\":\"89fa4e4d\",\"question_js_07.md\":\"e1a1cd11\",\"interview_js_type-conversion.md\":\"79aff1e5\",\"question_node_09.md\":\"c83859a2\",\"interview_js_class.md\":\"450e9ad3\",\"interview_js_cors.md\":\"e2f13e48\",\"question_node_06.md\":\"fc7c3455\",\"question_html_01.md\":\"14d0058e\",\"interview_js_typeof-instanceof.md\":\"64a00930\",\"question_node_03.md\":\"93b8cd53\",\"question_node_04.md\":\"ad7d460c\",\"question_node_08.md\":\"8591713f\",\"interview_js_copy.md\":\"c49fab46\",\"question_css_02.md\":\"37893315\",\"question_node_07.md\":\"d562a4a3\",\"question_js_05.md\":\"a26a9572\",\"interview_js_web-worker.md\":\"4704d522\",\"question_node_02.md\":\"7a155841\",\"question_ts_04.md\":\"a845184f\",\"question_vue_09.md\":\"6c7e97aa\",\"question_node_05.md\":\"5d090d74\",\"study.md\":\"580b47b0\",\"question_vite_01.md\":\"af1648d3\",\"question_ts_01.md\":\"2a96686f\",\"question_js_08.md\":\"784193b0\",\"question_other_01.md\":\"ef47de5e\",\"question_js_04.md\":\"c040d730\",\"question_vue_08.md\":\"a977f223\",\"question_js_09.md\":\"f07e9d12\",\"interview_js_element-views.md\":\"8e44cc69\",\"question_js_01.md\":\"5d44a274\",\"question_vite_03.md\":\"cc1fac95\",\"question_other_02.md\":\"0503bc82\",\"question_vue_02.md\":\"2cfefe19\",\"interview_js_var.md\":\"4dba008d\",\"question_other_04.md\":\"b20918fe\",\"question_vue_13.md\":\"c6a24618\",\"interview_js_web-storage.md\":\"a899cc67\",\"question_node_01.md\":\"e38cb5ed\",\"question_ts_03.md\":\"a74d0b71\",\"question_vue_03.md\":\"0a575346\",\"question_vue_07.md\":\"143d40b7\",\"question_vue_06.md\":\"9134da81\",\"question_other_03.md\":\"0d9f884d\",\"question_vue_11.md\":\"191cc9f2\",\"question_vue_05.md\":\"ed0f449b\",\"question_vue_15.md\":\"3dfed57b\",\"question_vite_02.md\":\"45e4b3ac\",\"question_vue_14.md\":\"7ba89fb8\",\"question_ts_02.md\":\"7c883f01\",\"question_vue_10.md\":\"6f967ae1\",\"question_vue_12.md\":\"b5d27b0d\",\"question_vue_01.md\":\"6852ed91\",\"question_vite_04.md\":\"ee528d90\",\"study_nuxt.md\":\"63aac670\",\"question_vue_04.md\":\"f9401872\",\"interview_js_test.md\":\"db0b7b60\",\"study_node.md\":\"4fadfdf0\",\"study_vitepress.md\":\"c1401f7a\",\"study_next.md\":\"8eaf387f\",\"question_node_10.md\":\"56effab6\",\"study_nest.md\":\"a6f11113\",\"study_react.md\":\"7835338e\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Kinghtçš„å°å±‹\",\"description\":\"A VitePress site\",\"base\":\"/note-blog/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"lastUpdated\":{},\"search\":{\"provider\":\"local\"},\"lastUpdatedText\":\"æœ€è¿‘æ›´æ–°æ—¶é—´\",\"docFooter\":{\"prev\":\"ä¸Šä¸€ç¯‡\",\"next\":\"ä¸‹ä¸€ç¯‡\"},\"outline\":\"deep\",\"nav\":[{\"text\":\"å¼€å§‹\",\"link\":\"/guide\"},{\"text\":\"å­¦ä¹ \",\"link\":\"/study\"},{\"text\":\"å…«è‚¡\",\"items\":[{\"text\":\"HTML\",\"link\":\"/interview/html\"},{\"text\":\"CSS\",\"link\":\"/interview/css\"},{\"text\":\"JS\",\"link\":\"/interview/js\"},{\"text\":\"TS\",\"link\":\"/interview/ts\"},{\"text\":\"å…¶ä»–\",\"link\":\"/interview/other\"}]},{\"text\":\"è¸©è¿‡çš„å‘\",\"link\":\"/question\"}],\"sidebar\":{\"/study\":[{\"text\":\"Nest\",\"link\":\"/study/Nest\"},{\"text\":\"Next\",\"link\":\"/study/Next\"},{\"text\":\"Node\",\"link\":\"/study/Node\"},{\"text\":\"Nuxt\",\"link\":\"/study/Nuxt\"},{\"text\":\"React\",\"link\":\"/study/React\"},{\"text\":\"Vitepress\",\"link\":\"/study/Vitepress\"}],\"/interview/js\":[{\"text\":\"åŒæ­¥å’Œå¼‚æ­¥\",\"link\":\"/interview/js/async-sync\"},{\"text\":\"callä¸applyä¸bind\",\"link\":\"/interview/js/call-apply-bind\"},{\"text\":\"Class\",\"link\":\"/interview/js/class\"},{\"text\":\"cookieä¸sessionä¸token\",\"link\":\"/interview/js/cookie-session-token\"},{\"text\":\"æ·±æµ…æ‹·è´\",\"link\":\"/interview/js/copy\"},{\"text\":\"åŒæºç­–ç•¥\",\"link\":\"/interview/js/cors\"},{\"text\":\"è®¾è®¡æ¨¡å¼\",\"link\":\"/interview/js/design-patterns\"},{\"text\":\"å…ƒç´ åœ¨è§†å£çš„å¯è§æ€§\",\"link\":\"/interview/js/element-views\"},{\"text\":\"äº‹ä»¶å¾ªç¯\",\"link\":\"/interview/js/event-loop\"},{\"text\":\"å¼ºå¼±ç±»å‹è¯­è¨€\",\"link\":\"/interview/js/language\"},{\"text\":\"æ¨¡å—åŒ–\",\"link\":\"/interview/js/module\"},{\"text\":\"åŸå‹\",\"link\":\"/interview/js/prototype\"},{\"text\":\"requestAnimation\",\"link\":\"/interview/js/requestAnimation\"},{\"text\":\"æ‰‹å†™ä¸“åŒº\",\"link\":\"/interview/js/test\"},{\"text\":\"ç±»å‹è½¬æ¢æœºåˆ¶\",\"link\":\"/interview/js/type-conversion\"},{\"text\":\"typeofä¸instanceof\",\"link\":\"/interview/js/typeof-instanceof\"},{\"text\":\"å£°æ˜å˜é‡çš„ä¸‰ç§æ–¹å¼\",\"link\":\"/interview/js/var\"},{\"text\":\"Web Storage\",\"link\":\"/interview/js/web-storage\"},{\"text\":\"Web Worker\",\"link\":\"/interview/js/web-worker\"}],\"/interview/html\":[{\"text\":\"å¼‚æ­¥åŠ è½½è„šæœ¬\",\"link\":\"/interview/html/async-load\"},{\"text\":\"DOCTYPEçš„ä½œç”¨\",\"link\":\"/interview/html/doctype\"},{\"text\":\"HTML5æ–°å¢\",\"link\":\"/interview/html/html5\"},{\"text\":\"srcå’Œhrefçš„åŒºåˆ«\",\"link\":\"/interview/html/src-href\"}],\"/interview/css\":[{\"text\":\"BFC\",\"link\":\"/interview/css/bfc\"},{\"text\":\"åŒ…å«å—\",\"link\":\"/interview/css/containing-block\"},{\"text\":\"magrinçš„å–å€¼\",\"link\":\"/interview/css/margin-padding\"},{\"text\":\"CSSé€‰æ‹©å™¨\",\"link\":\"/interview/css/selector\"},{\"text\":\"å±‚å ä¸Šä¸‹æ–‡\",\"link\":\"/interview/css/z-index\"}],\"/question\":[{\"text\":\"css\",\"items\":[{\"text\":\"å­—ä½“æè¾¹\",\"link\":\"/question/css/01\"},{\"text\":\"éª¨æ¶å±\",\"link\":\"/question/css/02\"}]},{\"text\":\"html\",\"items\":[{\"text\":\"é™åˆ¶æ–‡ä»¶åŸŸä¸Šä¼ çš„ç±»å‹\",\"link\":\"/question/html/01\"},{\"text\":\"imgæ ‡ç­¾æ¸²æŸ“svg\",\"link\":\"/question/html/02\"}]},{\"text\":\"js\",\"items\":[{\"text\":\"ç³»ç»Ÿåª’ä½“æ§åˆ¶\",\"link\":\"/question/js/01\"},{\"text\":\"æµè§ˆå™¨è°ƒç”¨è¾“å…¥è¾“å‡ºæ¥å£\",\"link\":\"/question/js/02\"},{\"text\":\"å­—ç¬¦ä¸unicode\",\"link\":\"/question/js/03\"},{\"text\":\"Web Worker\",\"link\":\"/question/js/04\"},{\"text\":\"é¢„è§ˆæœ¬åœ°å›¾ç‰‡\",\"link\":\"/question/js/05\"},{\"text\":\"å›¾ç‰‡çš„åŸå§‹å°ºå¯¸\",\"link\":\"/question/js/06\"},{\"text\":\"æ‹–æ‹½ä¸Šä¼ \",\"link\":\"/question/js/07\"},{\"text\":\"TouchEventè·å–æ‰‹æŒ‡ç›¸å¯¹å…ƒç´ çš„åç§»é‡\",\"link\":\"/question/js/08\"},{\"text\":\"è®¾è®¡æ¨¡å¼\",\"link\":\"/question/js/09\"},{\"text\":\"å…¨å±\",\"link\":\"/question/js/10\"},{\"text\":\"ç»™DOMç»‘å®šè‡ªå®šä¹‰äº‹ä»¶\",\"link\":\"/question/js/11\"},{\"text\":\"PWA\",\"link\":\"/question/js/12\"}]},{\"text\":\"node\",\"items\":[{\"text\":\"å“åº”ä½“ç±»å‹ä¸€è§ˆ\",\"link\":\"/question/node/01\"},{\"text\":\"ä¸‹è½½æ–‡ä»¶è¿›åº¦\",\"link\":\"/question/node/02\"},{\"text\":\"SSE(æœåŠ¡ç«¯æ¨é€)\",\"link\":\"/question/node/03\"},{\"text\":\"å›¾ç‰‡å¤„ç†\",\"link\":\"/question/node/04\"},{\"text\":\"è§£æurlç¼–ç \",\"link\":\"/question/node/05\"},{\"text\":\"__dirname not defined\",\"link\":\"/question/node/06\"},{\"text\":\"åª’ä½“æµ\",\"link\":\"/question/node/07\"},{\"text\":\"base64è½¬å›¾ç‰‡\",\"link\":\"/question/node/08\"},{\"text\":\"HTTPS ğŸ”’\",\"link\":\"/question/node/09\"},{\"text\":\"å¤§æ–‡ä»¶ä¸Šä¼ \",\"link\":\"/question/node/10\"}]},{\"text\":\"other\",\"items\":[{\"text\":\"æ–‡ä»¶ä¸Šä¼ \",\"link\":\"/question/other/01\"},{\"text\":\"PE/PCç«¯åˆ¤æ–­\",\"link\":\"/question/other/02\"},{\"text\":\"å›¾ç‰‡è£å‰ª\",\"link\":\"/question/other/03\"},{\"text\":\"å°è£…è·¯ç”±å‚æ•°æ ¡éªŒçš„é’©å­\",\"link\":\"/question/other/04\"}]},{\"text\":\"ts\",\"items\":[{\"text\":\"å®šä¹‰windowæ‰©å±•å±æ€§\",\"link\":\"/question/ts/01\"},{\"text\":\"TSç±»å‹å·¥å…·\",\"link\":\"/question/ts/02\"},{\"text\":\"ç¬¬ä¸‰æ–¹åº“ç±»å‹æ”¯æŒ\",\"link\":\"/question/ts/03\"},{\"text\":\"TSç¼–è¯‘JSæ‰“åŒ…\",\"link\":\"/question/ts/04\"}]},{\"text\":\"vite\",\"items\":[{\"text\":\"è·å–é™æ€èµ„æºè·¯å¾„çš„å‡½æ•°\",\"link\":\"/question/vite/01\"},{\"text\":\"ä¸åŒæ¨¡å¼ä¸‹å¯åŠ¨é¡¹ç›®\",\"link\":\"/question/vite/02\"},{\"text\":\"é…ç½®è·¯å¾„åˆ«å\",\"link\":\"/question/vite/03\"},{\"text\":\"é¡¹ç›®è§„èŒƒåŒ–\",\"link\":\"/question/vite/04\"}]},{\"text\":\"vue\",\"items\":[{\"text\":\"å°è£…è½®æ’­å›¾ç»„ä»¶\",\"link\":\"/question/vue/01\"},{\"text\":\"å£°æ˜ç»„ä»¶å®ä¾‹çš„ç±»å‹\",\"link\":\"/question/vue/02\"},{\"text\":\"æ ·å¼ç©¿é€\",\"link\":\"/question/vue/03\"},{\"text\":\"å›½é™…åŒ–i18n\",\"link\":\"/question/vue/04\"},{\"text\":\"å°è£…æ¨¡æ€æ¡†\",\"link\":\"/question/vue/05\"},{\"text\":\"JSX in Vue\",\"link\":\"/question/vue/06\"},{\"text\":\"å°è£…é‰´æƒæ“ä½œç»„ä»¶/æŒ‡ä»¤\",\"link\":\"/question/vue/07\"},{\"text\":\"è·¯ç”±æ¨¡å¼\",\"link\":\"/question/vue/08\"},{\"text\":\"å‘½ä»¤å¼ç»„ä»¶å®è·µ\",\"link\":\"/question/vue/09\"},{\"text\":\"å…ƒç´ å…±äº«æ•ˆæœ\",\"link\":\"/question/vue/10\"},{\"text\":\"css-in-js\",\"link\":\"/question/vue/11\"},{\"text\":\"æŒ‡ä»¤å¼é¢„è§ˆç»„ä»¶\",\"link\":\"/question/vue/12\"},{\"text\":\"å…¨å±€ç»„ä»¶çš„ ts ç±»å‹æç¤º\",\"link\":\"/question/vue/13\"},{\"text\":\"hå‡½æ•°æ¸²æŸ“æ’æ§½\",\"link\":\"/question/vue/14\"},{\"text\":\"å°è£…æ¨¡æ€æ¡†\",\"link\":\"/question/vue/15\"}]}]}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>