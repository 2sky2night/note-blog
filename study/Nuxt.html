<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nuxt.js | Kinght的小屋</title>
    <meta name="description" content="A VitePress site">
    <link rel="preload stylesheet" href="/note-blog/assets/style.aee24150.css" as="style">
    
    <script type="module" src="/note-blog/assets/app.3b321d73.js"></script>
    <link rel="preload" href="/note-blog/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/note-blog/assets/chunks/framework.f98883f0.js">
    <link rel="modulepreload" href="/note-blog/assets/chunks/theme.c99ef25d.js">
    <link rel="modulepreload" href="/note-blog/assets/chunks/giscus-2a044aea.497f0bd4.js">
    <link rel="modulepreload" href="/note-blog/assets/study_Nuxt.md.63aac670.lean.js">
    <link rel="icon" type="image/svg+xml" href="/icon/vite.svg">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-80a8ecb8><!--[--><!--]--><!--[--><span tabindex="-1" data-v-5d1f4d31></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-5d1f4d31> Skip to content </a><!--]--><!----><header class="VPNav" data-v-80a8ecb8 data-v-d76b8b84><div class="VPNavBar has-sidebar" data-v-d76b8b84 data-v-0e557797><div class="container" data-v-0e557797><div class="title" data-v-0e557797><div class="VPNavBarTitle has-sidebar" data-v-0e557797 data-v-684e05bc><a class="title" href="/note-blog/" data-v-684e05bc><!--[--><!--]--><!----><!--[-->Kinght的小屋<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-0e557797><div class="curtain" data-v-0e557797></div><div class="content-body" data-v-0e557797><!--[--><!--]--><div class="VPNavBarSearch search" data-v-0e557797><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-0e557797 data-v-91f2b859><span id="main-nav-aria-label" class="visually-hidden" data-v-91f2b859>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/note-blog/guide.html" tabindex="0" data-v-91f2b859 data-v-4c8233c7><!--[--><span data-v-4c8233c7>开始</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/note-blog/study.html" tabindex="0" data-v-91f2b859 data-v-4c8233c7><!--[--><span data-v-4c8233c7>学习</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-91f2b859 data-v-2505eafb><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-2505eafb><span class="text" data-v-2505eafb><!----><span data-v-2505eafb>八股</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-2505eafb><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-2505eafb><div class="VPMenu" data-v-2505eafb data-v-c68a7715><div class="items" data-v-c68a7715><!--[--><!--[--><div class="VPMenuLink" data-v-c68a7715 data-v-d8b54ed1><a class="VPLink link" href="/note-blog/interview/html.html" data-v-d8b54ed1><!--[-->HTML<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-c68a7715 data-v-d8b54ed1><a class="VPLink link" href="/note-blog/interview/css.html" data-v-d8b54ed1><!--[-->CSS<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-c68a7715 data-v-d8b54ed1><a class="VPLink link" href="/note-blog/interview/js.html" data-v-d8b54ed1><!--[-->JS<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-c68a7715 data-v-d8b54ed1><a class="VPLink link" href="/note-blog/interview/ts.html" data-v-d8b54ed1><!--[-->TS<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-c68a7715 data-v-d8b54ed1><a class="VPLink link" href="/note-blog/interview/other.html" data-v-d8b54ed1><!--[-->其他<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/note-blog/question.html" tabindex="0" data-v-91f2b859 data-v-4c8233c7><!--[--><span data-v-4c8233c7>踩过的坑</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-0e557797 data-v-de4e22d9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-de4e22d9 data-v-030fe3a0 data-v-014ad383><span class="check" data-v-014ad383><span class="icon" data-v-014ad383><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-030fe3a0><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-030fe3a0><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-0e557797 data-v-8392895e data-v-2505eafb><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-2505eafb><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-2505eafb><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-2505eafb><div class="VPMenu" data-v-2505eafb data-v-c68a7715><!----><!--[--><!--[--><!----><div class="group" data-v-8392895e><div class="item appearance" data-v-8392895e><p class="label" data-v-8392895e>Appearance</p><div class="appearance-action" data-v-8392895e><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-8392895e data-v-030fe3a0 data-v-014ad383><span class="check" data-v-014ad383><span class="icon" data-v-014ad383><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-030fe3a0><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-030fe3a0><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-0e557797 data-v-5a5d550b><span class="container" data-v-5a5d550b><span class="top" data-v-5a5d550b></span><span class="middle" data-v-5a5d550b></span><span class="bottom" data-v-5a5d550b></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-80a8ecb8 data-v-e9fd9911><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-e9fd9911><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-e9fd9911><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-e9fd9911>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-e9fd9911 data-v-75385524><button data-v-75385524>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-80a8ecb8 data-v-69fb9f58><div class="curtain" data-v-69fb9f58></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-69fb9f58><span class="visually-hidden" id="sidebar-aria-label" data-v-69fb9f58> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-69fb9f58><section class="VPSidebarItem level-0 has-active" data-v-69fb9f58 data-v-d0912435><!----><div class="items" data-v-d0912435><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d0912435 data-v-d0912435><div class="item" data-v-d0912435><div class="indicator" data-v-d0912435></div><a class="VPLink link link" href="/note-blog/study/Nest.html" data-v-d0912435><!--[--><p class="text" data-v-d0912435>Nest</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d0912435 data-v-d0912435><div class="item" data-v-d0912435><div class="indicator" data-v-d0912435></div><a class="VPLink link link" href="/note-blog/study/Next.html" data-v-d0912435><!--[--><p class="text" data-v-d0912435>Next</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d0912435 data-v-d0912435><div class="item" data-v-d0912435><div class="indicator" data-v-d0912435></div><a class="VPLink link link" href="/note-blog/study/Node.html" data-v-d0912435><!--[--><p class="text" data-v-d0912435>Node</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d0912435 data-v-d0912435><div class="item" data-v-d0912435><div class="indicator" data-v-d0912435></div><a class="VPLink link link" href="/note-blog/study/Nuxt.html" data-v-d0912435><!--[--><p class="text" data-v-d0912435>Nuxt</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d0912435 data-v-d0912435><div class="item" data-v-d0912435><div class="indicator" data-v-d0912435></div><a class="VPLink link link" href="/note-blog/study/React.html" data-v-d0912435><!--[--><p class="text" data-v-d0912435>React</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d0912435 data-v-d0912435><div class="item" data-v-d0912435><div class="indicator" data-v-d0912435></div><a class="VPLink link link" href="/note-blog/study/Vitepress.html" data-v-d0912435><!--[--><p class="text" data-v-d0912435>Vitepress</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-80a8ecb8 data-v-c2d39941><div class="VPDoc has-sidebar has-aside" data-v-c2d39941 data-v-05ecd897><!--[--><!--]--><div class="container" data-v-05ecd897><div class="aside" data-v-05ecd897><div class="aside-curtain" data-v-05ecd897></div><div class="aside-container" data-v-05ecd897><div class="aside-content" data-v-05ecd897><div class="VPDocAside" data-v-05ecd897 data-v-15ee8eb8><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-15ee8eb8 data-v-1d4a8cd0><div class="content" data-v-1d4a8cd0><div class="outline-marker" data-v-1d4a8cd0></div><div class="outline-title" role="heading" aria-level="2" data-v-1d4a8cd0>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-1d4a8cd0><span class="visually-hidden" id="doc-outline-aria-label" data-v-1d4a8cd0> Table of Contents for current page </span><ul class="root" data-v-1d4a8cd0 data-v-ef13fba0><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-15ee8eb8></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-05ecd897><div class="content-container" data-v-05ecd897><!--[--><!--]--><!----><main class="main" data-v-05ecd897><div style="position:relative;" class="vp-doc _note-blog_study_Nuxt" data-v-05ecd897><div><h1 id="nuxt" tabindex="-1">Nuxt <a class="header-anchor" href="#nuxt" aria-label="Permalink to &quot;Nuxt&quot;">​</a></h1><p>​ Nuxt 是一个基于 Vue3 的服务端渲染的框架。</p><p>​ 服务端渲染需要做的是就是接收请求，获取数据，根据模板与数据拼接渲染 html 字符串，响应 html 字符串，交给客户端渲染剩余页面。</p><p>​ 但 Nuxt 也不是严格意义上的服务端渲染，而是<code>同构渲染（预渲染）</code>，也就是首屏渲染是 Nuxt 应用通过消耗服务器资源，将该页面模板的 html 字符串响应给客户端，而后续的路由切换流程就是普通的 SPA 一致了。</p><p>​ Nuxt 应用在被访问时的基本流程：服务端根据请求路径和 pages 文件结构匹配路由，将命中的路由组件，编译成 js 文件并执行，预渲染为 html 字符串。客户端获取到后又会执行依次相关组件的 js 文件（<strong>也就是首屏渲染时，程序会执行两次</strong>）。在该 html 字符串中不仅包含该页面的资源，还包含了整个 Web 应用相关的资源都响应给客户端（如 Vue-Router、Vuex）等，后续路由更新可以通过加载对应路由组件，通过 JS 驱动整个页面了。</p><h1 id="一、起步" tabindex="-1">一、起步 <a class="header-anchor" href="#一、起步" aria-label="Permalink to &quot;一、起步&quot;">​</a></h1><h2 id="_1-创建-nuxt-项目" tabindex="-1">1.创建 Nuxt 项目 <a class="header-anchor" href="#_1-创建-nuxt-项目" aria-label="Permalink to &quot;1.创建 Nuxt 项目&quot;">​</a></h2><p>创建项目的学习文档:<a href="https://juejin.cn/post/7165527740781690916#heading-6" target="_blank" rel="noreferrer">https://juejin.cn/post/7165527740781690916#heading-6</a></p><h3 id="_1-使用官方命令创建项目-不建议" tabindex="-1">1.使用官方命令创建项目（不建议） <a class="header-anchor" href="#_1-使用官方命令创建项目-不建议" aria-label="Permalink to &quot;1.使用官方命令创建项目（不建议）&quot;">​</a></h3><p>使用命令创建新 Nuxt 项目:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">pnpm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">dlx</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">nuxi@latest</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">init</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">project-nam</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">pnpm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">dlx</span><span style="color:#24292E;"> </span><span style="color:#032F62;">nuxi@latest</span><span style="color:#24292E;"> </span><span style="color:#032F62;">init</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">project-nam</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span></span></code></pre></div><h3 id="_2-直接下载模板项目创建项目" tabindex="-1">2.直接下载模板项目创建项目 <a class="header-anchor" href="#_2-直接下载模板项目创建项目" aria-label="Permalink to &quot;2.直接下载模板项目创建项目&quot;">​</a></h3><h4 id="_1-使用模板项目来开始项目的编写" tabindex="-1">1.使用模板项目来开始项目的编写 <a class="header-anchor" href="#_1-使用模板项目来开始项目的编写" aria-label="Permalink to &quot;1.使用模板项目来开始项目的编写&quot;">​</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">clone</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-b</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">v3</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">https://gitee.com/2xx/starter.git</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">clone</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-b</span><span style="color:#24292E;"> </span><span style="color:#032F62;">v3</span><span style="color:#24292E;"> </span><span style="color:#032F62;">https://gitee.com/2xx/starter.git</span></span></code></pre></div><h4 id="_2-直接下载项目模板包" tabindex="-1">2.直接下载项目模板包 <a class="header-anchor" href="#_2-直接下载项目模板包" aria-label="Permalink to &quot;2.直接下载项目模板包&quot;">​</a></h4><p>第二种方式比较简单粗暴，直接下载脚手架中使用的模板，下载地址【<a href="https://link.juejin.cn/?target=https%3A%2F%2Fcodeload.github.com%2Fnuxt%2Fstarter%2Ftar.gz%2Frefs%2Fheads%2Fv3" target="_blank" rel="noreferrer">codeload.github.com/nuxt/starte…</a>】，然后解压就可以了，与第一种方式得到的最终效果是一致的。</p><h4 id="_3-直接从-0-搭建" tabindex="-1">3.直接从 0 搭建 <a class="header-anchor" href="#_3-直接从-0-搭建" aria-label="Permalink to &quot;3.直接从 0 搭建&quot;">​</a></h4><p>如果第二种也不能下载的话，可以尝试第三种，就是复制粘贴模板中的代码，直接依次在根目录下创建下面这些文件并粘贴即可：</p><h5 id="package-json" tabindex="-1">package.json <a class="header-anchor" href="#package-json" aria-label="Permalink to &quot;package.json&quot;">​</a></h5><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;private&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;scripts&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;build&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;nuxt build&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;dev&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;nuxt dev&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;generate&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;nuxt generate&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;preview&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;nuxt preview&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;postinstall&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;nuxt prepare&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;devDependencies&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;nuxt&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;3.0.0-rc.13&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;private&quot;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;scripts&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;build&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;nuxt build&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;dev&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;nuxt dev&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;generate&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;nuxt generate&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;preview&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;nuxt preview&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;postinstall&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;nuxt prepare&quot;</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;devDependencies&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;nuxt&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;3.0.0-rc.13&quot;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h5 id="gitignore" tabindex="-1">.gitignore <a class="header-anchor" href="#gitignore" aria-label="Permalink to &quot;.gitignore&quot;">​</a></h5><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">node_modules</span></span>
<span class="line"><span style="color:#e1e4e8;">*.log*</span></span>
<span class="line"><span style="color:#e1e4e8;">.nuxt</span></span>
<span class="line"><span style="color:#e1e4e8;">.nitro</span></span>
<span class="line"><span style="color:#e1e4e8;">.cache</span></span>
<span class="line"><span style="color:#e1e4e8;">.output</span></span>
<span class="line"><span style="color:#e1e4e8;">.env</span></span>
<span class="line"><span style="color:#e1e4e8;">dist</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">node_modules</span></span>
<span class="line"><span style="color:#24292e;">*.log*</span></span>
<span class="line"><span style="color:#24292e;">.nuxt</span></span>
<span class="line"><span style="color:#24292e;">.nitro</span></span>
<span class="line"><span style="color:#24292e;">.cache</span></span>
<span class="line"><span style="color:#24292e;">.output</span></span>
<span class="line"><span style="color:#24292e;">.env</span></span>
<span class="line"><span style="color:#24292e;">dist</span></span></code></pre></div><h5 id="app-vue" tabindex="-1">app.vue <a class="header-anchor" href="#app-vue" aria-label="Permalink to &quot;app.vue&quot;">​</a></h5><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#FDAEB7;font-style:italic;">NuxtWelcome</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#B31D28;font-style:italic;">NuxtWelcome</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h5 id="nuxt-config-ts" tabindex="-1">nuxt.config.ts <a class="header-anchor" href="#nuxt-config-ts" aria-label="Permalink to &quot;nuxt.config.ts&quot;">​</a></h5><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// https://v3.nuxtjs.org/api/configuration/nuxt.config</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">defineNuxtConfig</span><span style="color:#E1E4E8;">({});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// https://v3.nuxtjs.org/api/configuration/nuxt.config</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">defineNuxtConfig</span><span style="color:#24292E;">({});</span></span></code></pre></div><h5 id="tsconfig-json" tabindex="-1">tsconfig.json <a class="header-anchor" href="#tsconfig-json" aria-label="Permalink to &quot;tsconfig.json&quot;">​</a></h5><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// https://v3.nuxtjs.org/concepts/typescript</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;extends&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;./.nuxt/tsconfig.json&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// https://v3.nuxtjs.org/concepts/typescript</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;extends&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;./.nuxt/tsconfig.json&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h5 id="🍗-安装依赖" tabindex="-1">🍗 安装依赖 <a class="header-anchor" href="#🍗-安装依赖" aria-label="Permalink to &quot;🍗 安装依赖&quot;">​</a></h5><p>选择自己的包管理工具安装依赖</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">bash复制代码#</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">yarn</span></span>
<span class="line"><span style="color:#B392F0;">yarn</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># npm</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># pnpm</span></span>
<span class="line"><span style="color:#B392F0;">pnpm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--shamefully-hoist</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">bash复制代码#</span><span style="color:#24292E;"> </span><span style="color:#032F62;">yarn</span></span>
<span class="line"><span style="color:#6F42C1;">yarn</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># npm</span></span>
<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># pnpm</span></span>
<span class="line"><span style="color:#6F42C1;">pnpm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--shamefully-hoist</span></span></code></pre></div><h3 id="错误-1" tabindex="-1">错误 1 <a class="header-anchor" href="#错误-1" aria-label="Permalink to &quot;错误 1&quot;">​</a></h3><p>​ 执行上述命令出现错误：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">[13:58:05]  ERROR  Error: Failed to download template from registry: request to https://raw.githubusercontent.com/nuxt/starter/templates/templates/v3.json failed, reason: connect ECONNREFUSED 127.0.0.1:443</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">[13:58:05]  ERROR  Error: Failed to download template from registry: request to https://raw.githubusercontent.com/nuxt/starter/templates/templates/v3.json failed, reason: connect ECONNREFUSED 127.0.0.1:443</span></span></code></pre></div><p>则为主机连不上 DNS 的错误，需要修改 dns 配置</p><p>在 windows 主机上:<code>C:\Windows\System32\drivers\etc</code></p><p>使用记事本方式打开 <code>hosts</code> 文件，并在文件里面的最底部加上</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">185.199.108.133 raw.githubusercontent.com</span></span>
<span class="line"><span style="color:#e1e4e8;">185.199.108.133:443 raw.githubusercontent.com</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">185.199.108.133 raw.githubusercontent.com</span></span>
<span class="line"><span style="color:#24292e;">185.199.108.133:443 raw.githubusercontent.com</span></span></code></pre></div><p>保存即可。</p><h2 id="_2-nuxt-的项目结构" tabindex="-1">2.Nuxt 的项目结构 <a class="header-anchor" href="#_2-nuxt-的项目结构" aria-label="Permalink to &quot;2.Nuxt 的项目结构&quot;">​</a></h2><h3 id="assets" tabindex="-1">assets <a class="header-anchor" href="#assets" aria-label="Permalink to &quot;assets&quot;">​</a></h3><p>​ assets 用来存放静态资源。</p><h4 id="_1-将-css-应用到整个项目中" tabindex="-1">1.将 css 应用到整个项目中 <a class="header-anchor" href="#_1-将-css-应用到整个项目中" aria-label="Permalink to &quot;1.将 css 应用到整个项目中&quot;">​</a></h4><ol><li>在 assets/css 中创建 common.css 文件（common.css 为实例文件）</li><li>在 nuxt.config.ts 中配置</li></ol><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// https://nuxt.com/docs/api/configuration/nuxt-config</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">defineNuxtConfig</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  css: [</span><span style="color:#9ECBFF;">&quot;assets/css/common.css&quot;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// https://nuxt.com/docs/api/configuration/nuxt-config</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">defineNuxtConfig</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  css: [</span><span style="color:#032F62;">&quot;assets/css/common.css&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><h3 id="pages" tabindex="-1">pages <a class="header-anchor" href="#pages" aria-label="Permalink to &quot;pages&quot;">​</a></h3><p>​ Nuxt 中的前端路由以 pages 文件结构来配置路由的。想要应用支持路由，需要在入口文件中添加<code>nuxt-page</code>组件，即可作为整个路由的入口。</p><p>pages 中的文件结构</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">index.vue  // 对应路径 &quot;/&quot;</span></span>
<span class="line"><span style="color:#e1e4e8;">user</span></span>
<span class="line"><span style="color:#e1e4e8;">	edit.vue // 对应路径 &quot;/user/edit&quot;</span></span>
<span class="line"><span style="color:#e1e4e8;">my</span></span>
<span class="line"><span style="color:#e1e4e8;">	info.vue // 对应路径 &quot;/my/info&quot;</span></span>
<span class="line"><span style="color:#e1e4e8;">	info</span></span>
<span class="line"><span style="color:#e1e4e8;">		something.vue // 对应路径 &quot;/my/info/something&quot;</span></span>
<span class="line"><span style="color:#e1e4e8;">post</span></span>
<span class="line"><span style="color:#e1e4e8;">	[id].vue // 对应路径 &quot;/post/:id&quot;</span></span>
<span class="line"><span style="color:#e1e4e8;">my.vue // 对应路径 &quot;/my&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">index.vue  // 对应路径 &quot;/&quot;</span></span>
<span class="line"><span style="color:#24292e;">user</span></span>
<span class="line"><span style="color:#24292e;">	edit.vue // 对应路径 &quot;/user/edit&quot;</span></span>
<span class="line"><span style="color:#24292e;">my</span></span>
<span class="line"><span style="color:#24292e;">	info.vue // 对应路径 &quot;/my/info&quot;</span></span>
<span class="line"><span style="color:#24292e;">	info</span></span>
<span class="line"><span style="color:#24292e;">		something.vue // 对应路径 &quot;/my/info/something&quot;</span></span>
<span class="line"><span style="color:#24292e;">post</span></span>
<span class="line"><span style="color:#24292e;">	[id].vue // 对应路径 &quot;/post/:id&quot;</span></span>
<span class="line"><span style="color:#24292e;">my.vue // 对应路径 &quot;/my&quot;</span></span></code></pre></div><h4 id="_1-路由入口" tabindex="-1">1.路由入口 <a class="header-anchor" href="#_1-路由入口" aria-label="Permalink to &quot;1.路由入口&quot;">​</a></h4><p>​ <code>nuxt-page</code>和<code>router-view</code>差不多</p><h4 id="_2-声明式导航" tabindex="-1">2.声明式导航 <a class="header-anchor" href="#_2-声明式导航" aria-label="Permalink to &quot;2.声明式导航&quot;">​</a></h4><p>​ <code>nuxt-link</code>可以进行客户端渲染式的导航，<code>nuxt-link</code>可以在页面不刷新的情况下（不过会发送请求加载该页面的 js 文件进行渲染，默认是<code>懒加载</code>）进行路由页面切换。<code>nuxt-link</code>和<code>router-link</code>一致。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">&lt;nuxt-link to=&quot;/post/1&quot;&gt;文章&lt;/nuxt-link&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">&lt;nuxt-link to=&quot;/post/1&quot;&gt;文章&lt;/nuxt-link&gt;</span></span></code></pre></div><h4 id="_3-编程式导航" tabindex="-1">3.编程式导航 <a class="header-anchor" href="#_3-编程式导航" aria-label="Permalink to &quot;3.编程式导航&quot;">​</a></h4><p>​ useRouter、useRoute 可以直接使用无需引入。</p><h4 id="_3-路由中间件" tabindex="-1">3.路由中间件 <a class="header-anchor" href="#_3-路由中间件" aria-label="Permalink to &quot;3.路由中间件&quot;">​</a></h4><p>​ 路由守卫被路由中间件替代，代指在前端路由跳转前、后需要执行的回调。路由中间件在根目录下创建<code>middleware</code>文件夹。</p><p>中间件有三种：</p><h5 id="_1-全局中间件" tabindex="-1"><strong>1.全局中间件</strong> <a class="header-anchor" href="#_1-全局中间件" aria-label="Permalink to &quot;**1.全局中间件**&quot;">​</a></h5><p>​ 若文件名称带有.global 的后缀，则为全局守卫，每次路由更改时会自动执行回调。</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// test.global.ts</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">defineNuxtRouteMiddleware</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">to</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">from</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(to.path);</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// test.global.ts</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">defineNuxtRouteMiddleware</span><span style="color:#24292E;">((</span><span style="color:#E36209;">to</span><span style="color:#24292E;">, </span><span style="color:#E36209;">from</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(to.path);</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><h5 id="_2-命名中间件" tabindex="-1"><strong>2.命名中间件</strong> <a class="header-anchor" href="#_2-命名中间件" aria-label="Permalink to &quot;**2.命名中间件**&quot;">​</a></h5><p>​ 可以指定某些路由执行中间件。</p><p>定义:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// auth.ts</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">defineNuxtRouteMiddleware</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">to</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">from</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// isAuthenticated() is an example method verifying if a user is authenticated</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">isAuthenticated</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> store.islogin;</span></span>
<span class="line"><span style="color:#E1E4E8;">  };</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#B392F0;">isAuthenticated</span><span style="color:#E1E4E8;">() </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">navigateTo</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;/login&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// auth.ts</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">defineNuxtRouteMiddleware</span><span style="color:#24292E;">((</span><span style="color:#E36209;">to</span><span style="color:#24292E;">, </span><span style="color:#E36209;">from</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// isAuthenticated() is an example method verifying if a user is authenticated</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">isAuthenticated</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> store.islogin;</span></span>
<span class="line"><span style="color:#24292E;">  };</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#6F42C1;">isAuthenticated</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">navigateTo</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;/login&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><p>使用:</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;需要鉴权的页面&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">lang</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;ts&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">setup</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#6A737D;">// 定义路由元数据 === route.meta</span></span>
<span class="line"><span style="color:#B392F0;">definePageMeta</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 每次进入该路由时会执行的auth.ts路由守卫的回调</span></span>
<span class="line"><span style="color:#E1E4E8;">  middleware: </span><span style="color:#9ECBFF;">&quot;auth&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;需要鉴权的页面&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">lang</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;ts&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setup</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#6A737D;">// 定义路由元数据 === route.meta</span></span>
<span class="line"><span style="color:#6F42C1;">definePageMeta</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 每次进入该路由时会执行的auth.ts路由守卫的回调</span></span>
<span class="line"><span style="color:#24292E;">  middleware: </span><span style="color:#032F62;">&quot;auth&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h5 id="_3-匿名-或内联-路由中间件" tabindex="-1">3.匿名(或内联)路由中间件 <a class="header-anchor" href="#_3-匿名-或内联-路由中间件" aria-label="Permalink to &quot;3.匿名(或内联)路由中间件&quot;">​</a></h5><p>​ 直接在使用它们的页面中定义。</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;需要鉴权的页面&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">lang</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;ts&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">setup</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#6A737D;">// 定义路由元数据 === route.meta</span></span>
<span class="line"><span style="color:#B392F0;">definePageMeta</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">middleware</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">to</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">from</span><span style="color:#E1E4E8;">) {},</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;需要鉴权的页面&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">lang</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;ts&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setup</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#6A737D;">// 定义路由元数据 === route.meta</span></span>
<span class="line"><span style="color:#6F42C1;">definePageMeta</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">middleware</span><span style="color:#24292E;">(</span><span style="color:#E36209;">to</span><span style="color:#24292E;">, </span><span style="color:#E36209;">from</span><span style="color:#24292E;">) {},</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h4 id="_4-路由元数据" tabindex="-1">4.路由元数据 <a class="header-anchor" href="#_4-路由元数据" aria-label="Permalink to &quot;4.路由元数据&quot;">​</a></h4><p>Nuxt 通过 <a href="https://nuxt.com.cn/docs/api/utils/define-page-meta" target="_blank" rel="noreferrer"><code>definePageMeta</code></a>,可以向 route.mate 一样配置路由的元数据。</p><h4 id="_5-路由参数校验" tabindex="-1">5.路由参数校验 <a class="header-anchor" href="#_5-路由参数校验" aria-label="Permalink to &quot;5.路由参数校验&quot;">​</a></h4><p>Nuxt 通过 <a href="https://nuxt.com.cn/docs/api/utils/define-page-meta" target="_blank" rel="noreferrer"><code>definePageMeta</code></a>中的&#39; validate &#39;属性在你想要验证的每个页面中提供路由验证。</p><p><code>validate</code>属性接受<code>route</code>作为参数。您可以返回一个布尔值，以确定这是否是要用此页呈现的有效路由。如果您返回<code>false</code>，并且无法找到另一个匹配项，这将导致 404 错误。你也可以直接返回一个带有 <code>statusCode</code>/<code>statusMessage</code>的对象，以立即响应一个错误(其他匹配不会被检查)。</p><p>如果您有一个更复杂的用例，那么您可以使用匿名路由中间件。</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">// pages/post/[id].vue</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">setup</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">definePageMeta</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">validate</span><span style="color:#E1E4E8;">: </span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">route</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">nuxtApp</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useNuxtApp</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// Check if the id is made up of digits</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#DBEDFF;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">^</span><span style="color:#79B8FF;">\d</span><span style="color:#F97583;">+$</span><span style="color:#9ECBFF;">/</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">test</span><span style="color:#E1E4E8;">(route.params.id);</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">// pages/post/[id].vue</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setup</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;">definePageMeta</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">validate</span><span style="color:#24292E;">: </span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">route</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">nuxtApp</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useNuxtApp</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// Check if the id is made up of digits</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#032F62;"> /</span><span style="color:#D73A49;">^</span><span style="color:#005CC5;">\d</span><span style="color:#D73A49;">+$</span><span style="color:#032F62;">/</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">test</span><span style="color:#24292E;">(route.params.id);</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h4 id="_6-配置路由表-不太行" tabindex="-1">6.配置路由表(不太行？) <a class="header-anchor" href="#_6-配置路由表-不太行" aria-label="Permalink to &quot;6.配置路由表(不太行？)&quot;">​</a></h4><p>​ 可以对现有的路由表来进行自定义配置路由表</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// app/router.option.ts</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">type</span><span style="color:#E1E4E8;"> { RouteRecordRaw } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;vue-router&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">routes</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">RouteRecordRaw</span><span style="color:#E1E4E8;">[] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> [];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">routes</span><span style="color:#E1E4E8;">: (</span><span style="color:#FFAB70;">_routes</span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">RouteRecordRaw</span><span style="color:#E1E4E8;">[]) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> [</span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;">_routes, </span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;">routes];</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// app/router.option.ts</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">type</span><span style="color:#24292E;"> { RouteRecordRaw } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;vue-router&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">routes</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">RouteRecordRaw</span><span style="color:#24292E;">[] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">routes</span><span style="color:#24292E;">: (</span><span style="color:#E36209;">_routes</span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">RouteRecordRaw</span><span style="color:#24292E;">[]) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> [</span><span style="color:#D73A49;">...</span><span style="color:#24292E;">_routes, </span><span style="color:#D73A49;">...</span><span style="color:#24292E;">routes];</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre></div><h3 id="nuxt-config-ts-1" tabindex="-1">nuxt.config.ts <a class="header-anchor" href="#nuxt-config-ts-1" aria-label="Permalink to &quot;nuxt.config.ts&quot;">​</a></h3><p>​ 配置 Nuxt 应用的文件。</p><h4 id="_1-可以注入数据到根应用中。" tabindex="-1">1.可以注入数据到根应用中。 <a class="header-anchor" href="#_1-可以注入数据到根应用中。" aria-label="Permalink to &quot;1.可以注入数据到根应用中。&quot;">​</a></h4><p>​ runTimeConfig 可以配置全局访问的数据</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">runtimeConfig</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 这些数据只能在服务端中可以访问</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">apiSecret</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;123&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 这些数据只能在服务端中可以访问</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">public</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">apiBase</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;/api&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">runtimeConfig</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 这些数据只能在服务端中可以访问</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">apiSecret</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;123&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 这些数据只能在服务端中可以访问</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">public</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">apiBase</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;/api&#39;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span></code></pre></div><p>利用<code>useRunTimeConfig</code>来读取这些数据</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">config</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useRuntimeConfig</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(config.apiSecret);</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(config.public.apiBase);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">config</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useRuntimeConfig</span><span style="color:#24292E;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(config.apiSecret);</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(config.public.apiBase);</span></span></code></pre></div><p>可以使用<code>.env</code>文件来覆盖这些数据的中值</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">// .env</span></span>
<span class="line"><span style="color:#e1e4e8;">// 使用若runtimeConfig定义了key，则会被env文件覆盖，否则为undefined。</span></span>
<span class="line"><span style="color:#e1e4e8;">NUXT_KEY=200</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">// .env</span></span>
<span class="line"><span style="color:#24292e;">// 使用若runtimeConfig定义了key，则会被env文件覆盖，否则为undefined。</span></span>
<span class="line"><span style="color:#24292e;">NUXT_KEY=200</span></span></code></pre></div><h4 id="_2-可以配置-ts-编译器" tabindex="-1">2.可以配置 ts 编译器 <a class="header-anchor" href="#_2-可以配置-ts-编译器" aria-label="Permalink to &quot;2.可以配置 ts 编译器&quot;">​</a></h4><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// https://nuxt.com/docs/api/configuration/nuxt-config</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">defineNuxtConfig</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  typescript: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    typeCheck: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    tsConfig: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      compilerOptions: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// 配置自动引入组件的类型声明</span></span>
<span class="line"><span style="color:#E1E4E8;">        types: [</span><span style="color:#9ECBFF;">&quot;./.nuxt/components.d.ts&quot;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// https://nuxt.com/docs/api/configuration/nuxt-config</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">defineNuxtConfig</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  typescript: {</span></span>
<span class="line"><span style="color:#24292E;">    typeCheck: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    tsConfig: {</span></span>
<span class="line"><span style="color:#24292E;">      compilerOptions: {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// 配置自动引入组件的类型声明</span></span>
<span class="line"><span style="color:#24292E;">        types: [</span><span style="color:#032F62;">&quot;./.nuxt/components.d.ts&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><h4 id="_3-开发者工具" tabindex="-1">3.开发者工具 <a class="header-anchor" href="#_3-开发者工具" aria-label="Permalink to &quot;3.开发者工具&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// https://nuxt.com/docs/api/configuration/nuxt-config</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">defineNuxtConfig</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  devtools: { enabled: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// https://nuxt.com/docs/api/configuration/nuxt-config</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">defineNuxtConfig</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  devtools: { enabled: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><h3 id="app-vue-1" tabindex="-1">app.vue <a class="header-anchor" href="#app-vue-1" aria-label="Permalink to &quot;app.vue&quot;">​</a></h3><p>​ app.vue，前端项目的入口文件，整个网页视图靠<code>app.vue</code>文件的内容来渲染。Nuxt 项目无<code>main.ts</code>（Vue 项目的启动文件），Nuxt 会在幕后帮我们执行内置的程序入口文件，无须我们配置。</p><h3 id="components" tabindex="-1">components <a class="header-anchor" href="#components" aria-label="Permalink to &quot;components&quot;">​</a></h3><p>​ 项目中，可重用的组件目录。在 Nuxt 中，组件不需要引入、注册，可以直接使用，因为 Nuxt 集成了自动导入组件、api 的插件。</p><p>​ 若像让组件获取 ts 类型支持，请看 ts.config.json 部分。</p><p>​ 例如：在 components 中创建 NButton.vue 文件，然后即可在任意组件中直接使用，并且可以直接获得 TS 的类型支持。</p><h3 id="ts-config-json" tabindex="-1">ts.config.json <a class="header-anchor" href="#ts-config-json" aria-label="Permalink to &quot;ts.config.json&quot;">​</a></h3><p>​ 为 Nuxt 项目的 ts 配置项，如果想要让 TS 编译器识别出组件的类型可以在这里配置<code>types</code>选项。</p><p>​ <code>.nuxt/components.d.ts</code>为 Nuxt 项目自动导入组件插件生成的类型声明的文件。</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// https://nuxt.com/docs/guide/concepts/typescript</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;extends&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;./.nuxt/tsconfig.json&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;compilerOptions&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;types&quot;</span><span style="color:#E1E4E8;">: [</span><span style="color:#9ECBFF;">&quot;./.nuxt/components.d.ts&quot;</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// https://nuxt.com/docs/guide/concepts/typescript</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;extends&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;./.nuxt/tsconfig.json&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;compilerOptions&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;types&quot;</span><span style="color:#24292E;">: [</span><span style="color:#032F62;">&quot;./.nuxt/components.d.ts&quot;</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="server" tabindex="-1">server <a class="header-anchor" href="#server" aria-label="Permalink to &quot;server&quot;">​</a></h3><p>​ server 为 Nuxt 应用的服务器部分，提供 HTTP 服务。可以采用 Nuxt 内置的接口编写方式，<s>也可以使用 express、nest、koa 等服务端框架接入 Nuxt 应用来编写后端接口</s>。</p><h3 id="app-config-ts" tabindex="-1">app.config.ts <a class="header-anchor" href="#app-config-ts" aria-label="Permalink to &quot;app.config.ts&quot;">​</a></h3><p>​ app.config.ts 和 nuxt.config.ts 中<code>runTimeConfig</code>差不多的功能，可以为其配置一些全局的环境变量数据。在应用中可以通过<code>useAppConfig</code>钩子来获取这些数据。</p><h1 id="二、网络请求" tabindex="-1">二、网络请求 <a class="header-anchor" href="#二、网络请求" aria-label="Permalink to &quot;二、网络请求&quot;">​</a></h1><h2 id="_1-配置代理服务器" tabindex="-1">1.配置代理服务器 <a class="header-anchor" href="#_1-配置代理服务器" aria-label="Permalink to &quot;1.配置代理服务器&quot;">​</a></h2><h3 id="_1-使用-nuxt-中间件拦截网络请求并转发" tabindex="-1">1.使用 Nuxt 中间件拦截网络请求并转发 <a class="header-anchor" href="#_1-使用-nuxt-中间件拦截网络请求并转发" aria-label="Permalink to &quot;1.使用 Nuxt 中间件拦截网络请求并转发&quot;">​</a></h3><h4 id="依赖" tabindex="-1">依赖 <a class="header-anchor" href="#依赖" aria-label="Permalink to &quot;依赖&quot;">​</a></h4><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">npm i h3</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">npm i h3</span></span></code></pre></div><h4 id="定义中间件" tabindex="-1">定义中间件 <a class="header-anchor" href="#定义中间件" aria-label="Permalink to &quot;定义中间件&quot;">​</a></h4><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// server\middleware\apiProxy.ts</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { defineMiddleware, useBody, useCookies, useMethod, useQuery } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;h3&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">API_BASE</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;/api&quot;</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// 拦截客户端 api</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">BACKEND_URL</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;https://v1.hitokoto.cn&quot;</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// 指向了后端服务地址</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 拦截api操作，转发后端接口</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">defineMiddleware</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">async</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">e</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (e.req.url.</span><span style="color:#B392F0;">startsWith</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">API_BASE</span><span style="color:#E1E4E8;">)) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// const url = BACKEND_URL + e.req.url;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">url</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">BACKEND_URL</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">method</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useMethod</span><span style="color:#E1E4E8;">(e);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">query</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useQuery</span><span style="color:#E1E4E8;">(e);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">headers</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> e.req.headers </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">any</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">cookies</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useCookies</span><span style="color:#E1E4E8;">(e);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">token</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> cookies[</span><span style="color:#9ECBFF;">&quot;token&quot;</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">token </span><span style="color:#F97583;">||</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">token.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">delete</span><span style="color:#E1E4E8;"> headers[</span><span style="color:#9ECBFF;">&quot;token&quot;</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    headers[</span><span style="color:#9ECBFF;">&quot;token&quot;</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> cookies[</span><span style="color:#9ECBFF;">&quot;token&quot;</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> body </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 若非get请求需要携带请求体数据</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#9ECBFF;">&quot;GET&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">!==</span><span style="color:#E1E4E8;"> method.</span><span style="color:#B392F0;">toUpperCase</span><span style="color:#E1E4E8;">()) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      body </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useBody</span><span style="color:#E1E4E8;">(e);</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">$fetch</span><span style="color:#E1E4E8;">(url, {</span></span>
<span class="line"><span style="color:#E1E4E8;">      method,</span></span>
<span class="line"><span style="color:#E1E4E8;">      params: query,</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// headers,</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// body,</span></span>
<span class="line"><span style="color:#E1E4E8;">    });</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// server\middleware\apiProxy.ts</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { defineMiddleware, useBody, useCookies, useMethod, useQuery } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;h3&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">API_BASE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;/api&quot;</span><span style="color:#24292E;">; </span><span style="color:#6A737D;">// 拦截客户端 api</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">BACKEND_URL</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;https://v1.hitokoto.cn&quot;</span><span style="color:#24292E;">; </span><span style="color:#6A737D;">// 指向了后端服务地址</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 拦截api操作，转发后端接口</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">defineMiddleware</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">async</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">e</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (e.req.url.</span><span style="color:#6F42C1;">startsWith</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">API_BASE</span><span style="color:#24292E;">)) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// const url = BACKEND_URL + e.req.url;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">url</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">BACKEND_URL</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">method</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useMethod</span><span style="color:#24292E;">(e);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">query</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useQuery</span><span style="color:#24292E;">(e);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">headers</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> e.req.headers </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">any</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">cookies</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useCookies</span><span style="color:#24292E;">(e);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">token</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> cookies[</span><span style="color:#032F62;">&quot;token&quot;</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">token </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">!</span><span style="color:#24292E;">token.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">delete</span><span style="color:#24292E;"> headers[</span><span style="color:#032F62;">&quot;token&quot;</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    headers[</span><span style="color:#032F62;">&quot;token&quot;</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> cookies[</span><span style="color:#032F62;">&quot;token&quot;</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> body </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 若非get请求需要携带请求体数据</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">&quot;GET&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">!==</span><span style="color:#24292E;"> method.</span><span style="color:#6F42C1;">toUpperCase</span><span style="color:#24292E;">()) {</span></span>
<span class="line"><span style="color:#24292E;">      body </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useBody</span><span style="color:#24292E;">(e);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">$fetch</span><span style="color:#24292E;">(url, {</span></span>
<span class="line"><span style="color:#24292E;">      method,</span></span>
<span class="line"><span style="color:#24292E;">      params: query,</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// headers,</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// body,</span></span>
<span class="line"><span style="color:#24292E;">    });</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><p><code>API_BASE</code>为拦截客户端的接口请求。判断为<code>API_BASE</code>开头在 nuxt 服务器拦截代理。</p><h4 id="使用" tabindex="-1">使用 <a class="header-anchor" href="#使用" aria-label="Permalink to &quot;使用&quot;">​</a></h4><p>pages 页面调用 localhost 即可，以<code>API_BASE</code>开头</p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">setup</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">pending</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">data</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">error</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useFetch</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;/api/getUser&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setup</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">pending</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">data</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">error</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useFetch</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;/api/getUser&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h3 id="_2-配置-nuxt-config-ts-转发请求" tabindex="-1">2.配置 nuxt.config.ts 转发请求 <a class="header-anchor" href="#_2-配置-nuxt-config-ts-转发请求" aria-label="Permalink to &quot;2.配置 nuxt.config.ts 转发请求&quot;">​</a></h3><h4 id="_1-devserver" tabindex="-1">1.devServer <a class="header-anchor" href="#_1-devserver" aria-label="Permalink to &quot;1.devServer&quot;">​</a></h4><p>​ 用来给网页请求做转发代理的</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">nitro</span><span style="color:#E1E4E8;">:{</span></span>
<span class="line"><span style="color:#E1E4E8;"> 	</span><span style="color:#6A737D;">// 网络请求的代理</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">devProxy</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&#39;/api&#39;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        target: </span><span style="color:#9ECBFF;">&#39;http://127.0.0.1:3001/api&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 这个api请求路径前缀为服务器自定义的</span></span>
<span class="line"><span style="color:#E1E4E8;">        changeOrigin: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        prependPath: </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">nitro</span><span style="color:#24292E;">:{</span></span>
<span class="line"><span style="color:#24292E;"> 	</span><span style="color:#6A737D;">// 网络请求的代理</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">devProxy</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&#39;/api&#39;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">        target: </span><span style="color:#032F62;">&#39;http://127.0.0.1:3001/api&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 这个api请求路径前缀为服务器自定义的</span></span>
<span class="line"><span style="color:#24292E;">        changeOrigin: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        prependPath: </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="_2-routerules" tabindex="-1">2.routeRules <a class="header-anchor" href="#_2-routerules" aria-label="Permalink to &quot;2.routeRules&quot;">​</a></h4><p>​ 若为客户端渲染则不需要配置<code>routeRules</code>，不需要转发请求。服务端渲染则需要配置该选项。</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">nitro</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 若nuxt为ssr模式，需要配置服务端代理转发，</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 当nuxt服务器接收到api开头的请求时转发给目标服务器</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">routeRules</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// 当请求路径包含/api</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// 会将请求转发给对应服务器，发请求时会将**部分拼接为目标url发送请求。</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&#39;/api/**&#39;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        proxy: </span><span style="color:#9ECBFF;">&#39;http://127.0.0.1:3001/api/**&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">// 这个api请求路径前缀为服务器自定义的</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">nitro</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 若nuxt为ssr模式，需要配置服务端代理转发，</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 当nuxt服务器接收到api开头的请求时转发给目标服务器</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">routeRules</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 当请求路径包含/api</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 会将请求转发给对应服务器，发请求时会将**部分拼接为目标url发送请求。</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&#39;/api/**&#39;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">        proxy: </span><span style="color:#032F62;">&#39;http://127.0.0.1:3001/api/**&#39;</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">// 这个api请求路径前缀为服务器自定义的</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span></code></pre></div><h4 id="_3-完整配置项" tabindex="-1">3.完整配置项 <a class="header-anchor" href="#_3-完整配置项" aria-label="Permalink to &quot;3.完整配置项&quot;">​</a></h4><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// https://nuxt.com/docs/api/configuration/nuxt-config</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">defineNuxtConfig</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  nitro: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 若nuxt为ssr模式，需要配置服务端代理转发，</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 当nuxt服务器接收到api开头的请求时转发给目标服务器</span></span>
<span class="line"><span style="color:#E1E4E8;">    routeRules: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// 当请求路径包含/api</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// 会将请求转发给对应服务器</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&quot;/api/**&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        proxy: </span><span style="color:#9ECBFF;">&quot;http://127.0.0.1:3001/api/**&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 这个api请求路径前缀为服务器自定义的</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// 网络请求的代理</span></span>
<span class="line"><span style="color:#E1E4E8;">    devProxy: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">&quot;/api&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        target: </span><span style="color:#9ECBFF;">&quot;http://127.0.0.1:3001/api&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 这个api请求路径前缀为服务器自定义的</span></span>
<span class="line"><span style="color:#E1E4E8;">        changeOrigin: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        prependPath: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// https://nuxt.com/docs/api/configuration/nuxt-config</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">defineNuxtConfig</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  nitro: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 若nuxt为ssr模式，需要配置服务端代理转发，</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 当nuxt服务器接收到api开头的请求时转发给目标服务器</span></span>
<span class="line"><span style="color:#24292E;">    routeRules: {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 当请求路径包含/api</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 会将请求转发给对应服务器</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&quot;/api/**&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">        proxy: </span><span style="color:#032F62;">&quot;http://127.0.0.1:3001/api/**&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 这个api请求路径前缀为服务器自定义的</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 网络请求的代理</span></span>
<span class="line"><span style="color:#24292E;">    devProxy: {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">&quot;/api&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">        target: </span><span style="color:#032F62;">&quot;http://127.0.0.1:3001/api&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 这个api请求路径前缀为服务器自定义的</span></span>
<span class="line"><span style="color:#24292E;">        changeOrigin: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        prependPath: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><h2 id="_2-获取数据" tabindex="-1">2.获取数据 <a class="header-anchor" href="#_2-获取数据" aria-label="Permalink to &quot;2.获取数据&quot;">​</a></h2><p>​ 网络请求方面最好不要选择未被 nuxt 封装过的 api，因为在首屏渲染时页面会被执行两次，一次是服务端预渲染，一次是客户端执行时也会执行，使用未被处理的 api，所以会导致发送两次请求。</p><p>例如使用 axios 会导致请求会发送两次，一次是后端，一次是前端</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> axios </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;axios&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">axios.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;http://127.0.0.1:3001/api/hello&quot;</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">then</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">result</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(result);</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> axios </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;axios&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">axios.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;http://127.0.0.1:3001/api/hello&quot;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">((</span><span style="color:#E36209;">result</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(result);</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><h3 id="_1-usefetch" tabindex="-1">1.useFetch <a class="header-anchor" href="#_1-usefetch" aria-label="Permalink to &quot;1.useFetch&quot;">​</a></h3><p>​ useFetch 可以保证不会发送多余的请求。</p><p>​ 返回值:</p><ol><li>data:请求结果</li><li>pending：还在等待响应结果？</li><li>refresh：</li><li>error：获取数据失败，返回错误对象</li></ol><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> { </span><span style="color:#79B8FF;">data</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">useFetch</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;http://127.0.0.1:3001/api/hello&quot;</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> { </span><span style="color:#005CC5;">data</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">await</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">useFetch</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;http://127.0.0.1:3001/api/hello&quot;</span><span style="color:#24292E;">);</span></span></code></pre></div><h3 id="_2-useasyncdata" tabindex="-1">2.useAsyncData <a class="header-anchor" href="#_2-useasyncdata" aria-label="Permalink to &quot;2.useAsyncData&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">useAsyncData</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;获取随机10条文章&quot;</span><span style="color:#E1E4E8;">, () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 此处可以编写自己的逻辑</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">$fetch</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;/navigation/web/random?number=10&quot;</span><span style="color:#E1E4E8;">, {</span></span>
<span class="line"><span style="color:#E1E4E8;">    method: </span><span style="color:#9ECBFF;">&quot;get&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    baseURL: </span><span style="color:#9ECBFF;">&quot;https://nav.zym88.cn/api&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  }).</span><span style="color:#B392F0;">then</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">res</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(res);</span></span>
<span class="line"><span style="color:#E1E4E8;">  });</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">useAsyncData</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;获取随机10条文章&quot;</span><span style="color:#24292E;">, () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 此处可以编写自己的逻辑</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">$fetch</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;/navigation/web/random?number=10&quot;</span><span style="color:#24292E;">, {</span></span>
<span class="line"><span style="color:#24292E;">    method: </span><span style="color:#032F62;">&quot;get&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    baseURL: </span><span style="color:#032F62;">&quot;https://nav.zym88.cn/api&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  }).</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">((</span><span style="color:#E36209;">res</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(res);</span></span>
<span class="line"><span style="color:#24292E;">  });</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><p>​ 本质上 useFetch 和 useAsyncData 没有什么区别，useAsyncData 可以在请求的时候编写自己的业务逻辑</p><h3 id="_3-uselazyfetch" tabindex="-1">3.useLazyFetch <a class="header-anchor" href="#_3-uselazyfetch" aria-label="Permalink to &quot;3.useLazyFetch&quot;">​</a></h3><p>​ 该 api 的网络请求不会阻塞首屏渲染的响应时间。上述方式都是需要请求完成并渲染之后才会响应模板给客户端，该 api 是异步的请求数据，不会阻塞整个首屏的渲染，和 suspence 组件类似。</p><h1 id="三、seo-与-meta" tabindex="-1">三、SEO 与 Meta <a class="header-anchor" href="#三、seo-与-meta" aria-label="Permalink to &quot;三、SEO 与 Meta&quot;">​</a></h1><p>​ meta 标签的作用：<a href="https://developer.mozilla.org/zh-CN/docs/Learn/HTML/Introduction_to_HTML/The_head_metadata_in_HTML" target="_blank" rel="noreferrer">https://developer.mozilla.org/zh-CN/docs/Learn/HTML/Introduction_to_HTML/The_head_metadata_in_HTML</a></p><h2 id="_1-全局配置" tabindex="-1">1.全局配置 <a class="header-anchor" href="#_1-全局配置" aria-label="Permalink to &quot;1.全局配置&quot;">​</a></h2><p>​ 全局配置网页元信息 meta，可以在 nuxt.config.ts 中进行配置网页的 meta 元信息。</p><p><a href="https://nuxt.com.cn/docs/api/nuxt-config" target="_blank" rel="noreferrer">更多配置项</a></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// https://nuxt.com/docs/api/configuration/nuxt-config</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">defineNuxtConfig</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  app: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    head: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      title: </span><span style="color:#9ECBFF;">&quot;你好！&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      charset: </span><span style="color:#9ECBFF;">&quot;utf-8&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      viewport: </span><span style="color:#9ECBFF;">&quot;width=device-width, initial-scale=1&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      meta: [</span></span>
<span class="line"><span style="color:#E1E4E8;">        {</span></span>
<span class="line"><span style="color:#E1E4E8;">          name: </span><span style="color:#9ECBFF;">&quot;keywords&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          content: </span><span style="color:#9ECBFF;">&quot;Nuxt3,Study,Record&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">        {</span></span>
<span class="line"><span style="color:#E1E4E8;">          name: </span><span style="color:#9ECBFF;">&quot;description&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">          content: </span><span style="color:#9ECBFF;">&quot;A Project About Study Nuxt 3.&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        },</span></span>
<span class="line"><span style="color:#E1E4E8;">      ],</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// https://nuxt.com/docs/api/configuration/nuxt-config</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">defineNuxtConfig</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  app: {</span></span>
<span class="line"><span style="color:#24292E;">    head: {</span></span>
<span class="line"><span style="color:#24292E;">      title: </span><span style="color:#032F62;">&quot;你好！&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      charset: </span><span style="color:#032F62;">&quot;utf-8&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      viewport: </span><span style="color:#032F62;">&quot;width=device-width, initial-scale=1&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      meta: [</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">          name: </span><span style="color:#032F62;">&quot;keywords&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          content: </span><span style="color:#032F62;">&quot;Nuxt3,Study,Record&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">          name: </span><span style="color:#032F62;">&quot;description&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          content: </span><span style="color:#032F62;">&quot;A Project About Study Nuxt 3.&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">      ],</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><h2 id="_2-页面独享配置" tabindex="-1">2.页面独享配置 <a class="header-anchor" href="#_2-页面独享配置" aria-label="Permalink to &quot;2.页面独享配置&quot;">​</a></h2><p>​ 对某个页面单独配置 head 中的信息可以使用<code>useHead</code></p><h3 id="usehead" tabindex="-1">useHead <a class="header-anchor" href="#usehead" aria-label="Permalink to &quot;useHead&quot;">​</a></h3><p>​ useHead 可以为某个页面单独配置 meta、头部、body、加载外部资源等信息。<a href="https://unhead.unjs.io/" target="_blank" rel="noreferrer">useHead 相关配置项</a></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">useHead</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  title: title.value,</span></span>
<span class="line"><span style="color:#E1E4E8;">  meta: [</span></span>
<span class="line"><span style="color:#E1E4E8;">    {</span></span>
<span class="line"><span style="color:#E1E4E8;">      name: </span><span style="color:#9ECBFF;">&quot;description&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      content: </span><span style="color:#9ECBFF;">&quot;这是学习Nuxt3框架的首页&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">  ],</span></span>
<span class="line"><span style="color:#E1E4E8;">  bodyAttrs: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    class: </span><span style="color:#9ECBFF;">&quot;dark&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  script: [],</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">useHead</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  title: title.value,</span></span>
<span class="line"><span style="color:#24292E;">  meta: [</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">      name: </span><span style="color:#032F62;">&quot;description&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      content: </span><span style="color:#032F62;">&quot;这是学习Nuxt3框架的首页&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">  ],</span></span>
<span class="line"><span style="color:#24292E;">  bodyAttrs: {</span></span>
<span class="line"><span style="color:#24292E;">    class: </span><span style="color:#032F62;">&quot;dark&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  script: [],</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><h3 id="useseometa" tabindex="-1">useSeoMeta <a class="header-anchor" href="#useseometa" aria-label="Permalink to &quot;useSeoMeta&quot;">​</a></h3><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">setup</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">lang</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;ts&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">useSeoMeta</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  title: </span><span style="color:#9ECBFF;">&quot;我的神奇网站&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  ogTitle: </span><span style="color:#9ECBFF;">&quot;我的神奇网站&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  description: </span><span style="color:#9ECBFF;">&quot;这是我的神奇网站，让我来告诉你关于它的一切。&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  ogDescription: </span><span style="color:#9ECBFF;">&quot;这是我的神奇网站，让我来告诉你关于它的一切。&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  ogImage: </span><span style="color:#9ECBFF;">&quot;https://example.com/image.png&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  twitterCard: </span><span style="color:#9ECBFF;">&quot;summary_large_image&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setup</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">lang</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;ts&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;">useSeoMeta</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  title: </span><span style="color:#032F62;">&quot;我的神奇网站&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  ogTitle: </span><span style="color:#032F62;">&quot;我的神奇网站&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  description: </span><span style="color:#032F62;">&quot;这是我的神奇网站，让我来告诉你关于它的一切。&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  ogDescription: </span><span style="color:#032F62;">&quot;这是我的神奇网站，让我来告诉你关于它的一切。&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  ogImage: </span><span style="color:#032F62;">&quot;https://example.com/image.png&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  twitterCard: </span><span style="color:#032F62;">&quot;summary_large_image&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h3 id="支持响应式数据" tabindex="-1">支持响应式数据 <a class="header-anchor" href="#支持响应式数据" aria-label="Permalink to &quot;支持响应式数据&quot;">​</a></h3><p>​ useHead 是支持配置响应式数据的，要想让 head 中的信息可以响应式更新，需要提前定义好一个 computed 依赖的数据。</p><p>​ 官方说无论是<strong>computed</strong>还是<strong>getter</strong>函数都是可以的，不过推荐使用<strong>getter</strong>函数</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">title</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;首页&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#6A737D;">// computed</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">_title</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">computed</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> title.value);</span></span>
<span class="line"><span style="color:#6A737D;">// getter函数</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">_titleGet</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> title.value;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">setTimeout</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  title.value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;123&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}, </span><span style="color:#79B8FF;">1000</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">useHead</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  title: _titleGet,</span></span>
<span class="line"><span style="color:#E1E4E8;">  meta: [</span></span>
<span class="line"><span style="color:#E1E4E8;">    {</span></span>
<span class="line"><span style="color:#E1E4E8;">      name: </span><span style="color:#9ECBFF;">&quot;description&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      content: </span><span style="color:#9ECBFF;">&quot;这是学习Nuxt3框架的首页&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">  ],</span></span>
<span class="line"><span style="color:#E1E4E8;">  bodyAttrs: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    class: </span><span style="color:#9ECBFF;">&quot;dark&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  script: [],</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">title</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;首页&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#6A737D;">// computed</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">_title</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">computed</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> title.value);</span></span>
<span class="line"><span style="color:#6A737D;">// getter函数</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">_titleGet</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> title.value;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">setTimeout</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  title.value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;123&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}, </span><span style="color:#005CC5;">1000</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">useHead</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  title: _titleGet,</span></span>
<span class="line"><span style="color:#24292E;">  meta: [</span></span>
<span class="line"><span style="color:#24292E;">    {</span></span>
<span class="line"><span style="color:#24292E;">      name: </span><span style="color:#032F62;">&quot;description&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      content: </span><span style="color:#032F62;">&quot;这是学习Nuxt3框架的首页&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">  ],</span></span>
<span class="line"><span style="color:#24292E;">  bodyAttrs: {</span></span>
<span class="line"><span style="color:#24292E;">    class: </span><span style="color:#032F62;">&quot;dark&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  script: [],</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><h2 id="_3-路由与网页标题" tabindex="-1">3. 路由与网页标题 <a class="header-anchor" href="#_3-路由与网页标题" aria-label="Permalink to &quot;3. 路由与网页标题&quot;">​</a></h2><p>​ 通常，我们想根据不同的页面呈现不同的网页标题。</p><h3 id="方式-1" tabindex="-1">方式 1 <a class="header-anchor" href="#方式-1" aria-label="Permalink to &quot;方式 1&quot;">​</a></h3><p>​ useHead 钩子可以在任意地方使用，所以我们可以：</p><ol><li>在路由组件中通过<code>definePageMate</code>配置路由的元信息</li><li>在全局路由中间件中通过读取路由元信息<code>to.meta.title</code></li><li>通过<code>useHead</code>配置页面的 title。</li></ol><h3 id="方式-2" tabindex="-1">方式 2 <a class="header-anchor" href="#方式-2" aria-label="Permalink to &quot;方式 2&quot;">​</a></h3><p>​ 1.在对应页面通过<code>useHead</code>配置该页面的 title</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// pages/post.vue</span></span>
<span class="line"><span style="color:#B392F0;">useHead</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  title: </span><span style="color:#9ECBFF;">&quot;文章&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// pages/post.vue</span></span>
<span class="line"><span style="color:#6F42C1;">useHead</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  title: </span><span style="color:#032F62;">&quot;文章&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><ol start="2"><li>在 app 根组件中，通过标题模板来配置网页标题，根组件优先级更高。</li></ol><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">// app.vue（根组件）</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">nuxt-page</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">nuxt-page</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">setup</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">lang</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;ts&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#B392F0;">useHead</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">titleTemplate</span><span style="color:#E1E4E8;">: (</span><span style="color:#FFAB70;">titleChunk</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(titleChunk);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">siteName</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Nuxt3学习&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> titleChunk </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`${</span><span style="color:#E1E4E8;">titleChunk</span><span style="color:#9ECBFF;">} - ${</span><span style="color:#E1E4E8;">siteName</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> siteName;</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">// app.vue（根组件）</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">nuxt-page</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">nuxt-page</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setup</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">lang</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;ts&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;">useHead</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">titleTemplate</span><span style="color:#24292E;">: (</span><span style="color:#E36209;">titleChunk</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(titleChunk);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">siteName</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;Nuxt3学习&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> titleChunk </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`${</span><span style="color:#24292E;">titleChunk</span><span style="color:#032F62;">} - ${</span><span style="color:#24292E;">siteName</span><span style="color:#032F62;">}`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> siteName;</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-05ecd897 data-v-905f25ab><!--[--><!--[--><!--[--><!--[--><!----><!--]--><!--]--><!--]--><!--]--><div class="edit-info" data-v-905f25ab><!----><div class="last-updated" data-v-905f25ab><p class="VPLastUpdated" data-v-905f25ab data-v-c5641641>最近更新时间: <time datetime="2024-01-07T03:13:57.000Z" data-v-c5641641></time></p></div></div><nav class="prev-next" data-v-905f25ab><div class="pager" data-v-905f25ab><a class="pager-link prev" href="/note-blog/study/Node.html" data-v-905f25ab><span class="desc" data-v-905f25ab>上一篇</span><span class="title" data-v-905f25ab>Node</span></a></div><div class="pager" data-v-905f25ab><a class="pager-link next" href="/note-blog/study/React.html" data-v-905f25ab><span class="desc" data-v-905f25ab>下一篇</span><span class="title" data-v-905f25ab>React</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"index.md\":\"530fe7e1\",\"interview_css_containing-block.md\":\"e826a983\",\"guide.md\":\"90170c6a\",\"interview.md\":\"480a6f43\",\"interview_css.md\":\"13046855\",\"interview_js_async-sync.md\":\"60654c0e\",\"interview_js_module.md\":\"56deaa71\",\"interview_css_selector.md\":\"8f6e8fd0\",\"interview_css_margin-padding.md\":\"d24962f6\",\"interview_js_language.md\":\"eec0b814\",\"interview_js_cookie-session-token.md\":\"576df30c\",\"interview_html.md\":\"caca1d12\",\"question_css_01.md\":\"e49d4d9e\",\"interview_js_cors.md\":\"e2f13e48\",\"question_js_11.md\":\"3878ed7f\",\"interview_js_typeof-instanceof.md\":\"64a00930\",\"interview_html_async-load.md\":\"88940163\",\"interview_js_event-loop.md\":\"edc3c394\",\"question_js_05.md\":\"a26a9572\",\"interview_ts.md\":\"9468f2f1\",\"interview_js_class.md\":\"450e9ad3\",\"interview_js_call-apply-bind.md\":\"6005b5d3\",\"interview_html_doctype.md\":\"553bfbe1\",\"interview_html_src-href.md\":\"65659030\",\"interview_css_z-index.md\":\"0ba27ef7\",\"interview_js.md\":\"435d7d0e\",\"question_node_04.md\":\"ad7d460c\",\"interview_js_design-patterns.md\":\"23173411\",\"question_js_07.md\":\"e1a1cd11\",\"question_js_06.md\":\"d8a08038\",\"question_node_09.md\":\"c83859a2\",\"interview_js_prototype.md\":\"49f7321a\",\"interview_html_html5.md\":\"9c0420fb\",\"interview_js_requestanimation.md\":\"d4986650\",\"question_js_10.md\":\"f28f60bc\",\"question.md\":\"ebcad598\",\"question_js_08.md\":\"784193b0\",\"interview_other.md\":\"8afdd005\",\"question_node_03.md\":\"93b8cd53\",\"question_node_05.md\":\"5d090d74\",\"question_js_03.md\":\"e8006992\",\"question_node_06.md\":\"fc7c3455\",\"question_html_02.md\":\"1bf045ea\",\"question_js_02.md\":\"880e64c7\",\"interview_js_web-storage.md\":\"a899cc67\",\"question_node_08.md\":\"8591713f\",\"question_node_01.md\":\"e38cb5ed\",\"interview_js_web-worker.md\":\"4704d522\",\"question_node_02.md\":\"7a155841\",\"interview_js_element-views.md\":\"8e44cc69\",\"interview_js_var.md\":\"4dba008d\",\"question_js_12.md\":\"9008c9c2\",\"interview_js_type-conversion.md\":\"79aff1e5\",\"interview_js_copy.md\":\"c49fab46\",\"question_html_01.md\":\"14d0058e\",\"question_js_01.md\":\"5d44a274\",\"question_js_09.md\":\"f07e9d12\",\"question_vue_02.md\":\"2cfefe19\",\"interview_css_bfc.md\":\"89fa4e4d\",\"study.md\":\"580b47b0\",\"question_vue_05.md\":\"ed0f449b\",\"question_ts_01.md\":\"2a96686f\",\"question_vite_03.md\":\"cc1fac95\",\"question_vue_13.md\":\"c6a24618\",\"question_vue_03.md\":\"0a575346\",\"question_vite_02.md\":\"45e4b3ac\",\"question_other_02.md\":\"0503bc82\",\"question_other_04.md\":\"b20918fe\",\"question_vue_06.md\":\"9134da81\",\"question_ts_03.md\":\"a74d0b71\",\"question_vite_01.md\":\"af1648d3\",\"question_other_01.md\":\"ef47de5e\",\"question_ts_04.md\":\"a845184f\",\"question_ts_02.md\":\"7c883f01\",\"question_vue_09.md\":\"6c7e97aa\",\"question_css_02.md\":\"37893315\",\"question_js_04.md\":\"c040d730\",\"question_node_07.md\":\"d562a4a3\",\"question_vue_08.md\":\"a977f223\",\"question_vue_07.md\":\"143d40b7\",\"question_other_03.md\":\"0d9f884d\",\"question_vue_11.md\":\"191cc9f2\",\"question_vue_14.md\":\"7ba89fb8\",\"question_vue_10.md\":\"6f967ae1\",\"question_vue_01.md\":\"6852ed91\",\"question_vue_15.md\":\"3dfed57b\",\"question_vue_12.md\":\"b5d27b0d\",\"question_vite_04.md\":\"ee528d90\",\"question_vue_04.md\":\"f9401872\",\"interview_js_test.md\":\"db0b7b60\",\"study_nuxt.md\":\"63aac670\",\"study_vitepress.md\":\"c1401f7a\",\"study_node.md\":\"4fadfdf0\",\"study_next.md\":\"8eaf387f\",\"question_node_10.md\":\"56effab6\",\"study_nest.md\":\"a6f11113\",\"study_react.md\":\"7835338e\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Kinght的小屋\",\"description\":\"A VitePress site\",\"base\":\"/note-blog/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"lastUpdated\":{},\"search\":{\"provider\":\"local\"},\"lastUpdatedText\":\"最近更新时间\",\"docFooter\":{\"prev\":\"上一篇\",\"next\":\"下一篇\"},\"outline\":\"deep\",\"nav\":[{\"text\":\"开始\",\"link\":\"/guide\"},{\"text\":\"学习\",\"link\":\"/study\"},{\"text\":\"八股\",\"items\":[{\"text\":\"HTML\",\"link\":\"/interview/html\"},{\"text\":\"CSS\",\"link\":\"/interview/css\"},{\"text\":\"JS\",\"link\":\"/interview/js\"},{\"text\":\"TS\",\"link\":\"/interview/ts\"},{\"text\":\"其他\",\"link\":\"/interview/other\"}]},{\"text\":\"踩过的坑\",\"link\":\"/question\"}],\"sidebar\":{\"/study\":[{\"text\":\"Nest\",\"link\":\"/study/Nest\"},{\"text\":\"Next\",\"link\":\"/study/Next\"},{\"text\":\"Node\",\"link\":\"/study/Node\"},{\"text\":\"Nuxt\",\"link\":\"/study/Nuxt\"},{\"text\":\"React\",\"link\":\"/study/React\"},{\"text\":\"Vitepress\",\"link\":\"/study/Vitepress\"}],\"/interview/js\":[{\"text\":\"同步和异步\",\"link\":\"/interview/js/async-sync\"},{\"text\":\"call与apply与bind\",\"link\":\"/interview/js/call-apply-bind\"},{\"text\":\"Class\",\"link\":\"/interview/js/class\"},{\"text\":\"cookie与session与token\",\"link\":\"/interview/js/cookie-session-token\"},{\"text\":\"深浅拷贝\",\"link\":\"/interview/js/copy\"},{\"text\":\"同源策略\",\"link\":\"/interview/js/cors\"},{\"text\":\"设计模式\",\"link\":\"/interview/js/design-patterns\"},{\"text\":\"元素在视口的可见性\",\"link\":\"/interview/js/element-views\"},{\"text\":\"事件循环\",\"link\":\"/interview/js/event-loop\"},{\"text\":\"强弱类型语言\",\"link\":\"/interview/js/language\"},{\"text\":\"模块化\",\"link\":\"/interview/js/module\"},{\"text\":\"原型\",\"link\":\"/interview/js/prototype\"},{\"text\":\"requestAnimation\",\"link\":\"/interview/js/requestAnimation\"},{\"text\":\"手写专区\",\"link\":\"/interview/js/test\"},{\"text\":\"类型转换机制\",\"link\":\"/interview/js/type-conversion\"},{\"text\":\"typeof与instanceof\",\"link\":\"/interview/js/typeof-instanceof\"},{\"text\":\"声明变量的三种方式\",\"link\":\"/interview/js/var\"},{\"text\":\"Web Storage\",\"link\":\"/interview/js/web-storage\"},{\"text\":\"Web Worker\",\"link\":\"/interview/js/web-worker\"}],\"/interview/html\":[{\"text\":\"异步加载脚本\",\"link\":\"/interview/html/async-load\"},{\"text\":\"DOCTYPE的作用\",\"link\":\"/interview/html/doctype\"},{\"text\":\"HTML5新增\",\"link\":\"/interview/html/html5\"},{\"text\":\"src和href的区别\",\"link\":\"/interview/html/src-href\"}],\"/interview/css\":[{\"text\":\"BFC\",\"link\":\"/interview/css/bfc\"},{\"text\":\"包含块\",\"link\":\"/interview/css/containing-block\"},{\"text\":\"magrin的取值\",\"link\":\"/interview/css/margin-padding\"},{\"text\":\"CSS选择器\",\"link\":\"/interview/css/selector\"},{\"text\":\"层叠上下文\",\"link\":\"/interview/css/z-index\"}],\"/question\":[{\"text\":\"css\",\"items\":[{\"text\":\"字体描边\",\"link\":\"/question/css/01\"},{\"text\":\"骨架屏\",\"link\":\"/question/css/02\"}]},{\"text\":\"html\",\"items\":[{\"text\":\"限制文件域上传的类型\",\"link\":\"/question/html/01\"},{\"text\":\"img标签渲染svg\",\"link\":\"/question/html/02\"}]},{\"text\":\"js\",\"items\":[{\"text\":\"系统媒体控制\",\"link\":\"/question/js/01\"},{\"text\":\"浏览器调用输入输出接口\",\"link\":\"/question/js/02\"},{\"text\":\"字符与unicode\",\"link\":\"/question/js/03\"},{\"text\":\"Web Worker\",\"link\":\"/question/js/04\"},{\"text\":\"预览本地图片\",\"link\":\"/question/js/05\"},{\"text\":\"图片的原始尺寸\",\"link\":\"/question/js/06\"},{\"text\":\"拖拽上传\",\"link\":\"/question/js/07\"},{\"text\":\"TouchEvent获取手指相对元素的偏移量\",\"link\":\"/question/js/08\"},{\"text\":\"设计模式\",\"link\":\"/question/js/09\"},{\"text\":\"全屏\",\"link\":\"/question/js/10\"},{\"text\":\"给DOM绑定自定义事件\",\"link\":\"/question/js/11\"},{\"text\":\"PWA\",\"link\":\"/question/js/12\"}]},{\"text\":\"node\",\"items\":[{\"text\":\"响应体类型一览\",\"link\":\"/question/node/01\"},{\"text\":\"下载文件进度\",\"link\":\"/question/node/02\"},{\"text\":\"SSE(服务端推送)\",\"link\":\"/question/node/03\"},{\"text\":\"图片处理\",\"link\":\"/question/node/04\"},{\"text\":\"解析url编码\",\"link\":\"/question/node/05\"},{\"text\":\"__dirname not defined\",\"link\":\"/question/node/06\"},{\"text\":\"媒体流\",\"link\":\"/question/node/07\"},{\"text\":\"base64转图片\",\"link\":\"/question/node/08\"},{\"text\":\"HTTPS 🔒\",\"link\":\"/question/node/09\"},{\"text\":\"大文件上传\",\"link\":\"/question/node/10\"}]},{\"text\":\"other\",\"items\":[{\"text\":\"文件上传\",\"link\":\"/question/other/01\"},{\"text\":\"PE/PC端判断\",\"link\":\"/question/other/02\"},{\"text\":\"图片裁剪\",\"link\":\"/question/other/03\"},{\"text\":\"封装路由参数校验的钩子\",\"link\":\"/question/other/04\"}]},{\"text\":\"ts\",\"items\":[{\"text\":\"定义window扩展属性\",\"link\":\"/question/ts/01\"},{\"text\":\"TS类型工具\",\"link\":\"/question/ts/02\"},{\"text\":\"第三方库类型支持\",\"link\":\"/question/ts/03\"},{\"text\":\"TS编译JS打包\",\"link\":\"/question/ts/04\"}]},{\"text\":\"vite\",\"items\":[{\"text\":\"获取静态资源路径的函数\",\"link\":\"/question/vite/01\"},{\"text\":\"不同模式下启动项目\",\"link\":\"/question/vite/02\"},{\"text\":\"配置路径别名\",\"link\":\"/question/vite/03\"},{\"text\":\"项目规范化\",\"link\":\"/question/vite/04\"}]},{\"text\":\"vue\",\"items\":[{\"text\":\"封装轮播图组件\",\"link\":\"/question/vue/01\"},{\"text\":\"声明组件实例的类型\",\"link\":\"/question/vue/02\"},{\"text\":\"样式穿透\",\"link\":\"/question/vue/03\"},{\"text\":\"国际化i18n\",\"link\":\"/question/vue/04\"},{\"text\":\"封装模态框\",\"link\":\"/question/vue/05\"},{\"text\":\"JSX in Vue\",\"link\":\"/question/vue/06\"},{\"text\":\"封装鉴权操作组件/指令\",\"link\":\"/question/vue/07\"},{\"text\":\"路由模式\",\"link\":\"/question/vue/08\"},{\"text\":\"命令式组件实践\",\"link\":\"/question/vue/09\"},{\"text\":\"元素共享效果\",\"link\":\"/question/vue/10\"},{\"text\":\"css-in-js\",\"link\":\"/question/vue/11\"},{\"text\":\"指令式预览组件\",\"link\":\"/question/vue/12\"},{\"text\":\"全局组件的 ts 类型提示\",\"link\":\"/question/vue/13\"},{\"text\":\"h函数渲染插槽\",\"link\":\"/question/vue/14\"},{\"text\":\"封装模态框\",\"link\":\"/question/vue/15\"}]}]}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>